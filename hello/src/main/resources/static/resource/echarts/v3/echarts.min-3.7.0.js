(function(q,n){"object"===typeof exports&&"object"===typeof module?module.exports=n():"function"===typeof define&&define.amd?define([],n):"object"===typeof exports?exports.echarts=n():q.echarts=n()})(this,function(){return function(q){function n(m){if(a[m])return a[m].exports;var p=a[m]={exports:{},id:m,loaded:!1};q[m].call(p.exports,p,p.exports,n);p.loaded=!0;return p.exports}var a={};n.m=q;n.c=a;n.p="";return n(0)}([function(q,n,a){q.exports=a(1);a(116);a(142);a(149);a(158);a(162);a(172);a(196);a(208);a(229);a(233);a(237);a(254);a(260);a(267);a(273);a(277);a(286);a(290);a(293);a(316);a(322);a(323);a(324);a(334);a(301);a(338);a(351);a(238);a(294);a(354);a(365);a(369);a(370);a(383);a(398);a(404);a(407);a(410);a(419);a(431)},function(q,n,a){function m(b){return function(c,d,g){c=c&&c.toLowerCase();P.prototype[b].call(this,c,d,g)}}function p(){P.call(this)}function h(b,c,d){function g(b,c){return b.prio-c.prio}d=d||{};"string"===typeof c&&(c=na[c]);this._dom=b;b=this._zr=K.init(b,{renderer:d.renderer||"canvas",devicePixelRatio:d.devicePixelRatio,width:d.width,height:d.height});this._throttledZrFlush=O.throttle(G.bind(b.flush,b),17);this._theme=G.clone(c);this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new H;this._api=v(this);P.call(this);this._messageCenter=new p;this._initEvents();this.resize=G.bind(this.resize,this);this._pendingActions=[];Q(aa,g);Q(X,g);b.animation.on("frame",this._onframe,this);G.setAsPrimitive(this)}function l(b,c,d){var g=this._model,k=this._coordSysMgr.getCoordinateSystems(),t;c=N.parseFinder(g,c);for(var r=0;r<k.length;r++){var e=k[r];if(e[b]&&null!=(t=e[b](g,c,d)))return t}console.warn("No coordinate system that supports "+b+" found by the given finder.")}function f(b,c,d,g,k){function t(g){g&&g.__alive&&g[c]&&g[c](g.__model,r,b._api,d)}var r=b._model;if(g){var e={};e[g+"Id"]=d[g+"Id"];e[g+"Index"]=d[g+"Index"];e[g+"Name"]=d[g+"Name"];e={mainType:g,query:e};k&&(e.subType=k);r&&r.eachComponent(e,function(c,d){t(b["series"===g?"_chartsMap":"_componentsMap"][c.__viewId])},b)}else M(b._componentsViews.concat(b._chartsViews),t)}function e(b,c){var d=b.type,g=b.escapeConnect,k=Z[d],t=k.actionInfo,r=(t.update||"update").split(":"),e=r.pop(),r=null!=r[0]&&S(r[0]);this.__flagInMainProcess=!0;var a=[b],w=!1;b.batch&&(w=!0,a=G.map(b.batch,function(c){c=G.defaults(G.extend({},c),b);c.batch=null;return c}));var v=[],u,l="highlight"===d||"downplay"===d;M(a,function(b){u=(u=k.action(b,this._model,this._api))||G.extend({},b);u.type=t.event||u.type;v.push(u);l?f(this,e,b,"series"):r&&f(this,e,b,r.main,r.sub)},this);"none"===e||l||r||(this.__optionUpdated?(V.prepareAndUpdate.call(this,b),this.__optionUpdated=!1):V[e].call(this,b));u=w?{type:t.event||d,escapeConnect:g,batch:v}:v[0];this.__flagInMainProcess=!1;!c&&this._messageCenter.trigger(u.type,u)}function b(b){for(var c=this._pendingActions;c.length;){var d=c.shift();e.call(this,d,b)}}function d(b,c,d){var g=this._api;M(this._componentsViews,function(k){var t=k.__model;k[b](t,c,g,d);u(t,k)},this);c.eachSeries(function(k,t){var r=this._chartsMap[k.__viewId];r[b](k,c,g,d);u(k,r);w(k,r)},this);x(this._zr,c);M(ca,function(b){b(c,g)})}function c(b,c){for(var d="component"===b,g=d?this._componentsViews:this._chartsViews,k=d?this._componentsMap:this._chartsMap,t=this._zr,r=0;r<g.length;r++)g[r].__alive=!1;c[d?"eachComponent":"eachSeries"](function(b,r){if(d){if("series"===b)return}else r=b;var e="_ec_"+r.id+"_"+r.type,f=k[e];if(!f)if(f=S(r.type),f=d?I.getClass(f.main,f.sub):J.getClass(f.sub))f=new f,f.init(c,this._api),k[e]=f,g.push(f),t.add(f.group);else return;r.__viewId=f.__id=e;f.__alive=!0;f.__model=r;f.group.__ecComponentInfo={mainType:r.mainType,index:r.componentIndex}},this);for(r=0;r<g.length;){var e=g[r];e.__alive?r++:(t.remove(e.group),e.dispose(c,this._api),g.splice(r,1),delete k[e.__id],e.__id=e.group.__ecComponentInfo=null)}}function g(b,c){M(X,function(d){d.func(b,c)})}function r(b){var c={};b.eachSeries(function(b){var d=b.get("stack");b=b.getData();if(d&&"list"===b.type){var g=c[d];c.hasOwnProperty(d)&&g&&(b.stackedOn=g);c[d]=b}})}function k(b,c){var d=this._api;M(aa,function(g){g.isLayout&&g.func(b,d,c)})}function t(b,c,d){var g=this._api;b.clearColorPalette();b.eachSeries(function(b){b.clearColorPalette()});M(aa,function(k){d&&k.isLayout||k.func(b,g,c)})}function A(b,c){var d=this._api;M(this._componentsViews,function(g){var k=g.__model;g.render(k,b,d,c);u(k,g)},this);M(this._chartsViews,function(b){b.__alive=!1},this);b.eachSeries(function(g,k){var r=this._chartsMap[g.__viewId];r.__alive=!0;r.render(g,b,d,c);r.group.silent=!!g.get("silent");u(g,r);w(g,r)},this);x(this._zr,b);M(this._chartsViews,function(c){c.__alive||c.remove(b,d)},this)}function x(b,c){var d=b.storage,g=0;d.traverse(function(b){b.isGroup||g++});g>c.get("hoverLayerThreshold")&&!E.node&&d.traverse(function(b){b.isGroup||(b.useHoverLayer=!0)})}function w(b,c){var d=0;c.group.traverse(function(b){"group"===b.type||b.ignore||d++});var g=+b.get("progressive"),k=d>b.get("progressiveThreshold")&&g&&!E.node;k&&c.group.traverse(function(b){b.isGroup||(b.progressive=k?Math.floor(d++/g):-1,k&&b.stopAnimation(!0))});var r=b.get("blendMode")||null;!E.canvasSupported&&r&&"source-over"!==r&&console.warn("Only canvas support blendMode");c.group.traverse(function(b){b.isGroup||b.setStyle("blend",r)})}function u(b,c){var d=b.get("z"),g=b.get("zlevel");c.group.traverse(function(b){"group"!==b.type&&(null!=d&&(b.z=d),null!=g&&(b.zlevel=g))})}function v(b){var c=b._coordSysMgr;return G.extend(new B(b),{getCoordinateSystems:G.bind(c.getCoordinateSystems,c),getComponentByElement:function(c){for(;c;){var d=c.__ecComponentInfo;if(null!=d)return b._model.getComponent(d.mainType,d.index);c=c.parent}}})}function y(b){function c(b,d){for(var g=0;g<b.length;g++)b[g].__connectUpdateStatus=d}G.each(W,function(d,g){b._messageCenter.on(g,function(d){if(ka[b.group]&&0!==b.__connectUpdateStatus&&(!d||!d.escapeConnect)){var g=b.makeActionFromEvent(d),k=[];G.each(da,function(c){c!==b&&c.group===b.group&&k.push(c)});c(k,0);M(k,function(b){1!==b.__connectUpdateStatus&&b.dispatchAction(g)});c(k,2)}})})}var E=a(2),z=a(3),B=a(78),H=a(79),F=a(80),D=a(72),C=a(81),I=a(82),J=a(83),L=a(20),N=a(5),O=a(84),K=a(85),G=a(4),R=a(35),P=a(29),Q=a(89),M=G.each,S=D.parseClassType,Y=/^[a-zA-Z0-9_]+$/;p.prototype.on=m("on");p.prototype.off=m("off");p.prototype.one=m("one");G.mixin(p,P);n=h.prototype;n._onframe=function(){if(this.__optionUpdated){var c=this.__optionUpdated.silent;this.__flagInMainProcess=!0;V.prepareAndUpdate.call(this);this.__optionUpdated=this.__flagInMainProcess=!1;b.call(this,c);!c&&this.trigger("updated")}};n.getDom=function(){return this._dom};n.getZr=function(){return this._zr};n.setOption=function(c,d,g){G.assert(!this.__flagInMainProcess,"`setOption` should not be called during main process.");var k;G.isObject(d)&&(g=d.lazyUpdate,k=d.silent,d=d.notMerge);this.__flagInMainProcess=!0;if(!this._model||d){d=new F(this._api);var r=this._theme;(this._model=new z(null,null,r,d)).init(null,null,r,d)}this._model.setOption(c,ba);g?(this.__optionUpdated={silent:k},this.__flagInMainProcess=!1):(V.prepareAndUpdate.call(this),this._zr.flush(),this.__flagInMainProcess=this.__optionUpdated=!1,b.call(this,k),!k&&this.trigger("updated"))};n.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};n.getModel=function(){return this._model};n.getOption=function(){return this._model&&this._model.getOption()};n.getWidth=function(){return this._zr.getWidth()};n.getHeight=function(){return this._zr.getHeight()};n.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1};n.getRenderedCanvas=function(b){if(E.canvasSupported){b=b||{};b.pixelRatio=b.pixelRatio||1;b.backgroundColor=b.backgroundColor||this._model.get("backgroundColor");var c=this._zr,d=c.storage.getDisplayList();G.each(d,function(b){b.stopAnimation(!0)});return c.painter.getRenderedCanvas(b)}};n.getDataURL=function(b){b=b||{};var c=this._model,d=[],g=this;M(b.excludeComponents,function(b){c.eachComponent({mainType:b},function(b){b=g._componentsMap[b.__viewId];b.group.ignore||(d.push(b),b.group.ignore=!0)})});b=this.getRenderedCanvas(b).toDataURL("image/"+(b&&b.type||"png"));M(d,function(b){b.group.ignore=!1});return b};n.getConnectedDataURL=function(b){if(E.canvasSupported){var c=this.group,d=Math.min,g=Math.max;if(ka[c]){var k=Infinity,r=Infinity,t=-Infinity,e=-Infinity,f=[],a=b&&b.pixelRatio||1;G.each(da,function(a,w){if(a.group===c){var u=a.getRenderedCanvas(G.clone(b)),v=a.getDom().getBoundingClientRect();k=d(v.left,k);r=d(v.top,r);t=g(v.right,t);e=g(v.bottom,e);f.push({dom:u,left:v.left,top:v.top})}});var k=k*a,r=r*a,t=t*a,e=e*a,w=t-k,v=e-r,u=G.createCanvas();u.width=w;u.height=v;var l=K.init(u);M(f,function(b){b=new L.Image({style:{x:b.left*a-k,y:b.top*a-r,image:b.dom}});l.add(b)});l.refreshImmediately();return u.toDataURL("image/"+(b&&b.type||"png"))}return this.getDataURL(b)}};n.convertToPixel=G.curry(l,"convertToPixel");n.convertFromPixel=G.curry(l,"convertFromPixel");n.containPixel=function(b,c){var d;b=N.parseFinder(this._model,b);G.each(b,function(b,g){0<=g.indexOf("Models")&&G.each(b,function(b){var k=b.coordinateSystem;k&&k.containPoint?d|=!!k.containPoint(c):"seriesModels"===g?(k=this._chartsMap[b.__viewId])&&k.containPoint?d|=k.containPoint(c,b):console.warn(g+": "+(k?"The found component do not support containPoint.":"No view mapping to the found component.")):console.warn(g+": containPoint is not supported")},this)},this);return!!d};n.getVisual=function(b,c){b=N.parseFinder(this._model,b,{defaultMainType:"series"});var d=b.seriesModel;d||console.warn("There is no specified seires model");var d=d.getData(),g=b.hasOwnProperty("dataIndexInside")?b.dataIndexInside:b.hasOwnProperty("dataIndex")?d.indexOfRawIndex(b.dataIndex):null;return null!=g?d.getItemVisual(g,c):d.getVisual(c)};n.getViewOfComponentModel=function(b){return this._componentsMap[b.__viewId]};n.getViewOfSeriesModel=function(b){return this._chartsMap[b.__viewId]};var V={update:function(b){var c=this._model,d=this._api,k=this._coordSysMgr,e=this._zr;c&&(c.restoreData(),k.create(this._model,this._api),g.call(this,c,d),r.call(this,c),k.update(c,d),t.call(this,c,b),A.call(this,c,b),b=c.get("backgroundColor")||"transparent",k=e.painter,k.isSingleCanvas&&k.isSingleCanvas()?e.configLayer(0,{clearColor:b}):(E.canvasSupported||(k=R.parse(b),b=R.stringify(k,"rgb"),0===k[3]&&(b="transparent")),b.colorStops||b.image?(e.configLayer(0,{clearColor:b}),this.__hasGradientOrPatternBg=!0,this._dom.style.background="transparent"):(this.__hasGradientOrPatternBg&&e.configLayer(0,{clearColor:null}),this.__hasGradientOrPatternBg=!1,this._dom.style.background=b)),M(ca,function(b){b(c,d)}))},updateView:function(b){var c=this._model;c&&(c.eachSeries(function(b){b.getData().clearAllVisual()}),t.call(this,c,b),d.call(this,"updateView",c,b))},updateVisual:function(b){var c=this._model;c&&(c.eachSeries(function(b){b.getData().clearAllVisual()}),t.call(this,c,b,!0),d.call(this,"updateVisual",c,b))},updateLayout:function(b){var c=this._model;c&&(k.call(this,c,b),d.call(this,"updateLayout",c,b))},prepareAndUpdate:function(b){var d=this._model;c.call(this,"component",d);c.call(this,"chart",d);V.update.call(this,b)}};n.resize=function(c){G.assert(!this.__flagInMainProcess,"`resize` should not be called during main process.");this.__flagInMainProcess=!0;this._zr.resize(c);var d=this._model&&this._model.resetOption("media")?"prepareAndUpdate":"update";V[d].call(this);this._loadingFX&&this._loadingFX.resize();this.__flagInMainProcess=!1;c=c&&c.silent;b.call(this,c);!c&&this.trigger("updated")};n.showLoading=function(b,c){G.isObject(b)&&(c=b,b="");b=b||"default";this.hideLoading();if(ma[b]){var d=ma[b](this._api,c),g=this._zr;this._loadingFX=d;g.add(d)}else console.warn("Loading effects "+b+" not exists.")};n.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};n.makeActionFromEvent=function(b){var c=G.extend({},b);c.type=W[b.type];return c};n.dispatchAction=function(c,d){G.isObject(d)||(d={silent:!!d});Z[c.type]&&this._model&&(this.__flagInMainProcess?this._pendingActions.push(c):(e.call(this,c,d.silent),d.flush?this._zr.flush(!0):!1!==d.flush&&E.browser.weChat&&this._throttledZrFlush(),b.call(this,d.silent),!d.silent&&this.trigger("updated")))};n.on=m("on");n.off=m("off");n.one=m("one");var T="click dblclick mouseover mouseout mousemove mousedown mouseup globalout contextmenu".split(" ");n._initEvents=function(){M(T,function(b){this._zr.on(b,function(c){var d=this.getModel(),g=c.target,k;"globalout"===b?k={}:g&&null!=g.dataIndex?k=(d=g.dataModel||d.getSeriesByIndex(g.seriesIndex))&&d.getDataParams(g.dataIndex,g.dataType)||{}:g&&g.eventData&&(k=G.extend({},g.eventData));k&&(k.event=c,k.type=b,this.trigger(b,k))},this)},this);M(W,function(b,c){this._messageCenter.on(c,function(b){this.trigger(c,b)},this)},this)};n.isDisposed=function(){return this._disposed};n.clear=function(){this.setOption({series:[]},!0)};n.dispose=function(){if(this._disposed)console.warn("Instance "+this.id+" has been disposed");else{this._disposed=!0;var b=this._api,c=this._model;M(this._componentsViews,function(d){d.dispose(c,b)});M(this._chartsViews,function(d){d.dispose(c,b)});this._zr.dispose();delete da[this.id]}};G.mixin(h,P);var Z={},W={},X=[],ba=[],ca=[],aa=[],na={},ma={},da={},ka={},pa=new Date-0,qa=new Date-0,U={version:"3.7.0",dependencies:{zrender:"3.6.0"},init:function(b,c,d){if(K.version.replace(".","")-0<U.dependencies.zrender.replace(".","")-0)throw Error("ZRender "+K.version+" is too old for ECharts "+U.version+". Current version need ZRender "+U.dependencies.zrender+"+");if(!b)throw Error("Initialize failed: invalid dom.");var g=U.getInstanceByDom(b);if(g)return console.warn("There is a chart instance already initialized on the dom."),g;!G.isDom(b)||"CANVAS"===b.nodeName.toUpperCase()||(b.clientWidth||d&&null!=d.width)&&(b.clientHeight||d&&null!=d.height)||console.warn("Can't get dom width or height");c=new h(b,c,d);c.id="ec_"+pa++;da[c.id]=c;b.setAttribute?b.setAttribute("_echarts_instance_",c.id):b._echarts_instance_=c.id;y(c);return c},connect:function(b){if(G.isArray(b)){var c=b;b=null;G.each(c,function(c){null!=c.group&&(b=c.group)});b=b||"g_"+qa++;G.each(c,function(c){c.group=b})}ka[b]=!0;return b},disConnect:function(b){ka[b]=!1}};U.disconnect=U.disConnect;U.dispose=function(b){"string"===typeof b?b=da[b]:b instanceof h||(b=U.getInstanceByDom(b));b instanceof h&&!b.isDisposed()&&b.dispose()};U.getInstanceByDom=function(b){b=b.getAttribute?b.getAttribute("_echarts_instance_"):b._echarts_instance_;return da[b]};U.getInstanceById=function(b){return da[b]};U.registerTheme=function(b,c){na[b]=c};U.registerPreprocessor=function(b){ba.push(b)};U.registerProcessor=function(b,c){"function"===typeof b&&(c=b,b=1E3);if(isNaN(b))throw Error("Unkown processor priority");X.push({prio:b,func:c})};U.registerPostUpdate=function(b){ca.push(b)};U.registerAction=function(b,c,d){"function"===typeof c&&(d=c,c="");var g=G.isObject(b)?b.type:[b,b={event:c}][0];b.event=(b.event||g).toLowerCase();c=b.event;G.assert(Y.test(g)&&Y.test(c));Z[g]||(Z[g]={action:d,actionInfo:b});W[c]=g};U.registerCoordinateSystem=function(b,c){H.register(b,c)};U.getCoordinateSystemDimensions=function(b){if(b=H.get(b))return b.getDimensionsInfo?b.getDimensionsInfo():b.dimensions.slice()};U.registerLayout=function(b,c){"function"===typeof b&&(c=b,b=1E3);if(isNaN(b))throw Error("Unkown layout priority");aa.push({prio:b,func:c,isLayout:!0})};U.registerVisual=function(b,c){"function"===typeof b&&(c=b,b=3E3);if(isNaN(b))throw Error("Unkown visual priority");aa.push({prio:b,func:c})};U.registerLoading=function(b,c){ma[b]=c};U.extendComponentModel=function(b){return D.extend(b)};U.extendComponentView=function(b){return I.extend(b)};U.extendSeriesModel=function(b){return C.extend(b)};U.extendChartView=function(b){return J.extend(b)};U.setCanvasCreator=function(b){G.createCanvas=b};U.registerVisual(2E3,a(97));U.registerPreprocessor(a(98));U.registerLoading("default",a(100));U.registerAction({type:"highlight",event:"highlight",update:"highlight"},G.noop);U.registerAction({type:"downplay",event:"downplay",update:"downplay"},G.noop);U.zrender=K;U.List=a(101);U.Model=a(14);U.Axis=a(103);U.graphic=a(20);U.number=a(7);U.format=a(6);U.throttle=O.throttle;U.matrix=a(11);U.vector=a(10);U.color=a(35);U.util={};M("map each filter indexOf inherits reduce filter bind curry isArray isString isObject isFunction extend defaults clone merge".split(" "),function(b){U.util[b]=G[b]});U.helper=a(111);U.PRIORITY={PROCESSOR:{FILTER:1E3,STATISTIC:5E3},VISUAL:{LAYOUT:1E3,GLOBAL:2E3,CHART:3E3,COMPONENT:4E3,BRUSH:5E3}};q.exports=U},function(q,n){var a={};if("undefined"===typeof navigator)a={browser:{},os:{},node:!0,canvasSupported:!0};else{var m=navigator.userAgent,a={},p=m.match(/Firefox\/([\d.]+)/),h=m.match(/MSIE\s([\d.]+)/)||m.match(/Trident\/.+?rv:(([\d.]+))/),l=m.match(/Edge\/([\d.]+)/),m=/micromessenger/i.test(m);p&&(a.firefox=!0,a.version=p[1]);h&&(a.ie=!0,a.version=h[1]);l&&(a.edge=!0,a.version=l[1]);m&&(a.weChat=!0);a={browser:a,os:{},node:!1,canvasSupported:document.createElement("canvas").getContext?!0:!1,touchEventsSupported:"ontouchstart"in window&&!a.ie&&!a.edge,pointerEventsSupported:"onpointerdown"in window&&(a.edge||a.ie&&11<=a.version)}}q.exports=a},function(q,n,a){function m(c,d){b.each(d,function(d,g){w.hasClass(g)||("object"===typeof d?c[g]=c[g]?b.merge(c[g],d,!1):b.clone(d):null==c[g]&&(c[g]=d))})}function p(c){this.option={};this.option["\x00_ec_inner"]=1;this._componentsMap=b.createHashMap({series:[]});this._seriesIndices=null;m(c,this._theme.option);b.merge(c,u,!1);this.mergeOption(c)}function h(c,d){b.isArray(d)||(d=d?[d]:[]);var k={};g(d,function(b){k[b]=(c.get(b)||[]).slice()});return k}function l(b){return k(b,function(b){return b.componentIndex})||[]}function f(b,c){return c.hasOwnProperty("subType")?r(b,function(b){return b.subType===c.subType}):b}function e(b){if(!b._seriesIndices)throw Error("Option should contains series.");}var b=a(4),d=a(5),c=a(14),g=b.each,r=b.filter,k=b.map,t=b.isArray,A=b.indexOf,x=b.isObject,w=a(72),u=a(76),v=c.extend({constructor:v,init:function(b,d,g,k){g=g||{};this.option=null;this._theme=new c(g);this._optionManager=k},setOption:function(c,d){b.assert(!("\x00_ec_inner"in c),"please use chart.getOption()");this._optionManager.setOption(c,d);this.resetOption(null)},resetOption:function(b){var c=!1,d=this._optionManager;if(!b||"recreate"===b){var k=d.mountOption("recreate"===b);this.option&&"recreate"!==b?(this.restoreData(),this.mergeOption(k)):p.call(this,k);c=!0}"timeline"!==b&&"media"!==b||this.restoreData();b&&"recreate"!==b&&"timeline"!==b||(k=d.getTimelineOption(this))&&(this.mergeOption(k),c=!0);b&&"recreate"!==b&&"media"!==b||(b=d.getMediaOption(this,this._api),b.length&&g(b,function(b){this.mergeOption(b,c=!0)},this));return c},mergeOption:function(c){var k=this.option,r=this._componentsMap,t=[];g(c,function(c,d){null!=c&&(w.hasClass(d)?t.push(d):k[d]=null==k[d]?b.clone(c):b.merge(k[d],c,!0))});w.topologicalTravel(t,w.getAllClassMainTypes(),function(t,e){var f=d.normalizeToArray(c[t]),f=d.mappingToExists(r.get(t),f);d.makeIdAndName(f);g(f,function(b,c){var d=b.option;if(x(d)){b.keyInfo.mainType=t;var g=b.keyInfo,k=b.exist,d=d.type?d.type:k?k.subType:w.determineSubType(t,d);g.subType=d}});var a=h(r,e);k[t]=[];r.set(t,[]);g(f,function(c,d){var g=c.exist,e=c.option;b.assert(x(e)||g,"Empty component definition");if(e){var f=w.getClass(t,c.keyInfo.subType,!0);if(g&&g instanceof f)g.name=c.keyInfo.name,g.mergeOption(e,this),g.optionUpdated(e,!1);else{var v=b.extend({dependentModels:a,componentIndex:d},c.keyInfo),g=new f(e,this,this,v);b.extend(g,v);g.init(e,this,this,v);g.optionUpdated(null,!0)}}else g.mergeOption({},this),g.optionUpdated({},!1);r.get(t)[d]=g;k[t][d]=g.option},this);"series"===t&&(this._seriesIndices=l(r.get("series")))},this);this._seriesIndices=this._seriesIndices||[]},getOption:function(){var c=b.clone(this.option);g(c,function(b,g){if(w.hasClass(g)){b=d.normalizeToArray(b);for(var k=b.length-1;0<=k;k--)d.isIdInner(b[k])&&b.splice(k,1);c[g]=b}});delete c["\x00_ec_inner"];return c},getTheme:function(){return this._theme},getComponent:function(b,c){var d=this._componentsMap.get(b);if(d)return d[c||0]},queryComponents:function(b){var c=b.mainType;if(!c)return[];var d=b.index,g=b.id,e=b.name,a=this._componentsMap.get(c);if(!a||!a.length)return[];if(null!=d)t(d)||(d=[d]),c=r(k(d,function(b){return a[b]}),function(b){return!!b});else if(null!=g)var w=t(g),c=r(a,function(b){return w&&0<=A(g,b.id)||!w&&b.id===g});else if(null!=e)var v=t(e),c=r(a,function(b){return v&&0<=A(e,b.name)||!v&&b.name===e});else c=a.slice();return f(c,b)},findComponents:function(b){var c=b.mainType,d=function(b){var d=c+"Index",g=c+"Id",k=c+"Name";return!b||null==b[d]&&null==b[g]&&null==b[k]?null:{mainType:c,index:b[d],id:b[g],name:b[k]}}(b.query),d=d?this.queryComponents(d):this._componentsMap.get(c);return function(c){return b.filter?r(c,b.filter):c}(f(d,b))},eachComponent:function(c,d,k){var r=this._componentsMap;"function"===typeof c?(k=d,d=c,r.each(function(b,c){g(b,function(b,g){d.call(k,c,b,g)})})):b.isString(c)?g(r.get(c),d,k):x(c)&&(c=this.findComponents(c),g(c,d,k))},getSeriesByName:function(b){var c=this._componentsMap.get("series");return r(c,function(c){return c.name===b})},getSeriesByIndex:function(b){return this._componentsMap.get("series")[b]},getSeriesByType:function(b){var c=this._componentsMap.get("series");return r(c,function(c){return c.subType===b})},getSeries:function(){return this._componentsMap.get("series").slice()},eachSeries:function(b,c){e(this);g(this._seriesIndices,function(d){var g=this._componentsMap.get("series")[d];b.call(c,g,d)},this)},eachRawSeries:function(b,c){g(this._componentsMap.get("series"),b,c)},eachSeriesByType:function(b,c,d){e(this);g(this._seriesIndices,function(g){var k=this._componentsMap.get("series")[g];k.subType===b&&c.call(d,k,g)},this)},eachRawSeriesByType:function(b,c,d){return g(this.getSeriesByType(b),c,d)},isSeriesFiltered:function(c){e(this);return 0>b.indexOf(this._seriesIndices,c.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(b,c){e(this);var d=r(this._componentsMap.get("series"),b,c);this._seriesIndices=l(d)},restoreData:function(){var b=this._componentsMap;this._seriesIndices=l(b.get("series"));var c=[];b.each(function(b,d){c.push(d)});w.topologicalTravel(c,w.getAllClassMainTypes(),function(c,d){g(b.get(c),function(b){b.restoreData()})})}});b.mixin(v,a(77));q.exports=v},function(q,n){function a(b){if(null==b||"object"!=typeof b)return b;var c=b,t=k.call(b);if("[object Array]"===t)for(var c=[],t=0,e=b.length;t<e;t++)c[t]=a(b[t]);else if(r[t])if(c=b.constructor,b.constructor.from)c=c.from(b);else for(c=new c(b.length),t=0,e=b.length;t<e;t++)c[t]=a(b[t]);else if(!g[t]&&!b[E]&&!d(b))for(e in c={},b)b.hasOwnProperty(e)&&(c[e]=a(b[e]));return c}function m(c,g,k){if(!e(g)||!e(c))return k?a(g):c;for(var t in g)if(g.hasOwnProperty(t)){var r=c[t],w=g[t];!e(w)||!e(r)||f(w)||f(r)||d(w)||d(r)||b(w)||b(r)||w[E]||r[E]?!k&&t in c||(c[t]=a(g[t],!0)):m(r,w,k)}return c}function p(b,c,d){for(var g in c)c.hasOwnProperty(g)&&(d?null!=c[g]:null==b[g])&&(b[g]=c[g]);return b}function h(b,c,d){if(b&&c)if(b.forEach&&b.forEach===A)b.forEach(c,d);else if(b.length===+b.length)for(var g=0,k=b.length;g<k;g++)c.call(d,b[g],g,b);else for(g in b)b.hasOwnProperty(g)&&c.call(d,b[g],g,b)}function l(b,c){var d=w.call(arguments,2);return function(){return b.apply(c,d.concat(w.call(arguments)))}}function f(b){return"[object Array]"===k.call(b)}function e(b){var c=typeof b;return"function"===c||!!b&&"object"==c}function b(b){return!!g[k.call(b)]}function d(b){return"object"===typeof b&&"number"===typeof b.nodeType&&"object"===typeof b.ownerDocument}function c(b){b&&h(b,function(b,c){this.set(c,b)},this)}var g={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},r={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},k=Object.prototype.toString,t=Array.prototype,A=t.forEach,x=t.filter,w=t.slice,u=t.map,v=t.reduce,y,E="__ec_primitive__";c.prototype={constructor:c,get:function(b){return this["_ec_"+b]},set:function(b,c){return this["_ec_"+b]=c},each:function(b,c){void 0!==c&&(b=l(b,c));for(var d in this)this.hasOwnProperty(d)&&b(this[d],d.slice(4))},removeKey:function(b){delete this[b]}};var z={inherits:function(b,c){function d(){}var g=b.prototype;d.prototype=c.prototype;b.prototype=new d;for(var k in g)b.prototype[k]=g[k];b.prototype.constructor=b;b.superClass=c},mixin:function(b,c,d){b="prototype"in b?b.prototype:b;c="prototype"in c?c.prototype:c;p(b,c,d)},clone:a,merge:m,mergeAll:function(b,c){for(var d=b[0],g=1,k=b.length;g<k;g++)d=m(d,b[g],c);return d},extend:function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);return b},defaults:p,getContext:function(){y||(y=z.createCanvas().getContext("2d"));return y},createCanvas:function(){return document.createElement("canvas")},indexOf:function(b,c){if(b){if(b.indexOf)return b.indexOf(c);for(var d=0,g=b.length;d<g;d++)if(b[d]===c)return d}return-1},slice:function(){return Function.call.apply(w,arguments)},find:function(b,c,d){if(b&&c)for(var g=0,k=b.length;g<k;g++)if(c.call(d,b[g],g,b))return b[g]},isArrayLike:function(b){if(b)return"string"==typeof b?!1:"number"==typeof b.length},each:h,map:function(b,c,d){if(b&&c){if(b.map&&b.map===u)return b.map(c,d);for(var g=[],k=0,t=b.length;k<t;k++)g.push(c.call(d,b[k],k,b));return g}},reduce:function(b,c,d,g){if(b&&c){if(b.reduce&&b.reduce===v)return b.reduce(c,d,g);for(var k=0,t=b.length;k<t;k++)d=c.call(g,d,b[k],k,b);return d}},filter:function(b,c,d){if(b&&c){if(b.filter&&b.filter===x)return b.filter(c,d);for(var g=[],k=0,t=b.length;k<t;k++)c.call(d,b[k],k,b)&&g.push(b[k]);return g}},bind:l,curry:function(b){var c=w.call(arguments,1);return function(){return b.apply(this,c.concat(w.call(arguments)))}},isArray:f,isString:function(b){return"[object String]"===k.call(b)},isObject:e,isFunction:function(b){return"function"===typeof b},isBuiltInObject:b,isDom:d,eqNaN:function(b){return b!==b},retrieve:function(b){for(var c=0,d=arguments.length;c<d;c++)if(null!=arguments[c])return arguments[c]},retrieve2:function(b,c){return null!=b?b:c},retrieve3:function(b,c,d){return null!=b?b:null!=c?c:d},assert:function(b,c){if(!b)throw Error(c);},setAsPrimitive:function(b){b[E]=!0},createHashMap:function(b){return new c(b)},normalizeCssArray:function(b){if("number"===typeof b)return[b,b,b,b];var c=b.length;return 2===c?[b[0],b[1],b[0],b[1]]:3===c?[b[0],b[1],b[2],b[1]]:b},noop:function(){}};q.exports=z},function(q,n,a){var m=a(6),p=a(7),h=a(14),l=a(4),f=l.each,e=l.isObject,b={normalizeToArray:function(b){return b instanceof Array?b:null==b?[]:[b]},defaultEmphasis:function(b,c){if(b)for(var g=b.emphasis=b.emphasis||{},r=b.normal=b.normal||{},k=0,t=c.length;k<t;k++){var e=c[k];!g.hasOwnProperty(e)&&r.hasOwnProperty(e)&&(g[e]=r[e])}},TEXT_STYLE_OPTIONS:"fontStyle fontWeight fontSize fontFamily rich tag color textBorderColor textBorderWidth width height lineHeight align verticalAlign baseline shadowColor shadowBlur shadowOffsetX shadowOffsetY textShadowColor textShadowBlur textShadowOffsetX textShadowOffsetY backgroundColor borderColor borderWidth borderRadius padding".split(" "),getDataItemValue:function(b){return b&&(null==b.value?b:b.value)},isDataItemOption:function(b){return e(b)&&!(b instanceof Array)},converDataValue:function(b,c){var g=c&&c.type;if("ordinal"===g)return b;"time"===g&&"number"!==typeof b&&null!=b&&"-"!==b&&(b=+p.parseDate(b));return null==b||""===b?NaN:+b},createDataFormatModel:function(d,c){var g=new h;l.mixin(g,b.dataFormatMixin);g.seriesIndex=c.seriesIndex;g.name=c.name||"";g.mainType=c.mainType;g.subType=c.subType;g.getData=function(){return d};return g}};b.dataFormatMixin={getDataParams:function(b,c){var g=this.getData(c),r=this.getRawValue(b,c),k=g.getRawIndex(b),t=g.getName(b,!0),e=g.getRawDataItem(b),g=g.getItemVisual(b,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:t,dataIndex:k,data:e,dataType:c,value:r,color:g,marker:m.getTooltipMarker(g),$vars:["seriesName","name","value"]}},getFormattedLabel:function(b,c,g,r,k){c=c||"normal";var t=this.getData(g).getItemModel(b);b=this.getDataParams(b,g);null!=r&&b.value instanceof Array&&(b.value=b.value[r]);r=t.get([k||"label",c,"formatter"]);if("function"===typeof r)return b.status=c,r(b);if("string"===typeof r)return m.formatTpl(r,b)},getRawValue:function(b,c){var g=this.getData(c).getRawDataItem(b);if(null!=g)return!e(g)||g instanceof Array?g:g.value},formatTooltip:l.noop};b.mappingToExists=function(d,c){c=(c||[]).slice();var g=l.map(d||[],function(b,c){return{exist:b}});f(c,function(d,k){if(e(d)){for(var t=0;t<g.length;t++)if(!g[t].option&&null!=d.id&&g[t].exist.id===d.id+""){g[t].option=d;c[k]=null;return}for(t=0;t<g.length;t++){var f=g[t].exist;if(!(g[t].option||null!=f.id&&null!=d.id||null==d.name||b.isIdInner(d)||b.isIdInner(f))&&f.name===d.name+""){g[t].option=d;c[k]=null;break}}}});f(c,function(c,d){if(e(c)){for(var t=0;t<g.length;t++){var f=g[t].exist;if(!g[t].option&&!b.isIdInner(f)&&null==c.id){g[t].option=c;break}}t>=g.length&&g.push({option:c})}});return g};b.makeIdAndName=function(b){var c=l.createHashMap();f(b,function(b,d){var k=b.exist;k&&c.set(k.id,b)});f(b,function(b,d){var k=b.option;l.assert(!k||null==k.id||!c.get(k.id)||c.get(k.id)===b,"id duplicates: "+(k&&k.id));k&&null!=k.id&&c.set(k.id,b);!b.keyInfo&&(b.keyInfo={})});f(b,function(b,d){var k=b.exist,t=b.option,f=b.keyInfo;if(e(t)){f.name=null!=t.name?t.name+"":k?k.name:"\x00-";if(k)f.id=k.id;else if(null!=t.id)f.id=t.id+"";else{k=0;do f.id="\x00"+f.name+"\x00"+k++;while(c.get(f.id))}c.set(f.id,b)}})};b.isIdInner=function(b){return e(b)&&b.id&&0===(b.id+"").indexOf("\x00_ec_\x00")};b.compressBatches=function(d,c){function g(c,d,g){for(var k=0,t=c.length;k<t;k++)for(var r=c[k].seriesId,e=b.normalizeToArray(c[k].dataIndex),f=g&&g[r],a=0,l=e.length;a<l;a++){var h=e[a];f&&f[h]?f[h]=null:(d[r]||(d[r]={}))[h]=1}}function r(b,c){var d=[],g;for(g in b)if(b.hasOwnProperty(g)&&null!=b[g])if(c)d.push(+g);else{var k=r(b[g],!0);k.length&&d.push({seriesId:g,dataIndex:k})}return d}var k={},t={};g(d||[],k);g(c||[],t,k);return[r(k),r(t)]};b.queryDataIndex=function(b,c){if(null!=c.dataIndexInside)return c.dataIndexInside;if(null!=c.dataIndex)return l.isArray(c.dataIndex)?l.map(c.dataIndex,function(c){return b.indexOfRawIndex(c)}):b.indexOfRawIndex(c.dataIndex);if(null!=c.name)return l.isArray(c.name)?l.map(c.name,function(c){return b.indexOfName(c)}):b.indexOfName(c.name)};b.makeGetter=function(){var b=0;return function(){var c="\x00__ec_prop_getter_"+b++;return function(b){return b[c]||(b[c]={})}}}();b.parseFinder=function(b,c,g){if(l.isString(c)){var r={};r[c+"Index"]=0;c=r}r=g&&g.defaultMainType;!r||c&&c.hasOwnProperty(r+"Index")||c&&c.hasOwnProperty(r+"Id")||c&&c.hasOwnProperty(r+"Name")||(c[r+"Index"]=0);var k={};f(c,function(t,r){t=c[r];if("dataIndex"===r||"dataIndexInside"===r)k[r]=t;else{var e=r.match(/^(\w+)(Index|Id|Name)$/)||[],f=e[1],e=(e[2]||"").toLowerCase();if(!(!f||!e||null==t||"index"===e&&"none"===t||g&&g.includeMainTypes&&0>l.indexOf(g.includeMainTypes,f))){var a={mainType:f};if("index"!==e||"all"!==t)a[e]=t;e=b.queryComponents(a);k[f+"Models"]=e;k[f+"Model"]=e[0]}}});return k};b.dataDimToCoordDim=function(b,c){var g=b.dimensions;c=b.getDimension(c);for(var r=0;r<g.length;r++){var k=b.getDimensionInfo(g[r]);if(k.name===c)return k.coordDim}};b.coordDimToDataDim=function(b,c){var g=[];f(b.dimensions,function(r){r=b.getDimensionInfo(r);r.coordDim===c&&(g[r.coordDimIndex]=r.name)});return g};b.otherDimToDataDim=function(b,c){var g=[];f(b.dimensions,function(r){r=b.getDimensionInfo(r);var k=r.otherDims[c];null!=k&&!1!==k&&(g[k]=r.name)});return g};q.exports=b},function(q,n,a){var m=a(4),p=a(7);n=a(8);var h={addCommas:function(b){if(isNaN(b))return"-";b=(b+"").split(".");return b[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<b.length?"."+b[1]:"")},toCamelCase:function(b,d){b=(b||"").toLowerCase().replace(/-(.)/g,function(b,d){return d.toUpperCase()});d&&b&&(b=b.charAt(0).toUpperCase()+b.slice(1));return b}};h.normalizeCssArray=m.normalizeCssArray;var l=h.encodeHTML=function(b){return String(b).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#39;")},f="abcdefg".split("");h.formatTpl=function(b,d,c){m.isArray(d)||(d=[d]);var g=d.length;if(!g)return"";for(var r=d[0].$vars||[],k=0;k<r.length;k++){var t=f[k],e="{"+t+0+"}";b=b.replace("{"+t+"}",c?l(e):e)}for(k=0;k<g;k++)for(t=0;t<r.length;t++)e=d[k][r[t]],b=b.replace("{"+f[t]+(null==k?"":k)+"}",c?l(e):e);return b};h.formatTplSimple=function(b,d,c){m.each(d,function(d,r){b=b.replace("{"+r+"}",c?l(d):d)});return b};h.getTooltipMarker=function(b,d){return b?'\x3cspan style\x3d"display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+h.encodeHTML(b)+";"+(d||"")+'"\x3e\x3c/span\x3e':""};var e=function(b){return 10>b?"0"+b:b};h.formatTime=function(b,d,c){if("week"===b||"month"===b||"quarter"===b||"half-year"===b||"year"===b)b="MM-dd\nyyyy";d=p.parseDate(d);var g=c?"UTC":"";c=d["get"+g+"FullYear"]();var r=d["get"+g+"Month"]()+1,k=d["get"+g+"Date"](),t=d["get"+g+"Hours"](),f=d["get"+g+"Minutes"]();d=d["get"+g+"Seconds"]();return b=b.replace("MM",e(r)).replace("M",r).replace("yyyy",c).replace("yy",c%100).replace("dd",e(k)).replace("d",k).replace("hh",e(t)).replace("h",t).replace("mm",e(f)).replace("m",f).replace("ss",e(d)).replace("s",d)};h.capitalFirst=function(b){return b?b.charAt(0).toUpperCase()+b.substr(1):b};h.truncateText=n.truncateText;h.getTextRect=n.getBoundingRect;q.exports=h},function(q,n,a){var m=a(4),p={linearMap:function(a,f,e,b){var d=f[1]-f[0],c=e[1]-e[0];if(0===d)return 0===c?e[0]:(e[0]+e[1])/2;if(b)if(0<d){if(a<=f[0])return e[0];if(a>=f[1])return e[1]}else{if(a>=f[0])return e[0];if(a<=f[1])return e[1]}else{if(a===f[0])return e[0];if(a===f[1])return e[1]}return(a-f[0])/d*c+e[0]},parsePercent:function(a,f){switch(a){case "center":case "middle":a="50%";break;case "left":case "top":a="0%";break;case "right":case "bottom":a="100%"}return"string"===typeof a?a.replace(/^\s+/,"").replace(/\s+$/,"").match(/%$/)?parseFloat(a)/100*f:parseFloat(a):null==a?NaN:+a},round:function(a,f,e){null==f&&(f=10);f=Math.min(Math.max(0,f),20);a=(+a).toFixed(f);return e?a:+a},asc:function(a){a.sort(function(f,e){return f-e});return a},getPrecision:function(a){a=+a;if(isNaN(a))return 0;for(var f=1,e=0;Math.round(a*f)/f!==a;)f*=10,e++;return e},getPrecisionSafe:function(a){a=a.toString();var f=a.indexOf("e");if(0<f)return a=+a.slice(f+1),0>a?-a:0;f=a.indexOf(".");return 0>f?0:a.length-1-f},getPixelPrecision:function(a,f){var e=Math.log,b=Math.LN10,d=Math.floor(e(a[1]-a[0])/b),e=Math.round(e(Math.abs(f[1]-f[0]))/b),d=Math.min(Math.max(-d+e,0),20);return isFinite(d)?d:20},getPercentWithPrecision:function(a,f,e){if(!a[f])return 0;var b=m.reduce(a,function(b,c){return b+(isNaN(c)?0:c)},0);if(0===b)return 0;var d=Math.pow(10,e),c=m.map(a,function(c){return(isNaN(c)?0:c)/b*d*100});a=100*d;var g=m.map(c,function(b){return Math.floor(b)});e=m.reduce(g,function(b,c){return b+c},0);for(c=m.map(c,function(b,c){return b-g[c]});e<a;){for(var r=Number.NEGATIVE_INFINITY,k=null,t=0,A=c.length;t<A;++t)c[t]>r&&(r=c[t],k=t);++g[k];c[k]=0;++e}return g[f]/d},MAX_SAFE_INTEGER:9007199254740991,remRadian:function(a){var f=2*Math.PI;return(a%f+f)%f},isRadianAroundZero:function(a){return-1E-4<a&&1E-4>a}},h=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;p.getTimezoneOffset=function(){return(new Date).getTimezoneOffset()};p.parseDate=function(a){if(a instanceof Date)return a;if("string"===typeof a){a=h.exec(a);if(!a)return new Date(NaN);var f=p.getTimezoneOffset(),f=a[8]?"Z"===a[8].toUpperCase()?f:60*+a[8].slice(0,3)+f:0;return new Date(+a[1],+(a[2]||1)-1,+a[3]||1,+a[4]||0,+(a[5]||0)-f,+a[6]||0,+a[7]||0)}return null==a?new Date(NaN):new Date(Math.round(a))};p.quantity=function(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))};p.nice=function(a,f){var e=Math.floor(Math.log(a)/Math.LN10),b=Math.pow(10,e),d=a/b;a=(f?1.5>d?1:2.5>d?2:4>d?3:7>d?5:10:1>d?1:2>d?2:3>d?3:5>d?5:10)*b;return-20<=e?+a.toFixed(0>e?-e:0):a};p.reformIntervals=function(a){function f(b,c,d){return b.interval[d]<c.interval[d]||b.interval[d]===c.interval[d]&&(b.close[d]-c.close[d]===(d?-1:1)||!d&&f(b,c,1))}a.sort(function(b,c){return f(b,c,0)?-1:1});for(var e=-Infinity,b=1,d=0;d<a.length;){for(var c=a[d].interval,g=a[d].close,r=0;2>r;r++)c[r]<=e&&(c[r]=e,g[r]=r?1:1-b),e=c[r],b=g[r];c[0]===c[1]&&1!==g[0]*g[1]?a.splice(d,1):d++}return a};p.isNumeric=function(a){return 0<=a-parseFloat(a)};q.exports=p},function(q,n,a){function m(b,c){c=c||"12px sans-serif";var d=b+":"+c;if(A[d])return A[d];for(var g=(b+"").split("\n"),k=0,t=0,r=g.length;t<r;t++)k=Math.max(y.measureText(g[t],c).width,k);5E3<x&&(x=0,A={});x++;return A[d]=k}function p(b,c,d){"right"===d?b-=c:"center"===d&&(b-=c/2);return b}function h(b,c,d){"middle"===d?b-=c/2:"bottom"===d&&(b-=c);return b}function l(b,c,d,g,k){if(!c)return"";b=(b+"").split("\n");k=f(c,d,g,k);c=0;for(d=b.length;c<d;c++)b[c]=e(b[c],k);return b.join("\n")}function f(b,c,d,g){g=r.extend({},g);g.font=c;d=u(d,"...");g.maxIterations=u(g.maxIterations,2);var k=g.minChar=u(g.minChar,0);g.cnCharWidth=m("\u56fd",c);var t=g.ascCharWidth=m("a",c);g.placeholder=u(g.placeholder,"");c=b=Math.max(0,b-1);for(var e=0;e<k&&c>=t;e++)c-=t;k=m(d);k>c&&(d="",k=0);g.ellipsis=d;g.ellipsisWidth=k;g.contentWidth=b-k;g.containerWidth=b;return g}function e(b,c){var d=c.containerWidth,g=c.font,k=c.contentWidth;if(!d)return"";var t=m(b,g);if(t<=d)return b;for(d=0;;d++){if(t<=k||d>=c.maxIterations){b+=c.ellipsis;break}if(0===d){for(var t=b,r=k,e=c.ascCharWidth,f=c.cnCharWidth,a=0,w=0,v=t.length;w<v&&a<r;w++)var u=t.charCodeAt(w),a=a+(0<=u&&127>=u?e:f);t=w}else t=0<t?Math.floor(b.length*k/t):0;b=b.substr(0,t);t=m(b,g)}""===b&&(b=c.placeholder);return b}function b(b){return m("\u56fd",b)}function d(c,d,g,k){null!=c&&(c+="");var t=b(d),r=c?c.split("\n"):[],a=r.length*t,w=a;g&&(w+=g[0]+g[2]);if(c&&k){c=k.outerHeight;var v=k.outerWidth;if(null!=c&&w>c)r=[];else if(null!=v)for(d=f(v-(g?g[1]+g[3]:0),d,k.ellipsis,{minChar:k.minChar,placeholder:k.placeholder}),g=0,k=r.length;g<k;g++)r[g]=e(r[g],d)}return{lines:r,height:a,outerHeight:w,lineHeight:t}}function c(b,c){var d={lines:[],width:0,height:0};null!=b&&(b+="");if(!b)return d;for(var k=w.lastIndex=0,r;null!=(r=w.exec(b));){var e=r.index;e>k&&g(d,b.substring(k,e));g(d,r[2],r[1]);k=w.lastIndex}k<b.length&&g(d,b.substring(k,b.length));var k=d.lines,e=r=0,f=[],a=c.textPadding,A=c.truncate,x=A&&A.outerWidth,h=A&&A.outerHeight;a&&(null!=x&&(x-=a[1]+a[3]),null!=h&&(h-=a[0]+a[2]));for(var p=0;p<k.length;p++){for(var m=k[p],n=0,q=0,P=0;P<m.tokens.length;P++){var Q=m.tokens[P],M=Q.styleName&&c.rich[Q.styleName]||{},S=Q.textPadding=M.textPadding,Y=Q.font=M.font||c.font,V=Q.textHeight=u(M.textHeight,y.getLineHeight(Y));S&&(V+=S[0]+S[2]);Q.height=V;Q.lineHeight=v(M.textLineHeight,c.textLineHeight,V);Q.textAlign=M&&M.textAlign||c.textAlign;Q.textVerticalAlign=M&&M.textVerticalAlign||"middle";if(null!=h&&r+Q.lineHeight>h)return{lines:[],width:0,height:0};Q.textWidth=y.getWidth(Q.text,Y);var T=M.textWidth,Z=null==T||"auto"===T;if("string"===typeof T&&"%"===T.charAt(T.length-1))Q.percentWidth=T,f.push(Q),T=0;else{if(Z){var T=Q.textWidth,W=M.textBackgroundColor;if(W=W&&W.image)W=t.findExistImage(W),t.isImageReady(W)&&(T=Math.max(T,W.width*V/W.height))}S=S?S[1]+S[3]:0;T+=S;V=null!=x?x-q:null;null!=V&&V<T&&(!Z||V<S?(Q.text="",Q.textWidth=T=0):(Q.text=l(Q.text,V-S,Y,A.ellipsis,{minChar:A.minChar}),Q.textWidth=y.getWidth(Q.text,Y),T=Q.textWidth+S))}q+=Q.width=T;M&&(n=Math.max(n,Q.lineHeight))}m.width=q;m.lineHeight=n;r+=n;e=Math.max(e,q)}d.outerWidth=d.width=u(c.textWidth,e);d.outerHeight=d.height=u(c.textHeight,r);a&&(d.outerWidth+=a[1]+a[3],d.outerHeight+=a[0]+a[2]);for(p=0;p<f.length;p++)Q=f[p],Q.width=parseInt(Q.percentWidth,10)/100*e;return d}function g(b,c,d){var g=""===c;c=c.split("\n");b=b.lines;for(var k=0;k<c.length;k++){var t=c[k],r={styleName:d,text:t,isLineHolder:!t&&!g};if(k)b.push({tokens:[r]});else{var e=(b[b.length-1]||(b[0]={tokens:[]})).tokens,f=e.length;1===f&&e[0].isLineHolder?e[0]=r:(t||!f||g)&&e.push(r)}}}var r=a(4),k=a(9),t=a(12),A={},x=0,w=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,u=r.retrieve2,v=r.retrieve3,y={getWidth:m,getBoundingRect:function(b,g,t,r,e,f,a){f?(e=c(b,{rich:f,truncate:a,font:g,textAlign:t,textPadding:e}),f=e.outerWidth,e=e.outerHeight,t=p(0,f,t),r=h(0,e,r),r=new k(t,r,f,e)):(f=d(b,g,e,a),b=m(b,g),e&&(b+=e[1]+e[3]),e=f.outerHeight,t=p(0,b,t),r=h(0,e,r),r=new k(t,r,b,e),r.lineHeight=f.lineHeight);return r},adjustTextPositionOnRect:function(b,c,d){var g=c.x,k=c.y,t=c.height;c=c.width;var r=t/2,e="left",f="top";switch(b){case "left":g-=d;k+=r;e="right";f="middle";break;case "right":g+=d+c;k+=r;f="middle";break;case "top":g+=c/2;k-=d;e="center";f="bottom";break;case "bottom":g+=c/2;k+=t+d;e="center";break;case "inside":g+=c/2;k+=r;e="center";f="middle";break;case "insideLeft":g+=d;k+=r;f="middle";break;case "insideRight":g+=c-d;k+=r;e="right";f="middle";break;case "insideTop":g+=c/2;k+=d;e="center";break;case "insideBottom":g+=c/2;k+=t-d;e="center";f="bottom";break;case "insideTopLeft":g+=d;k+=d;break;case "insideTopRight":g+=c-d;k+=d;e="right";break;case "insideBottomLeft":g+=d;k+=t-d;f="bottom";break;case "insideBottomRight":g+=c-d,k+=t-d,e="right",f="bottom"}return{x:g,y:k,textAlign:e,textVerticalAlign:f}},truncateText:l,measureText:function(b,c){var d=r.getContext();d.font=c||"12px sans-serif";return d.measureText(b)},getLineHeight:b,parsePlainText:d,parseRichText:c,adjustTextX:p,adjustTextY:h,makeFont:function(b){return(b.fontSize||b.fontFamily)&&[b.fontStyle,b.fontWeight,(b.fontSize||12)+"px",b.fontFamily||"sans-serif"].join(" ")||b.textFont||b.font},DEFAULT_FONT:"12px sans-serif"};q.exports=y},function(q,n,a){function m(e,b,d,c){0>d&&(e+=d,d=-d);0>c&&(b+=c,c=-c);this.x=e;this.y=b;this.width=d;this.height=c}n=a(10);var p=a(11),h=n.applyTransform,l=Math.min,f=Math.max;m.prototype={constructor:m,union:function(e){var b=l(e.x,this.x),d=l(e.y,this.y);this.width=f(e.x+e.width,this.x+this.width)-b;this.height=f(e.y+e.height,this.y+this.height)-d;this.x=b;this.y=d},applyTransform:function(){var e=[],b=[],d=[],c=[];return function(g){if(g){e[0]=d[0]=this.x;e[1]=c[1]=this.y;b[0]=c[0]=this.x+this.width;b[1]=d[1]=this.y+this.height;h(e,e,g);h(b,b,g);h(d,d,g);h(c,c,g);this.x=l(e[0],b[0],d[0],c[0]);this.y=l(e[1],b[1],d[1],c[1]);g=f(e[0],b[0],d[0],c[0]);var r=f(e[1],b[1],d[1],c[1]);this.width=g-this.x;this.height=r-this.y}}}(),calculateTransform:function(e){var b=e.width/this.width,d=e.height/this.height,c=p.create();p.translate(c,c,[-this.x,-this.y]);p.scale(c,c,[b,d]);p.translate(c,c,[e.x,e.y]);return c},intersect:function(e){if(!e)return!1;e instanceof m||(e=m.create(e));var b=this.x,d=this.y,c=this.y+this.height,g=e.x+e.width,r=e.y,k=e.y+e.height;return!(this.x+this.width<e.x||g<b||c<r||k<d)},contain:function(e,b){return e>=this.x&&e<=this.x+this.width&&b>=this.y&&b<=this.y+this.height},clone:function(){return new m(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x;this.y=e.y;this.width=e.width;this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};m.create=function(e){return new m(e.x,e.y,e.width,e.height)};q.exports=m},function(q,n){var a="undefined"===typeof Float32Array?Array:Float32Array,m={create:function(p,h){var l=new a(2);null==p&&(p=0);null==h&&(h=0);l[0]=p;l[1]=h;return l},copy:function(a,h){a[0]=h[0];a[1]=h[1];return a},clone:function(p){var h=new a(2);h[0]=p[0];h[1]=p[1];return h},set:function(a,h,l){a[0]=h;a[1]=l;return a},add:function(a,h,l){a[0]=h[0]+l[0];a[1]=h[1]+l[1];return a},scaleAndAdd:function(a,h,l,f){a[0]=h[0]+l[0]*f;a[1]=h[1]+l[1]*f;return a},sub:function(a,h,l){a[0]=h[0]-l[0];a[1]=h[1]-l[1];return a},len:function(a){return Math.sqrt(this.lenSquare(a))},lenSquare:function(a){return a[0]*a[0]+a[1]*a[1]},mul:function(a,h,l){a[0]=h[0]*l[0];a[1]=h[1]*l[1];return a},div:function(a,h,l){a[0]=h[0]/l[0];a[1]=h[1]/l[1];return a},dot:function(a,h){return a[0]*h[0]+a[1]*h[1]},scale:function(a,h,l){a[0]=h[0]*l;a[1]=h[1]*l;return a},normalize:function(a,h){var l=m.len(h);0===l?(a[0]=0,a[1]=0):(a[0]=h[0]/l,a[1]=h[1]/l);return a},distance:function(a,h){return Math.sqrt((a[0]-h[0])*(a[0]-h[0])+(a[1]-h[1])*(a[1]-h[1]))},distanceSquare:function(a,h){return(a[0]-h[0])*(a[0]-h[0])+(a[1]-h[1])*(a[1]-h[1])},negate:function(a,h){a[0]=-h[0];a[1]=-h[1];return a},lerp:function(a,h,l,f){a[0]=h[0]+f*(l[0]-h[0]);a[1]=h[1]+f*(l[1]-h[1]);return a},applyTransform:function(a,h,l){var f=h[0];h=h[1];a[0]=l[0]*f+l[2]*h+l[4];a[1]=l[1]*f+l[3]*h+l[5];return a},min:function(a,h,l){a[0]=Math.min(h[0],l[0]);a[1]=Math.min(h[1],l[1]);return a},max:function(a,h,l){a[0]=Math.max(h[0],l[0]);a[1]=Math.max(h[1],l[1]);return a}};m.length=m.len;m.lengthSquare=m.lenSquare;m.dist=m.distance;m.distSquare=m.distanceSquare;q.exports=m},function(q,n){var a="undefined"===typeof Float32Array?Array:Float32Array,m={create:function(){var p=new a(6);m.identity(p);return p},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},copy:function(a,h){a[0]=h[0];a[1]=h[1];a[2]=h[2];a[3]=h[3];a[4]=h[4];a[5]=h[5];return a},mul:function(a,h,l){var f=h[1]*l[0]+h[3]*l[1],e=h[0]*l[2]+h[2]*l[3],b=h[1]*l[2]+h[3]*l[3],d=h[0]*l[4]+h[2]*l[5]+h[4],c=h[1]*l[4]+h[3]*l[5]+h[5];a[0]=h[0]*l[0]+h[2]*l[1];a[1]=f;a[2]=e;a[3]=b;a[4]=d;a[5]=c;return a},translate:function(a,h,l){a[0]=h[0];a[1]=h[1];a[2]=h[2];a[3]=h[3];a[4]=h[4]+l[0];a[5]=h[5]+l[1];return a},rotate:function(a,h,l){var f=h[0],e=h[2],b=h[4],d=h[1],c=h[3];h=h[5];var g=Math.sin(l);l=Math.cos(l);a[0]=f*l+d*g;a[1]=-f*g+d*l;a[2]=e*l+c*g;a[3]=-e*g+l*c;a[4]=l*b+g*h;a[5]=l*h-g*b;return a},scale:function(a,h,l){var f=l[0];l=l[1];a[0]=h[0]*f;a[1]=h[1]*l;a[2]=h[2]*f;a[3]=h[3]*l;a[4]=h[4]*f;a[5]=h[5]*l;return a},invert:function(a,h){var l=h[0],f=h[2],e=h[4],b=h[1],d=h[3],c=h[5],g=l*d-b*f;if(!g)return null;g=1/g;a[0]=d*g;a[1]=-b*g;a[2]=-f*g;a[3]=l*g;a[4]=(f*c-d*e)*g;a[5]=(b*e-l*c)*g;return a}};q.exports=m},function(q,n,a){function m(){var a=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var f=0;f<a.pending.length;f++){var e=a.pending[f],b=e.cb;b&&b(this,e.cbPayload);e.hostEl.dirty()}a.pending.length=0}var p=new (a(13))(50);n={findExistImage:function(a){return"string"===typeof a?(a=p.get(a))&&a.image:a},createOrUpdateImage:function(a,f,e,b,d){if(a){if("string"===typeof a){if(f&&f.__zrImageSrc===a||!e)return f;var c=p.get(a);e={hostEl:e,cb:b,cbPayload:d};c?(f=c.image,!h(f)&&c.pending.push(e)):(!f&&(f=new Image),f.onload=m,p.put(a,f.__cachedImgObj={image:f,pending:[e]}),f.src=f.__zrImageSrc=a);return f}return a}return f}};var h=n.isImageReady=function(a){return a&&a.width&&a.height};q.exports=n},function(q,n){var a=function(){this.tail=this.head=null;this._len=0},m=a.prototype;m.insert=function(a){a=new p(a);this.insertEntry(a);return a};m.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a;this._len++};m.remove=function(a){var f=a.prev,e=a.next;f?f.next=e:this.head=e;e?e.prev=f:this.tail=f;a.next=a.prev=null;this._len--};m.len=function(){return this._len};m.clear=function(){this.head=this.tail=null;this._len=0};var p=function(a){this.value=a},m=function(l){this._list=new a;this._map={};this._maxSize=l||10;this._lastRemovedEntry=null},h=m.prototype;h.put=function(a,f){var e=this._list,b=this._map,d=null;if(null==b[a]){var c=e.len(),g=this._lastRemovedEntry;c>=this._maxSize&&0<c&&(c=e.head,e.remove(c),delete b[c.key],d=c.value,this._lastRemovedEntry=c);g?g.value=f:g=new p(f);g.key=a;e.insertEntry(g);b[a]=g}return d};h.get=function(a){a=this._map[a];var f=this._list;if(null!=a)return a!==f.tail&&(f.remove(a),f.insertEntry(a)),a.value};h.clear=function(){this._list.clear();this._map={}};q.exports=m},function(q,n,a){function m(b,d,c){this.parentModel=d;this.ecModel=c;this.option=b}function p(b,d,c){for(var g=0;g<d.length&&(!d[g]||(b=b&&"object"===typeof b?b[d[g]]:null,null!=b));g++);null==b&&c&&(b=c.get(d));return b}function h(b,d){var c=f.get(b,"getParent");return c?c.call(b,d):b.parentModel}var l=a(4),f=a(15),e=a(2);m.prototype={constructor:m,init:null,mergeOption:function(b){l.merge(this.option,b,!0)},get:function(b,d){return null==b?this.option:p(this.option,this.parsePath(b),!d&&h(this,b))},getShallow:function(b,d){var c=this.option,c=null==c?c:c[b],g=!d&&h(this,b);null==c&&g&&(c=g.getShallow(b));return c},getModel:function(b,d){var c=null==b?this.option:p(this.option,b=this.parsePath(b)),g;d=d||(g=h(this,b))&&g.getModel(b);return new m(c,d,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(l.clone(this.option))},setReadOnly:function(b){f.setReadOnly(this,b)},parsePath:function(b){"string"===typeof b&&(b=b.split("."));return b},customizeGetParent:function(b){f.set(this,"getParent",b)},isAnimationEnabled:function(){if(!e.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};f.enableClassExtend(m);n=l.mixin;n(m,a(16));n(m,a(18));n(m,a(19));n(m,a(71));q.exports=m},function(q,n,a){function m(a,e){var b=h.slice(arguments,2);return this.superClass.prototype[e].apply(a,b)}function p(a,e,b){return this.superClass.prototype[e].apply(a,b)}var h=a(4);n={set:function(a,e,b){return a["\x00ec_\x00"+e]=b},get:function(a,e){return a["\x00ec_\x00"+e]},hasOwn:function(a,e){return a.hasOwnProperty("\x00ec_\x00"+e)}};var l=n.parseClassType=function(a){var e={main:"",sub:""};a&&(a=a.split("."),e.main=a[0]||"",e.sub=a[1]||"");return e};n.enableClassExtend=function(a,e){a.$constructor=a;a.extend=function(b){h.each(e,function(c){b[c]||console.warn("Method `"+c+"` should be implemented"+(b.type?" in "+b.type:"")+".")});var d=this,c=function(){b.$constructor?b.$constructor.apply(this,arguments):d.apply(this,arguments)};h.extend(c.prototype,b);c.extend=this.extend;c.superCall=m;c.superApply=p;h.inherits(c,this);c.superClass=d;return c}};n.enableClassManagement=function(a,e){e=e||{};var b={};a.registerClass=function(c,d){if(d){var r=d;h.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal');d=l(d);d.sub?"___EC__COMPONENT__CONTAINER___"!==d.sub&&(r=b[d.main],r&&r.___EC__COMPONENT__CONTAINER___||(r=b[d.main]={},r.___EC__COMPONENT__CONTAINER___=!0),r[d.sub]=c):(b[d.main]&&console.warn(d.main+" exists."),b[d.main]=c)}return c};a.getClass=function(c,d,r){var k=b[c];k&&k.___EC__COMPONENT__CONTAINER___&&(k=d?k[d]:null);if(r&&!k)throw Error(d?"Component "+c+"."+(d||"")+" not exists. Load it first.":c+".type should be specified.");return k};a.getClassesByMainType=function(c){c=l(c);var d=[];(c=b[c.main])&&c.___EC__COMPONENT__CONTAINER___?h.each(c,function(b,c){"___EC__COMPONENT__CONTAINER___"!==c&&d.push(b)}):d.push(c);return d};a.hasClass=function(c){c=l(c);return!!b[c.main]};a.getAllClassMainTypes=function(){var c=[];h.each(b,function(b,d){c.push(d)});return c};a.hasSubTypes=function(c){c=l(c);return(c=b[c.main])&&c.___EC__COMPONENT__CONTAINER___};a.parseClassType=l;if(e.registerWhenExtend){var d=a.extend;d&&(a.extend=function(b){var g=d.call(this,b);return a.registerClass(g,b.type)})}return a};n.setReadOnly=function(a,e){};q.exports=n},function(q,n,a){var m=a(17)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);q.exports={getLineStyle:function(a){a=m.call(this,a);var h=this.getLineDash(a.lineWidth);h&&(a.lineDash=h);return a},getLineDash:function(a){null==a&&(a=1);var h=this.get("type"),l=Math.max(a,2);a*=4;return"solid"===h||null==h?null:"dashed"===h?[a,a]:[l,l]}}},function(q,n,a){var m=a(4);q.exports=function(a){for(var h=0;h<a.length;h++)a[h][1]||(a[h][1]=a[h][0]);return function(l,f){for(var e={},b=0;b<a.length;b++){var d=a[b][1];l&&0<=m.indexOf(l,d)||f&&0>m.indexOf(f,d)||(d=this.getShallow(d),null!=d&&(e[a[b][0]]=d))}return e}}},function(q,n,a){q.exports={getAreaStyle:a(17)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(q,n,a){var m=a(8),p=a(20),h=["textStyle","color"];q.exports={getTextColor:function(a){var f=this.ecModel;return this.getShallow("color")||(!a&&f?f.get(h):null)},getFont:function(){return p.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(a){return m.getBoundingRect(a,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}}},function(q,n,a){function m(b){return"string"===typeof b?E.lift(b,-.1):b}function p(b){if(b.__hoverStlDirty){var c=b.style.stroke,d=b.style.fill,g=b.__hoverStl;g.fill=g.fill||(null!=d&&"none"!=d?m(d):null);g.stroke=g.stroke||(null!=c&&"none"!=c?m(c):null);var c={},k;for(k in g)null!=g[k]&&(c[k]=b.style[k]);b.__normalStl=c;b.__hoverStlDirty=!1}}function h(b){b.__isHover||(p(b),b.useHoverLayer?b.__zr&&b.__zr.addHover(b,b.__hoverStl):(b.style.extendFrom(b.__hoverStl),b.dirty(!1),b.z2+=1),b.__isHover=!0)}function l(b){if(b.__isHover){var c=b.__normalStl;b.useHoverLayer?b.__zr&&b.__zr.removeHover(b):(c&&b.setStyle(c),--b.z2);b.__isHover=!1}}function f(b){"group"===b.type?b.traverse(function(b){"group"!==b.type&&h(b)}):h(b)}function e(b){"group"===b.type?b.traverse(function(b){"group"!==b.type&&l(b)}):l(b)}function b(b,c){b.__hoverStl=b.hoverStyle||c||{};b.__hoverStlDirty=!0;b.__isHover&&p(b)}function d(b){this.__hoverSilentOnTouch&&b.zrByTouch||!this.__isEmphasis&&f(this)}function c(b){this.__hoverSilentOnTouch&&b.zrByTouch||!this.__isEmphasis&&e(this)}function g(){this.__isEmphasis=!0;f(this)}function r(){this.__isEmphasis=!1;e(this)}function k(b,c){return c&&0<=c.indexOf("inside")}function t(b,c,d){d=d||I;if(d.isRectText){var g=c.getShallow("position")||(d.forMerge?null:"inside");"outside"===g&&(g="top");b.textPosition=g;b.textOffset=c.getShallow("offset");g=c.getShallow("rotate");null!=g&&(g*=Math.PI/180);b.textRotation=g;b.textDistance=u.retrieve2(c.getShallow("distance"),d.forMerge?null:5)}for(var g=(g=c.ecModel)&&g.option.textStyle,k,t=c;t&&t!==t.ecModel;){var r=(t.option||I).rich;if(r){k=k||{};for(var e in r)r.hasOwnProperty(e)&&(k[e]=1)}t=t.parentModel}var a;if(k){a={};for(var f in k)k.hasOwnProperty(f)&&(e=c.getModel(["rich",f]),A(a[f]={},e,g,d))}b.rich=a;A(b,c,g,d,!0);d.forceRich&&!d.textStyle&&(d.textStyle={});return b}function A(b,c,d,g,k){var t=g.forMerge;d=!t&&d||I;var r=x(c.getShallow("color")),e=x(c.getShallow("textBorderColor")),a=c.getShallow("textBorderWidth");t||(null==r&&(r=d.color),null==e&&(e=d.textBorderColor),null==a&&(a=d.textBorderWidth),null==r&&g.checkInside&&g.checkInside(c,b.textPosition)&&(r="#fff",null==e&&(e=g.defaultTextColor,null==a&&(a=2))),null==r&&(r=g.defaultTextColor));b.textFill=r;b.textStroke=e;b.textLineWidth=a;b.fontStyle=c.getShallow("fontStyle")||d.fontStyle;b.fontWeight=c.getShallow("fontWeight")||d.fontWeight;b.fontSize=c.getShallow("fontSize")||d.fontSize;b.fontFamily=c.getShallow("fontFamily")||d.fontFamily;b.textAlign=c.getShallow("align");b.textVerticalAlign=c.getShallow("verticalAlign")||c.getShallow("baseline");b.textLineHeight=c.getShallow("lineHeight");b.textWidth=c.getShallow("width");b.textHeight=c.getShallow("height");b.textTag=c.getShallow("tag");k&&g.disableBox||(b.textBackgroundColor=x(c.getShallow("backgroundColor"),g),b.textPadding=c.getShallow("padding"),b.textBorderColor=x(c.getShallow("borderColor"),g),b.textBorderWidth=c.getShallow("borderWidth"),b.textBorderRadius=c.getShallow("borderRadius"),b.textBoxShadowColor=c.getShallow("shadowColor"),b.textBoxShadowBlur=c.getShallow("shadowBlur"),b.textBoxShadowOffsetX=c.getShallow("shadowOffsetX"),b.textBoxShadowOffsetY=c.getShallow("shadowOffsetY"));b.textShadowColor=c.getShallow("textShadowColor")||d.textShadowColor;b.textShadowBlur=c.getShallow("textShadowBlur")||d.textShadowBlur;b.textShadowOffsetX=c.getShallow("textShadowOffsetX")||d.textShadowOffsetX;b.textShadowOffsetY=c.getShallow("textShadowOffsetY")||d.textShadowOffsetY}function x(b,c){return"auto"!==b?b:c&&c.autoColor?c.autoColor:null}function w(b,c,d,g,k,t){"function"===typeof k&&(t=k,k=null);if(g&&g.isAnimationEnabled()){var r=b?"Update":"";b=g.getShallow("animationDuration"+r);var e=g.getShallow("animationEasing"+r),r=g.getShallow("animationDelay"+r);"function"===typeof r&&(r=r(k,g.getAnimationDelayParams?g.getAnimationDelayParams(c,k):null));"function"===typeof b&&(b=b(k));0<b?c.animateTo(d,b,r||0,e,t,!!t):(c.stopAnimation(),c.attr(d),t&&t())}else c.stopAnimation(),c.attr(d),t&&t()}var u=a(4),v=a(21),y=a(22),E=a(35),z=a(11),B=a(10),H=a(30);n=a(9);var F=Math.round,D=Math.max,C=Math.min,I={},J={};J.Group=a(51);J.Image=a(52);J.Text=a(53);J.Circle=a(54);J.Sector=a(55);J.Ring=a(57);J.Polygon=a(58);J.Polyline=a(62);J.Rect=a(63);J.Line=a(64);J.BezierCurve=a(65);J.Arc=a(66);J.CompoundPath=a(67);J.LinearGradient=a(68);J.RadialGradient=a(70);J.BoundingRect=n;J.extendShape=function(b){return y.extend(b)};J.extendPath=function(b,c){return v.extendFromString(b,c)};J.makePath=function(b,c,d,g){b=v.createFromString(b,c);c=b.getBoundingRect();if(d){c=c.width/c.height;if("center"===g){g=d.height*c;g<=d.width?c=d.height:(g=d.width,c=g/c);var k=d.y+d.height/2;d.x=d.x+d.width/2-g/2;d.y=k-c/2;d.width=g;d.height=c}J.resizePath(b,d)}return b};J.mergePath=v.mergePath;J.resizePath=function(b,c){if(b.applyTransform){var d=b.getBoundingRect().calculateTransform(c);b.applyTransform(d)}};J.subPixelOptimizeLine=function(b){var c=J.subPixelOptimize,d=b.shape,g=b.style.lineWidth;F(2*d.x1)===F(2*d.x2)&&(d.x1=d.x2=c(d.x1,g,!0));F(2*d.y1)===F(2*d.y2)&&(d.y1=d.y2=c(d.y1,g,!0));return b};J.subPixelOptimizeRect=function(b){var c=J.subPixelOptimize,d=b.shape,g=b.style.lineWidth,k=d.x,t=d.y,r=d.width,e=d.height;d.x=c(d.x,g,!0);d.y=c(d.y,g,!0);d.width=Math.max(c(k+r,g,!1)-d.x,0===r?0:1);d.height=Math.max(c(t+e,g,!1)-d.y,0===e?0:1);return b};J.subPixelOptimize=function(b,c,d){b=F(2*b);return 0===(b+F(c))%2?b/2:(b+(d?1:-1))/2};J.setHoverStyle=function(k,t,e){k.__hoverSilentOnTouch=e&&e.hoverSilentOnTouch;"group"===k.type?k.traverse(function(c){"group"!==c.type&&b(c,t)}):b(k,t);k.on("mouseover",d).on("mouseout",c);k.on("emphasis",g).on("normal",r)};J.setTextStyle=function(b,c,d,g){t(b,c,g);d&&u.extend(b,d);b.host&&b.host.dirty&&b.host.dirty(!1);return b};J.setText=function(b,c,d){var g={isRectText:!0};!1===d?g.forMerge=!0:(g.defaultTextColor=g.autoColor=d,g.checkInside=k);t(b,c,g);b.host&&b.host.dirty&&b.host.dirty(!1)};J.getFont=function(b,c){var d=c||c.getModel("textStyle");return[b.fontStyle||d&&d.getShallow("fontStyle")||"",b.fontWeight||d&&d.getShallow("fontWeight")||"",(b.fontSize||d&&d.getShallow("fontSize")||12)+"px",b.fontFamily||d&&d.getShallow("fontFamily")||"sans-serif"].join(" ")};J.updateProps=function(b,c,d,g,k){w(!0,b,c,d,g,k)};J.initProps=function(b,c,d,g,k){w(!1,b,c,d,g,k)};J.getTransform=function(b,c){for(var d=z.identity([]);b&&b!==c;)z.mul(d,b.getLocalTransform(),d),b=b.parent;return d};J.applyTransform=function(b,c,d){c&&!u.isArrayLike(c)&&(c=H.getLocalTransform(c));d&&(c=z.invert([],c));return B.applyTransform([],b,c)};J.transformDirection=function(b,c,d){var g=0===c[4]||0===c[5]||0===c[0]?1:Math.abs(2*c[4]/c[0]),k=0===c[4]||0===c[5]||0===c[2]?1:Math.abs(2*c[4]/c[2]);b=["left"===b?-g:"right"===b?g:0,"top"===b?-k:"bottom"===b?k:0];b=J.applyTransform(b,c,d);return Math.abs(b[0])>Math.abs(b[1])?0<b[0]?"right":"left":0<b[1]?"bottom":"top"};J.groupTransition=function(b,c,d,g){function k(b){var c={};b.traverse(function(b){!b.isGroup&&b.anid&&(c[b.anid]=b)});return c}function t(b){var c={position:B.clone(b.position),rotation:b.rotation};b.shape&&(c.shape=u.extend({},b.shape));return c}if(b&&c){var r=k(b);c.traverse(function(b){if(!b.isGroup&&b.anid){var c=r[b.anid];if(c){var g=t(b);b.attr(t(c));J.updateProps(b,g,d,b.dataIndex)}}})}};J.clipPointsByRect=function(b,c){return u.map(b,function(b){var d=b[0],d=D(d,c.x),d=C(d,c.x+c.width);b=b[1];b=D(b,c.y);b=C(b,c.y+c.height);return[d,b]})};J.clipRectByRect=function(b,c){var d=D(b.x,c.x),g=C(b.x+b.width,c.x+c.width),k=D(b.y,c.y),t=C(b.y+b.height,c.y+c.height);if(g>=d&&t>=k)return{x:d,y:k,width:g-d,height:t-k}};J.createIcon=function(b,c,d){c=u.extend({rectHover:!0},c);var g=c.style={strokeNoScale:!0};d=d||{x:-1,y:-1,width:2,height:2};if(b)return 0===b.indexOf("image://")?(g.image=b.slice(8),u.defaults(g,d),new J.Image(c)):J.makePath(b.replace("path://",""),c,d,"center")};q.exports=J},function(q,n,a){function m(b,e,a,f,v,l,h,z,m,p,n){m*=r/180;var q=g(m)*(b-a)/2+c(m)*(e-f)/2,C=-1*c(m)*(b-a)/2+g(m)*(e-f)/2,I=q*q/(h*h)+C*C/(z*z);1<I&&(h*=d(I),z*=d(I));I=(v===l?-1:1)*d((h*h*z*z-h*h*C*C-z*z*q*q)/(h*h*C*C+z*z*q*q))||0;v=I*h*C/z;I=I*-z*q/h;b=(b+a)/2+g(m)*v-c(m)*I;e=(e+f)/2+c(m)*v+g(m)*I;f=t([1,0],[(q-v)/h,(C-I)/z]);a=[(q-v)/h,(C-I)/z];q=[(-1*q-v)/h,(-1*C-I)/z];C=t(a,q);-1>=k(a,q)&&(C=r);1<=k(a,q)&&(C=0);0===l&&0<C&&(C-=2*r);1===l&&0>C&&(C+=2*r);n.addData(p,b,e,h,z,f,C,m,l)}function p(c){if(!c)return[];var d=c.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(c=0;c<b.length;c++)d=d.replace(new RegExp(b[c],"g"),"|"+b[c]);var d=d.split("|"),g=0,k=0,t=new f,r=f.CMD,e;for(c=1;c<d.length;c++){var a=d[c],l=a.charAt(0),h=0,a=a.slice(1).replace(/e,-/g,"e-").split(","),p;0<a.length&&""===a[0]&&a.shift();for(var n=0;n<a.length;n++)a[n]=parseFloat(a[n]);for(;h<a.length&&!isNaN(a[h])&&!isNaN(a[0]);){var q,I,J,L,N,n=g,O=k;switch(l){case "l":g+=a[h++];k+=a[h++];p=r.L;t.addData(p,g,k);break;case "L":g=a[h++];k=a[h++];p=r.L;t.addData(p,g,k);break;case "m":g+=a[h++];k+=a[h++];p=r.M;t.addData(p,g,k);l="l";break;case "M":g=a[h++];k=a[h++];p=r.M;t.addData(p,g,k);l="L";break;case "h":g+=a[h++];p=r.L;t.addData(p,g,k);break;case "H":g=a[h++];p=r.L;t.addData(p,g,k);break;case "v":k+=a[h++];p=r.L;t.addData(p,g,k);break;case "V":k=a[h++];p=r.L;t.addData(p,g,k);break;case "C":p=r.C;t.addData(p,a[h++],a[h++],a[h++],a[h++],a[h++],a[h++]);g=a[h-2];k=a[h-1];break;case "c":p=r.C;t.addData(p,a[h++]+g,a[h++]+k,a[h++]+g,a[h++]+k,a[h++]+g,a[h++]+k);g+=a[h-2];k+=a[h-1];break;case "S":q=g;I=k;p=t.len();n=t.data;e===r.C&&(q+=g-n[p-4],I+=k-n[p-3]);p=r.C;n=a[h++];O=a[h++];g=a[h++];k=a[h++];t.addData(p,q,I,n,O,g,k);break;case "s":q=g;I=k;p=t.len();n=t.data;e===r.C&&(q+=g-n[p-4],I+=k-n[p-3]);p=r.C;n=g+a[h++];O=k+a[h++];g+=a[h++];k+=a[h++];t.addData(p,q,I,n,O,g,k);break;case "Q":n=a[h++];O=a[h++];g=a[h++];k=a[h++];p=r.Q;t.addData(p,n,O,g,k);break;case "q":n=a[h++]+g;O=a[h++]+k;g+=a[h++];k+=a[h++];p=r.Q;t.addData(p,n,O,g,k);break;case "T":q=g;I=k;p=t.len();n=t.data;e===r.Q&&(q+=g-n[p-4],I+=k-n[p-3]);g=a[h++];k=a[h++];p=r.Q;t.addData(p,q,I,g,k);break;case "t":q=g;I=k;p=t.len();n=t.data;e===r.Q&&(q+=g-n[p-4],I+=k-n[p-3]);g+=a[h++];k+=a[h++];p=r.Q;t.addData(p,q,I,g,k);break;case "A":q=a[h++];I=a[h++];J=a[h++];L=a[h++];N=a[h++];n=g;O=k;g=a[h++];k=a[h++];p=r.A;m(n,O,g,k,L,N,q,I,J,p,t);break;case "a":q=a[h++],I=a[h++],J=a[h++],L=a[h++],N=a[h++],n=g,O=k,g+=a[h++],k+=a[h++],p=r.A,m(n,O,g,k,L,N,q,I,J,p,t)}}if("z"===l||"Z"===l)p=r.Z,t.addData(p);e=p}t.toStatic();return t}function h(b,c){var d=p(b);c=c||{};c.buildPath=function(b){if(b.setData){b.setData(d.data);var c=b.getContext();c&&b.rebuildPath(c)}else d.rebuildPath(b)};c.applyTransform=function(b){e(d,b);this.dirty(!0)};return c}var l=a(22),f=a(39),e=a(50),b="mMlLvVhHzZcCqQtTsSaA".split(""),d=Math.sqrt,c=Math.sin,g=Math.cos,r=Math.PI,k=function(b,c){return(b[0]*c[0]+b[1]*c[1])/(Math.sqrt(b[0]*b[0]+b[1]*b[1])*Math.sqrt(c[0]*c[0]+c[1]*c[1]))},t=function(b,c){return(b[0]*c[1]<b[1]*c[0]?-1:1)*Math.acos(k(b,c))};q.exports={createFromString:function(b,c){return new l(h(b,c))},extendFromString:function(b,c){return l.extend(h(b,c))},mergePath:function(b,c){for(var d=[],g=b.length,k=0;k<g;k++){var t=b[k];t.path||t.createPathProxy();t.__dirtyPath&&t.buildPath(t.path,t.shape,!0);d.push(t.path)}g=new l(c);g.createPathProxy();g.buildPath=function(b){b.appendPath(d);var c=b.getContext();c&&b.rebuildPath(c)};return g}}},function(q,n,a){function m(b){p.call(this,b);this.path=null}var p=a(23),h=a(4),l=a(39),f=a(42),e=a(49).prototype.getCanvasPattern,b=Math.abs,d=new l(!0);m.prototype={constructor:m,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(b,g){var r=this.style,k=this.path||d,t=r.hasStroke(),a=r.hasFill(),f=r.fill,w=r.stroke,u=a&&!!f.colorStops,v=t&&!!w.colorStops,l=a&&!!f.image,h=t&&!!w.image;r.bind(b,this,g);this.setTransform(b);if(this.__dirty){var z;u&&(z=z||this.getBoundingRect(),this._fillGradient=r.getGradient(b,f,z));v&&(z=z||this.getBoundingRect(),this._strokeGradient=r.getGradient(b,w,z))}u?b.fillStyle=this._fillGradient:l&&(b.fillStyle=e.call(f,b));v?b.strokeStyle=this._strokeGradient:h&&(b.strokeStyle=e.call(w,b));f=r.lineDash;w=r.lineDashOffset;u=!!b.setLineDash;v=this.getGlobalScale();k.setScale(v[0],v[1]);this.__dirtyPath||f&&!u&&t?(k.beginPath(b),f&&!u&&(k.setLineDash(f),k.setLineDashOffset(w)),this.buildPath(k,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(b.beginPath(),this.path.rebuildPath(b));a&&k.fill(b);f&&u&&(b.setLineDash(f),b.lineDashOffset=w);t&&k.stroke(b);f&&u&&b.setLineDash([]);this.restoreTransform(b);null!=r.text&&this.drawRectText(b,this.getBoundingRect())},buildPath:function(b,d,r){},createPathProxy:function(){this.path=new l},getBoundingRect:function(){var b=this._rect,d=this.style,r=!b;if(r){var k=this.path;k||(k=this.path=new l);this.__dirtyPath&&(k.beginPath(),this.buildPath(k,this.shape,!1));b=k.getBoundingRect()}this._rect=b;if(d.hasStroke()){k=this._rectWithStroke||(this._rectWithStroke=b.clone());if(this.__dirty||r)k.copy(b),r=d.lineWidth,b=d.strokeNoScale?this.getLineScale():1,d.hasFill()||(r=Math.max(r,this.strokeContainThreshold||4)),1E-10<b&&(k.width+=r/b,k.height+=r/b,k.x-=r/b/2,k.y-=r/b/2);return k}return b},contain:function(b,d){var r=this.transformCoordToLocal(b,d),k=this.getBoundingRect(),t=this.style;b=r[0];d=r[1];if(k.contain(b,d)){r=this.path.data;if(t.hasStroke()){var k=t.lineWidth,a=t.strokeNoScale?this.getLineScale():1;if(1E-10<a&&(t.hasFill()||(k=Math.max(k,this.strokeContainThreshold)),f.containStroke(r,k/a,b,d)))return!0}if(t.hasFill())return f.contain(r,b,d)}return!1},dirty:function(b){null==b&&(b=!0);b&&(this.__dirtyPath=b,this._rect=null);this.__dirty=!0;this.__zr&&this.__zr.refresh();this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(b){return this.animate("shape",b)},attrKV:function(b,d){"shape"===b?(this.setShape(d),this.__dirtyPath=!0,this._rect=null):p.prototype.attrKV.call(this,b,d)},setShape:function(b,d){var r=this.shape;if(r){if(h.isObject(b))for(var k in b)b.hasOwnProperty(k)&&(r[k]=b[k]);else r[b]=d;this.dirty(!0)}return this},getLineScale:function(){var c=this.transform;return c&&1E-10<b(c[0]-1)&&1E-10<b(c[3]-1)?Math.sqrt(b(c[0]*c[3]-c[2]*c[1])):1}};m.extend=function(b){var d=function(d){m.call(this,d);b.style&&this.style.extendFrom(b.style,!1);var g=b.shape;if(g){var r=this.shape=this.shape||{},a;for(a in g)!r.hasOwnProperty(a)&&g.hasOwnProperty(a)&&(r[a]=g[a])}b.init&&b.init.call(this,d)};h.inherits(d,m);for(var r in b)"style"!==r&&"shape"!==r&&(d.prototype[r]=b[r]);return d};h.inherits(m,p);q.exports=m},function(q,n,a){function m(a){a=a||{};h.call(this,a);for(var f in a)a.hasOwnProperty(f)&&"style"!==f&&(this[f]=a[f]);this.style=new p(a.style,this);this._rect=null;this.__clipPaths=[]}n=a(4);var p=a(24),h=a(27);a=a(38);m.prototype={constructor:m,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(a){},afterBrush:function(a){},brush:function(a,f){},getBoundingRect:function(){},contain:function(a,f){return this.rectContain(a,f)},traverse:function(a,f){a.call(f,this)},rectContain:function(a,f){var e=this.transformCoordToLocal(a,f);return this.getBoundingRect().contain(e[0],e[1])},dirty:function(){this.__dirty=!0;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,f){"style"!==a?h.prototype.attrKV.call(this,a,f):this.style.set(f)},setStyle:function(a,f){this.style.set(a,f);this.dirty(!1);return this},useStyle:function(a){this.style=new p(a,this);this.dirty(!1);return this}};n.inherits(m,h);n.mixin(m,a);q.exports=m},function(q,n,a){function m(b,d,c){var g=null==d.x?0:d.x,r=null==d.x2?1:d.x2,k=null==d.y?0:d.y,t=null==d.y2?0:d.y2;d.global||(g=g*c.width+c.x,r=r*c.width+c.x,k=k*c.height+c.y,t=t*c.height+c.y);return b.createLinearGradient(g,k,r,t)}function p(b,d,c){var g=c.width,r=c.height,k=Math.min(g,r),t=null==d.x?.5:d.x,a=null==d.y?.5:d.y,e=null==d.r?.5:d.r;d.global||(t=t*g+c.x,a=a*r+c.y,e*=k);return b.createRadialGradient(t,a,0,t,a,e)}var h=a(25),l=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];n=function(b,d){this.extendFrom(b,!1);this.host=d};n.prototype={constructor:n,host:null,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textLineWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,normalize:function(){h.normalizeTextStyle(this)},bind:function(b,d,c){c=c&&c.style;for(var g=!c,r=0;r<l.length;r++){var k=l[r],t=k[0];if(g||this[t]!==c[t])b[t]=this[t]||k[1]}if(g||this.fill!==c.fill)b.fillStyle=this.fill;if(g||this.stroke!==c.stroke)b.strokeStyle=this.stroke;if(g||this.opacity!==c.opacity)b.globalAlpha=null==this.opacity?1:this.opacity;if(g||this.blend!==c.blend)b.globalCompositeOperation=this.blend||"source-over";this.hasStroke()&&(b.lineWidth=this.lineWidth/(this.strokeNoScale&&d&&d.getLineScale?d.getLineScale():1))},hasFill:function(){var b=this.fill;return null!=b&&"none"!==b},hasStroke:function(){var b=this.stroke;return null!=b&&"none"!==b&&0<this.lineWidth},extendFrom:function(b,d){if(b)for(var c in b)!b.hasOwnProperty(c)||!0!==d&&(!1===d?this.hasOwnProperty(c):null==b[c])||(this[c]=b[c])},set:function(b,d){"string"===typeof b?this[b]=d:this.extendFrom(b,!0)},clone:function(){var b=new this.constructor;b.extendFrom(this,!0);return b},getGradient:function(b,d,c){b=("radial"===d.type?p:m)(b,d,c);d=d.colorStops;for(c=0;c<d.length;c++)b.addColorStop(d[c].offset,d[c].color);return b}};a=n.prototype;for(var f=0;f<l.length;f++){var e=l[f];e[0]in a||(a[e[0]]=e[1])}n.getGradient=a.getGradient;q.exports=n},function(q,n,a){function m(b){if(b){b.font=g.makeFont(b);var c=b.textAlign;"middle"===c&&(c="center");b.textAlign=null==c||w[c]?c:"left";c=b.textVerticalAlign||b.textBaseline;"center"===c&&(c="middle");b.textVerticalAlign=null==c||u[c]?c:"top";b.textPadding&&(b.textPadding=r.normalizeCssArray(b.textPadding))}}function p(b,c,d,g,k){if(d&&c.textRotation){var t=c.textOrigin;"center"===t?(g=d.width/2+d.x,k=d.height/2+d.y):t&&(g=t[0]+d.x,k=t[1]+d.y);b.translate(g,k);b.rotate(-c.textRotation);b.translate(-g,-k)}}function h(d,k,t,r,a,e,f,w){var u=r.rich[t.styleName]||{},h=t.textVerticalAlign,m=e+a/2;"top"===h?m=e+t.height/2:"bottom"===h&&(m=e+a-t.height/2);!t.isLineHolder&&(u.textBackgroundColor||u.textBorderWidth&&u.textBorderColor)&&l(d,k,u,"right"===w?f-t.width:"center"===w?f-t.width/2:f,m-t.height/2,t.width,t.height);if(d=t.textPadding)f=c(f,w,d),m-=t.height/2-d[2]-t.textHeight/2;b(k,"shadowBlur",A(u.textShadowBlur,r.textShadowBlur,0));b(k,"shadowColor",u.textShadowColor||r.textShadowColor||"transparent");b(k,"shadowOffsetX",A(u.textShadowOffsetX,r.textShadowOffsetX,0));b(k,"shadowOffsetY",A(u.textShadowOffsetY,r.textShadowOffsetY,0));b(k,"textAlign",w);b(k,"textBaseline","middle");b(k,"font",t.font||g.DEFAULT_FONT);w=v(u.textStroke||r.textStroke,p);d=y(u.textFill||r.textFill);var p=x(u.textLineWidth,r.textLineWidth);w&&(b(k,"lineWidth",p),b(k,"strokeStyle",w),k.strokeText(t.text,f,m));d&&(b(k,"fillStyle",d),k.fillText(t.text,f,m))}function l(c,d,g,a,e,w,v){var u=g.textBackgroundColor,A=g.textBorderWidth,x=g.textBorderColor,l=r.isString(u);b(d,"shadowBlur",g.textBoxShadowBlur||0);b(d,"shadowColor",g.textBoxShadowColor||"transparent");b(d,"shadowOffsetX",g.textBoxShadowOffsetX||0);b(d,"shadowOffsetY",g.textBoxShadowOffsetY||0);if(l||A&&x)d.beginPath(),(g=g.textBorderRadius)?k.buildPath(d,{x:a,y:e,width:w,height:v,r:g}):d.rect(a,e,w,v),d.closePath();l?(b(d,"fillStyle",u),d.fill()):r.isObject(u)&&(l=u.image,(l=t.createOrUpdateImage(l,null,c,f,u))&&t.isImageReady(l)&&d.drawImage(l,a,e,w,v));A&&x&&(b(d,"lineWidth",A),b(d,"strokeStyle",x),d.stroke())}function f(b,c){c.image=b}function e(b,c,k){b=c.x||0;var t=c.y||0,r=c.textAlign,a=c.textVerticalAlign;k&&(t=c.textPosition,t instanceof Array?(b=k.x+d(t[0],k.width),t=k.y+d(t[1],k.height)):(k=g.adjustTextPositionOnRect(t,k,c.textDistance),b=k.x,t=k.y,r=r||k.textAlign,a=a||k.textVerticalAlign),c=c.textOffset)&&(b+=c[0],t+=c[1]);return{baseX:b,baseY:t,textAlign:r,textVerticalAlign:a}}function b(b,c,d){b[c]=b.__currentValues[c]=d;return b[c]}function d(b,c){return"string"===typeof b?0<=b.lastIndexOf("%")?parseFloat(b)/100*c:parseFloat(b):b}function c(b,c,d){return"right"===c?b-d[1]:"center"===c?b+d[3]/2-d[1]/2:b+d[3]}var g=a(8),r=a(4),k=a(26),t=a(12),A=r.retrieve3,x=r.retrieve2,w={left:1,right:1,center:1},u={top:1,bottom:1,middle:1};n={normalizeTextStyle:function(b){m(b);r.each(b.rich,m);return b},renderText:function(d,k,t,r,a){if(r.rich){var f=d.__textCotentBlock;if(!f||d.__dirty)f=d.__textCotentBlock=g.parseRichText(t,r);t=f.width;var w=f.outerWidth,u=f.outerHeight,A=r.textPadding,x=e(u,r,a),m=x.baseX,n=x.baseY,q=x.textAlign,x=x.textVerticalAlign;p(k,r,a,m,n);m=g.adjustTextX(m,w,q);q=g.adjustTextY(n,u,x);a=m;n=q;A&&(a+=A[3],n+=A[0]);A=a+t;(r.textBackgroundColor||r.textBorderWidth&&r.textBorderColor)&&l(d,k,r,m,q,w,u);for(w=0;w<f.lines.length;w++){for(var x=f.lines[w],u=x.tokens,m=u.length,q=x.lineHeight,x=x.width,G=0,R=a,P=A,Q=m-1,M;G<m&&(M=u[G],!M.textAlign||"left"===M.textAlign);)h(d,k,M,r,q,n,R,"left"),x-=M.width,R+=M.width,G++;for(;0<=Q&&(M=u[Q],"right"===M.textAlign);)h(d,k,M,r,q,n,P,"right"),x-=M.width,P-=M.width,Q--;for(R+=(t-(R-a)-(A-P)-x)/2;G<=Q;)M=u[G],h(d,k,M,r,q,n,R+M.width/2,"center"),R+=M.width,G++;n+=q}}else{q=b(k,"font",r.font||g.DEFAULT_FONT);n=r.textPadding;f=d.__textCotentBlock;if(!f||d.__dirty)f=d.__textCotentBlock=g.parsePlainText(t,q,n,r.truncate);A=f.outerHeight;M=f.lines;f=f.lineHeight;x=e(A,r,a);w=x.baseX;m=x.baseY;u=x.textAlign;x=x.textVerticalAlign;p(k,r,a,w,m);x=g.adjustTextY(m,A,x);a=w;m=x;if((G=r.textBackgroundColor||r.textBorderWidth&&r.textBorderColor)||n)t=g.getWidth(t,q),n&&(t+=n[1]+n[3]),q=g.adjustTextX(w,t,u),G&&l(d,k,r,q,x,t,A),n&&(a=c(w,u,n),m+=n[0]);b(k,"textAlign",u||"left");b(k,"textBaseline","middle");b(k,"shadowBlur",r.textShadowBlur||0);b(k,"shadowColor",r.textShadowColor||"transparent");b(k,"shadowOffsetX",r.textShadowOffsetX||0);b(k,"shadowOffsetY",r.textShadowOffsetY||0);m+=f/2;t=r.textLineWidth;d=v(r.textStroke,t);r=y(r.textFill);d&&(b(k,"lineWidth",t),b(k,"strokeStyle",d));r&&b(k,"fillStyle",r);for(t=0;t<M.length;t++)d&&k.strokeText(M[t],a,m),r&&k.fillText(M[t],a,m),m+=f}}};var v=n.getStroke=function(b,c){return null==b||0>=c||"transparent"===b||"none"===b?null:b.image||b.colorStops?"#000":b},y=n.getFill=function(b){return null==b||"none"===b?null:b.image||b.colorStops?"#000":b};n.needDrawText=function(b,c){return null!=b&&(b||c.textBackgroundColor||c.textBorderWidth&&c.textBorderColor||c.textPadding)};q.exports=n},function(q,n){q.exports={buildPath:function(a,m){var p=m.x,h=m.y,l=m.width,f=m.height,e=m.r,b,d,c,g;0>l&&(p+=l,l=-l);0>f&&(h+=f,f=-f);"number"===typeof e?b=d=c=g=e:e instanceof Array?1===e.length?b=d=c=g=e[0]:2===e.length?(b=c=e[0],d=g=e[1]):3===e.length?(b=e[0],d=g=e[1],c=e[2]):(b=e[0],d=e[1],c=e[2],g=e[3]):b=d=c=g=0;b+d>l&&(e=b+d,b*=l/e,d*=l/e);c+g>l&&(e=c+g,c*=l/e,g*=l/e);d+c>f&&(e=d+c,d*=f/e,c*=f/e);b+g>f&&(e=b+g,b*=f/e,g*=f/e);a.moveTo(p+b,h);a.lineTo(p+l-d,h);0!==d&&a.quadraticCurveTo(p+l,h,p+l,h+d);a.lineTo(p+l,h+f-c);0!==c&&a.quadraticCurveTo(p+l,h+f,p+l-c,h+f);a.lineTo(p+g,h+f);0!==g&&a.quadraticCurveTo(p,h+f,p,h+f-g);a.lineTo(p,h+b);0!==b&&a.quadraticCurveTo(p,h,p+b,h)}}},function(q,n,a){var m=a(28),p=a(29),h=a(30),l=a(31),f=a(4);n=function(a){h.call(this,a);p.call(this,a);l.call(this,a);this.id=a.id||m()};n.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(a,b){switch(this.draggable){case "horizontal":b=0;break;case "vertical":a=0}var d=this.transform;d||(d=this.transform=[1,0,0,1,0,0]);d[4]+=a;d[5]+=b;this.decomposeTransform();this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(a,b){},attrKV:function(a,b){if("position"===a||"scale"===a||"origin"===a){if(b){var d=this[a];d||(d=this[a]=[]);d[0]=b[0];d[1]=b[1]}}else this[a]=b},hide:function(){this.ignore=!0;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1;this.__zr&&this.__zr.refresh()},attr:function(a,b){if("string"===typeof a)this.attrKV(a,b);else if(f.isObject(a))for(var d in a)a.hasOwnProperty(d)&&this.attrKV(d,a[d]);this.dirty(!1);return this},setClipPath:function(a){var b=this.__zr;b&&a.addSelfToZr(b);this.clipPath&&this.clipPath!==a&&this.removeClipPath();this.clipPath=a;a.__zr=b;a.__clipTarget=this;this.dirty(!1)},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,this.clipPath=a.__clipTarget=null,this.dirty(!1))},addSelfToZr:function(a){this.__zr=a;var b=this.animators;if(b)for(var d=0;d<b.length;d++)a.animation.addAnimator(b[d]);this.clipPath&&this.clipPath.addSelfToZr(a)},removeSelfFromZr:function(a){this.__zr=null;var b=this.animators;if(b)for(var d=0;d<b.length;d++)a.animation.removeAnimator(b[d]);this.clipPath&&this.clipPath.removeSelfFromZr(a)}};f.mixin(n,l);f.mixin(n,h);f.mixin(n,p);q.exports=n},function(q,n){var a=2311;q.exports=function(){return a++}},function(q,n){var a=Array.prototype.slice,m=function(){this._$handlers={}};m.prototype={constructor:m,one:function(a,h,l){var f=this._$handlers;if(!h||!a)return this;f[a]||(f[a]=[]);for(var e=0;e<f[a].length;e++)if(f[a][e].h===h)return this;f[a].push({h:h,one:!0,ctx:l||this});return this},on:function(a,h,l){var f=this._$handlers;if(!h||!a)return this;f[a]||(f[a]=[]);for(var e=0;e<f[a].length;e++)if(f[a][e].h===h)return this;f[a].push({h:h,one:!1,ctx:l||this});return this},isSilent:function(a){var h=this._$handlers;return h[a]&&h[a].length},off:function(a,h){var l=this._$handlers;if(!a)return this._$handlers={},this;if(h){if(l[a]){for(var f=[],e=0,b=l[a].length;e<b;e++)l[a][e].h!=h&&f.push(l[a][e]);l[a]=f}l[a]&&0===l[a].length&&delete l[a]}else delete l[a];return this},trigger:function(m){if(this._$handlers[m]){var h=arguments,l=h.length;3<l&&(h=a.call(h,1));for(var f=this._$handlers[m],e=f.length,b=0;b<e;){switch(l){case 1:f[b].h.call(f[b].ctx);break;case 2:f[b].h.call(f[b].ctx,h[1]);break;case 3:f[b].h.call(f[b].ctx,h[1],h[2]);break;default:f[b].h.apply(f[b].ctx,h)}f[b].one?(f.splice(b,1),e--):b++}}return this},triggerWithContext:function(m){if(this._$handlers[m]){var h=arguments,l=h.length;4<l&&(h=a.call(h,1,h.length-1));for(var f=h[h.length-1],e=this._$handlers[m],b=e.length,d=0;d<b;){switch(l){case 1:e[d].h.call(f);break;case 2:e[d].h.call(f,h[1]);break;case 3:e[d].h.call(f,h[1],h[2]);break;default:e[d].h.apply(f,h)}e[d].one?(e.splice(d,1),b--):d++}}return this}};q.exports=m},function(q,n,a){function m(b){return 5E-5<b||-5E-5>b}var p=a(11),h=a(10),l=p.identity,f=function(b){b=b||{};b.position||(this.position=[0,0]);null==b.rotation&&(this.rotation=0);b.scale||(this.scale=[1,1]);this.origin=this.origin||null};n=f.prototype;n.transform=null;n.needLocalTransform=function(){return m(this.rotation)||m(this.position[0])||m(this.position[1])||m(this.scale[0]-1)||m(this.scale[1]-1)};n.updateTransform=function(){var b=this.parent,d=b&&b.transform,c=this.needLocalTransform(),g=this.transform;c||d?(g=g||p.create(),c?this.getLocalTransform(g):l(g),d&&(c?p.mul(g,b.transform,g):p.copy(g,b.transform)),this.transform=g,this.invTransform=this.invTransform||p.create(),p.invert(this.invTransform,g)):g&&l(g)};n.getLocalTransform=function(b){return f.getLocalTransform(this,b)};n.setTransform=function(b){var d=this.transform,c=b.dpr||1;d?b.setTransform(c*d[0],c*d[1],c*d[2],c*d[3],c*d[4],c*d[5]):b.setTransform(c,0,0,c,0,0)};n.restoreTransform=function(b){var d=b.dpr||1;b.setTransform(d,0,0,d,0,0)};var e=[];n.decomposeTransform=function(){if(this.transform){var b=this.parent,d=this.transform;b&&b.transform&&(p.mul(e,b.invTransform,d),d=e);var b=d[0]*d[0]+d[1]*d[1],c=d[2]*d[2]+d[3]*d[3],g=this.position,a=this.scale;m(b-1)&&(b=Math.sqrt(b));m(c-1)&&(c=Math.sqrt(c));0>d[0]&&(b=-b);0>d[3]&&(c=-c);g[0]=d[4];g[1]=d[5];a[0]=b;a[1]=c;this.rotation=Math.atan2(-d[1]/c,d[0]/b)}};n.getGlobalScale=function(){var b=this.transform;if(!b)return[1,1];var d=Math.sqrt(b[0]*b[0]+b[1]*b[1]),c=Math.sqrt(b[2]*b[2]+b[3]*b[3]);0>b[0]&&(d=-d);0>b[3]&&(c=-c);return[d,c]};n.transformCoordToLocal=function(b,d){var c=[b,d],g=this.invTransform;g&&h.applyTransform(c,c,g);return c};n.transformCoordToGlobal=function(b,d){var c=[b,d],g=this.transform;g&&h.applyTransform(c,c,g);return c};f.getLocalTransform=function(b,d){d=d||[];l(d);var c=b.origin,g=b.scale||[1,1],a=b.rotation||0,k=b.position||[0,0];c&&(d[4]-=c[0],d[5]-=c[1]);p.scale(d,d,g);a&&p.rotate(d,d,a);c&&(d[4]+=c[0],d[5]+=c[1]);d[4]+=k[0];d[5]+=k[1];return d};q.exports=f},function(q,n,a){var m=a(32),p=a(4),h=p.isString,l=p.isFunction,f=p.isObject,e=a(36);n=function(){this.animators=[]};n.prototype={constructor:n,animate:function(b,d){var c,g=!1,a=this,k=this.__zr;if(b){for(var t=b.split("."),f=a,g="shape"===t[0],x=0,w=t.length;x<w;x++)f&&(f=f[t[x]]);f&&(c=f)}else c=a;if(c){var u=a.animators,v=new m(c,d);v.during(function(b){a.dirty(g)}).done(function(){u.splice(p.indexOf(u,v),1)});u.push(v);k&&k.animation.addAnimator(v);return v}e('Property "'+b+'" is not existed in element '+a.id)},stopAnimation:function(b){for(var d=this.animators,c=d.length,g=0;g<c;g++)d[g].stop(b);d.length=0;return this},animateTo:function(b,d,c,g,a,k){function t(){e--;e||a&&a()}h(c)?(a=g,g=c,c=0):l(g)?(a=g,g="linear",c=0):l(c)?(a=c,c=0):l(d)?(a=d,d=500):d||(d=500);this.stopAnimation();this._animateToShallow("",this,b,d,c,g,a);b=this.animators.slice();var e=b.length;e||a&&a();for(d=0;d<b.length;d++)b[d].done(t).start(g,k)},_animateToShallow:function(b,d,c,g,a){var k={},t=0,e;for(e in c)if(c.hasOwnProperty(e))if(null!=d[e])f(c[e])&&!p.isArrayLike(c[e])?this._animateToShallow(b?b+"."+e:e,d[e],c[e],g,a):(k[e]=c[e],t++);else if(null!=c[e])if(b){var x={};x[b]={};x[b][e]=c[e];this.attr(x)}else this.attr(e,c[e]);0<t&&this.animate(b,!1).when(null==g?500:g,k).delay(a||0);return this}};q.exports=n},function(q,n,a){function m(b,c){return b[c]}function p(b,c,d){b[c]=d}function h(b,c,d,g,k){var a=b.length;if(1==k)for(k=0;k<a;k++){var t=b[k];g[k]=(c[k]-t)*d+t}else for(t=a&&b[0].length,k=0;k<a;k++)for(var r=0;r<t;r++){var e=b[k][r];g[k][r]=(c[k][r]-e)*d+e}}function l(b,c,d){var g=b.length,k=c.length;if(g!==k)if(g>k)b.length=k;else for(;g<k;g++)b.push(1===d?c[g]:x.call(c[g]));k=b[0]&&b[0].length;for(g=0;g<b.length;g++)if(1===d)isNaN(b[g])&&(b[g]=c[g]);else for(var a=0;a<k;a++)isNaN(b[g][a])&&(b[g][a]=c[g][a])}function f(b,c,d){if(b===c)return!0;var g=b.length;if(g!==c.length)return!1;if(1===d)for(d=0;d<g;d++){if(b[d]!==c[d])return!1}else{var k=b[0].length;for(d=0;d<g;d++)for(var a=0;a<k;a++)if(b[d][a]!==c[d][a])return!1}return!0}function e(c,d,g,k,a,t,r,e,f){var x=c.length;if(1==f)for(f=0;f<x;f++)e[f]=b(c[f],d[f],g[f],k[f],a,t,r);else{var A=c[0].length;for(f=0;f<x;f++)for(var l=0;l<A;l++)e[f][l]=b(c[f][l],d[f][l],g[f][l],k[f][l],a,t,r)}}function b(b,c,d,g,k,a,t){b=.5*(d-b);g=.5*(g-c);return(2*(c-d)+b+g)*t+(-3*(c-d)-2*b-g)*a+b*k+c}function d(b){if(A(b)){var c=b.length;if(A(b[0])){for(var d=[],g=0;g<c;g++)d.push(x.call(b[g]));return d}return x.call(b)}return b}function c(b){b[0]=Math.floor(b[0]);b[1]=Math.floor(b[1]);b[2]=Math.floor(b[2]);return"rgba("+b.join(",")+")"}function g(b){b=b[b.length-1].value;return A(b&&b[0])?2:1}function r(d,a,r,x,E,m){var p=d._getter,n=d._setter,q="spline"===a,D=x.length;if(D){var C=A(x[0].value),I=!1,J=!1,L=C?g(x):0,N;x.sort(function(b,c){return b.time-c.time});N=x[D-1].time;for(var O=[],K=[],G=x[0].value,R=!0,P=0;P<D;P++){O.push(x[P].time/N);var Q=x[P].value;C&&f(Q,G,L)||!C&&Q===G||(R=!1);G=Q;if("string"==typeof Q){var M=t.parse(Q);M?(Q=M,I=!0):J=!0}K.push(Q)}if(m||!R){x=K[D-1];for(P=0;P<D-1;P++)C?l(K[P],x,L):!isNaN(K[P])||isNaN(x)||J||I||(K[P]=x);C&&l(p(d._target,E),x,L);var S=0,Y=0,V,T,Z,W,X,ba;if(I)var ca=[0,0,0,0];d=new k({target:d._target,life:N,loop:d._loop,delay:d._delay,onframe:function(d,g){var k;if(0>g)k=0;else if(g<Y){for(k=V=Math.min(S+1,D-1);0<=k&&!(O[k]<=g);k--);k=Math.min(k,D-2)}else{for(k=S;k<D&&!(O[k]>g);k++);k=Math.min(k-1,D-2)}S=k;Y=g;var a=O[k+1]-O[k];if(0!==a)if(T=(g-O[k])/a,q)if(W=K[k],Z=K[0===k?k:k-1],X=K[k>D-2?D-1:k+1],ba=K[k>D-3?D-1:k+2],C)e(Z,W,X,ba,T,T*T,T*T*T,p(d,E),L);else{if(I)e(Z,W,X,ba,T,T*T,T*T*T,ca,1),k=c(ca);else{if(J)return.5<T?X:W;k=b(Z,W,X,ba,T,T*T,T*T*T)}n(d,E,k)}else if(C)h(K[k],K[k+1],T,p(d,E),L);else{if(I)h(K[k],K[k+1],T,ca,1),k=c(ca);else{if(J)return.5<T?K[k+1]:K[k];a=K[k];k=(K[k+1]-a)*T+a}n(d,E,k)}},ondestroy:r});a&&"spline"!==a&&(d.easing=a);return d}}}var k=a(33),t=a(35),A=a(4).isArrayLike,x=Array.prototype.slice;n=function(b,c,d,g){this._tracks={};this._target=b;this._loop=c||!1;this._getter=d||m;this._setter=g||p;this._delay=this._clipCount=0;this._doneList=[];this._onframeList=[];this._clipList=[]};n.prototype={when:function(b,c){var g=this._tracks,k;for(k in c)if(c.hasOwnProperty(k)){if(!g[k]){g[k]=[];var a=this._getter(this._target,k);if(null==a)continue;0!==b&&g[k].push({time:0,value:d(a)})}g[k].push({time:b,value:c[k]})}return this},during:function(b){this._onframeList.push(b);return this},pause:function(){for(var b=0;b<this._clipList.length;b++)this._clipList[b].pause();this._paused=!0},resume:function(){for(var b=0;b<this._clipList.length;b++)this._clipList[b].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={};this._clipList.length=0;for(var b=this._doneList,c=b.length,d=0;d<c;d++)b[d].call(this)},start:function(b,c){var d=this,g=0,k=function(){g--;g||d._doneCallback()},a,t;for(t in this._tracks)if(this._tracks.hasOwnProperty(t)){var e=r(this,b,k,this._tracks[t],t,c);e&&(this._clipList.push(e),g++,this.animation&&this.animation.addClip(e),a=e)}if(a){var f=a.onframe;a.onframe=function(b,c){f(b,c);for(var g=0;g<d._onframeList.length;g++)d._onframeList[g](b,c)}}g||this._doneCallback();return this},stop:function(b){for(var c=this._clipList,d=this.animation,g=0;g<c.length;g++){var k=c[g];if(b)k.onframe(this._target,1);d&&d.removeClip(k)}c.length=0},delay:function(b){this._delay=b;return this},done:function(b){b&&this._doneList.push(b);return this},getClips:function(){return this._clipList}};q.exports=n},function(q,n,a){function m(a){this._target=a.target;this._life=a.life||1E3;this._delay=a.delay||0;this._initialized=!1;this.loop=null==a.loop?!1:a.loop;this.gap=a.gap||0;this.easing=a.easing||"Linear";this.onframe=a.onframe;this.ondestroy=a.ondestroy;this.onrestart=a.onrestart;this._pausedTime=0;this._paused=!1}var p=a(34);m.prototype={constructor:m,step:function(a,l){this._initialized||(this._startTime=a+this._delay,this._initialized=!0);if(this._paused)this._pausedTime+=l;else{var f=(a-this._startTime-this._pausedTime)/this._life;if(!(0>f)){var f=Math.min(f,1),e=this.easing,e="string"==typeof e?p[e]:e,e="function"===typeof e?e(f):f;this.fire("frame",e);if(1==f){if(this.loop)return this.restart(a),"restart";this._needsRemove=!0;return"destroy"}return null}}},restart:function(a){this._startTime=a-(a-this._startTime-this._pausedTime)%this._life+this.gap;this._pausedTime=0;this._needsRemove=!1},fire:function(a,l){a="on"+a;if(this[a])this[a](this._target,l)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};q.exports=m},function(q,n){var a={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return 1>(a*=2)?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return 1>(a*=2)?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var p,h=.1;if(0===a)return 0;if(1===a)return 1;!h||1>h?(h=1,p=.1):p=.4*Math.asin(1/h)/(2*Math.PI);return-(h*Math.pow(2,10*--a)*Math.sin(2*(a-p)*Math.PI/.4))},elasticOut:function(a){var p,h=.1;if(0===a)return 0;if(1===a)return 1;!h||1>h?(h=1,p=.1):p=.4*Math.asin(1/h)/(2*Math.PI);return h*Math.pow(2,-10*a)*Math.sin(2*(a-p)*Math.PI/.4)+1},elasticInOut:function(a){var p,h=.1;if(0===a)return 0;if(1===a)return 1;!h||1>h?(h=1,p=.1):p=.4*Math.asin(1/h)/(2*Math.PI);return 1>(a*=2)?-.5*h*Math.pow(2,10*--a)*Math.sin(2*(a-p)*Math.PI/.4):h*Math.pow(2,-10*--a)*Math.sin(2*(a-p)*Math.PI/.4)*.5+1},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){return--a*a*(2.70158*a+1.70158)+1},backInOut:function(a){return 1>(a*=2)?.5*a*a*(3.5949095*a-2.5949095):.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)},bounceIn:function(m){return 1-a.bounceOut(1-m)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(m){return.5>m?.5*a.bounceIn(2*m):.5*a.bounceOut(2*m-1)+.5}};q.exports=a},function(q,n,a){function m(b){b=Math.round(b);return 0>b?0:255<b?255:b}function p(b){return 0>b?0:1<b?1:b}function h(b){return b.length&&"%"===b.charAt(b.length-1)?m(parseFloat(b)/100*255):m(parseInt(b,10))}function l(b){return b.length&&"%"===b.charAt(b.length-1)?p(parseFloat(b)/100):p(parseFloat(b))}function f(b,c,d){0>d?d+=1:1<d&&--d;return 1>6*d?b+(c-b)*d*6:1>2*d?c:2>3*d?b+(c-b)*(2/3-d)*6:b}function e(b,c,d){return b+(c-b)*d}function b(b,c,d,g,k){b[0]=c;b[1]=d;b[2]=g;b[3]=k;return b}function d(b,c){b[0]=c[0];b[1]=c[1];b[2]=c[2];b[3]=c[3];return b}function c(b,c){x&&d(x,c);x=A.put(b,x||c.slice())}function g(g,k){if(g){k=k||[];var a=A.get(g);if(a)return d(k,a);g+="";var e=g.replace(/ /g,"").toLowerCase();if(e in t)return d(k,t[e]),c(g,k),k;if("#"===e.charAt(0))if(4===e.length){a=parseInt(e.substr(1),16);if(0<=a&&4095>=a)return b(k,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,1),c(g,k),k;b(k,0,0,0,1)}else{if(7===e.length){a=parseInt(e.substr(1),16);if(0<=a&&16777215>=a)return b(k,(a&16711680)>>16,(a&65280)>>8,a&255,1),c(g,k),k;b(k,0,0,0,1)}}else{var f=e.indexOf("("),x=e.indexOf(")");if(-1!==f&&x+1===e.length)switch(a=e.substr(0,f),e=e.substr(f+1,x-(f+1)).split(","),f=1,a){case "rgba":if(4!==e.length){b(k,0,0,0,1);return}f=l(e.pop());case "rgb":if(3!==e.length){b(k,0,0,0,1);return}b(k,h(e[0]),h(e[1]),h(e[2]),f);c(g,k);return k;case "hsla":if(4!==e.length){b(k,0,0,0,1);return}e[3]=l(e[3]);r(e,k);c(g,k);return k;case "hsl":if(3!==e.length){b(k,0,0,0,1);return}r(e,k);c(g,k);return k;default:return}b(k,0,0,0,1)}}}function r(c,d){var g=(parseFloat(c[0])%360+360)%360/360,k=l(c[1]),a=l(c[2]),k=.5>=a?a*(k+1):a+k-a*k,a=2*a-k;d=d||[];b(d,m(255*f(a,k,g+1/3)),m(255*f(a,k,g)),m(255*f(a,k,g-1/3)),1);4===c.length&&(d[3]=c[3]);return d}function k(b,c){if(b&&b.length){var d=b[0]+","+b[1]+","+b[2];if("rgba"===c||"hsva"===c||"hsla"===c)d+=","+b[3];return c+"("+d+")"}}var t={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},A=new (a(13))(20),x=null;q.exports={parse:g,lift:function(b,c){var d=g(b);if(d){for(var a=0;3>a;a++)d[a]=0>c?d[a]*(1-c)|0:(255-d[a])*c+d[a]|0;return k(d,4===d.length?"rgba":"rgb")}},toHex:function(b,c){var d=g(b);if(d)return(16777216+(d[0]<<16)+(d[1]<<8)+ +d[2]).toString(16).slice(1)},fastMapToColor:function(b,c,d){if(c&&c.length&&0<=b&&1>=b){d=d||[];var g=b*(c.length-1),k=Math.floor(g);b=c[k];c=c[Math.ceil(g)];g-=k;d[0]=m(e(b[0],c[0],g));d[1]=m(e(b[1],c[1],g));d[2]=m(e(b[2],c[2],g));d[3]=p(e(b[3],c[3],g));return d}},mapToColor:function(b,c,d){if(c&&c.length&&0<=b&&1>=b){b*=c.length-1;var a=Math.floor(b),t=Math.ceil(b),r=g(c[a]);c=g(c[t]);var f=b-a,r=k([m(e(r[0],c[0],f)),m(e(r[1],c[1],f)),m(e(r[2],c[2],f)),p(e(r[3],c[3],f))],"rgba");return d?{color:r,leftIndex:a,rightIndex:t,value:b}:r}},modifyHSL:function(b,c,d,a){if(b=g(b)){if(b){var t=b[0]/255,e=b[1]/255,f=b[2]/255,x=Math.min(t,e,f),A=Math.max(t,e,f),h=A-x,p=(A+x)/2,m;if(0===h)x=m=0;else{var x=.5>p?h/(A+x):h/(2-A-x),n=((A-t)/6+h/2)/h,q=((A-e)/6+h/2)/h,h=((A-f)/6+h/2)/h;t===A?m=h-q:e===A?m=1/3+n-h:f===A&&(m=2/3+q-n);0>m&&(m+=1);1<m&&--m}t=[360*m,x,p];null!=b[3]&&t.push(b[3]);b=t}else b=void 0;null!=c&&(c=Math.round(c),b[0]=0>c?0:360<c?360:c);null!=d&&(b[1]=l(d));null!=a&&(b[2]=l(a));return k(r(b),"rgba")}},modifyAlpha:function(b,c){if((b=g(b))&&null!=c)return b[3]=p(c),k(b,"rgba")},stringify:k}},function(q,n,a){var m=a(37);q.exports=function(){if(0!==m.debugMode)if(1==m.debugMode)for(var a in arguments)throw Error(arguments[a]);else if(1<m.debugMode)for(a in arguments)console.log(arguments[a])}},function(q,n){var a=1;"undefined"!==typeof window&&(a=Math.max(window.devicePixelRatio||1,1));q.exports={debugMode:0,devicePixelRatio:a}},function(q,n,a){var m=a(25),p=new (a(9));n=function(){};n.prototype={constructor:n,drawRectText:function(a,l){var f=this.style;l=f.textRect||l;this.__dirty&&m.normalizeTextStyle(f,!0);var e=f.text;null!=e&&(e+="");if(m.needDrawText(e,f)){a.save();var b=this.transform;f.transformText?this.setTransform(a):b&&(p.copy(l),p.applyTransform(b),l=p);m.renderText(this,a,e,f,l);a.restore()}}};q.exports=n},function(q,n,a){var m=a(40),p=a(10),h=a(41),l=a(9),f=a(37).devicePixelRatio,e={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},b=[],d=[],c=[],g=[],r=Math.min,k=Math.max,t=Math.cos,A=Math.sin,x=Math.sqrt,w=Math.abs,u="undefined"!=typeof Float32Array;n=function(b){if(this._saveData=!b)this.data=[];this._ctx=null};n.prototype={constructor:n,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(b,c){this._ux=w(1/f/b)||0;this._uy=w(1/f/c)||0},getContext:function(){return this._ctx},beginPath:function(b){(this._ctx=b)&&b.beginPath();b&&(this.dpr=b.dpr);this._saveData&&(this._len=0);this._lineDash&&(this._lineDash=null,this._dashOffset=0);return this},moveTo:function(b,c){this.addData(e.M,b,c);this._ctx&&this._ctx.moveTo(b,c);this._x0=b;this._y0=c;this._xi=b;this._yi=c;return this},lineTo:function(b,c){var d=w(b-this._xi)>this._ux||w(c-this._yi)>this._uy||5>this._len;this.addData(e.L,b,c);this._ctx&&d&&(this._needsDash()?this._dashedLineTo(b,c):this._ctx.lineTo(b,c));d&&(this._xi=b,this._yi=c);return this},bezierCurveTo:function(b,c,d,g,k,a){this.addData(e.C,b,c,d,g,k,a);this._ctx&&(this._needsDash()?this._dashedBezierTo(b,c,d,g,k,a):this._ctx.bezierCurveTo(b,c,d,g,k,a));this._xi=k;this._yi=a;return this},quadraticCurveTo:function(b,c,d,g){this.addData(e.Q,b,c,d,g);this._ctx&&(this._needsDash()?this._dashedQuadraticTo(b,c,d,g):this._ctx.quadraticCurveTo(b,c,d,g));this._xi=d;this._yi=g;return this},arc:function(b,c,d,g,k,a){this.addData(e.A,b,c,d,d,g,k-g,0,a?0:1);this._ctx&&this._ctx.arc(b,c,d,g,k,a);this._xi=t(k)*d+b;this._yi=A(k)*d+b;return this},arcTo:function(b,c,d,g,k){this._ctx&&this._ctx.arcTo(b,c,d,g,k);return this},rect:function(b,c,d,g){this._ctx&&this._ctx.rect(b,c,d,g);this.addData(e.R,b,c,d,g);return this},closePath:function(){this.addData(e.Z);var b=this._ctx,c=this._x0,d=this._y0;b&&(this._needsDash()&&this._dashedLineTo(c,d),b.closePath());this._xi=c;this._yi=d;return this},fill:function(b){b&&b.fill();this.toStatic()},stroke:function(b){b&&b.stroke();this.toStatic()},setLineDash:function(b){if(b instanceof Array){this._lineDash=b;for(var c=this._dashIdx=0,d=0;d<b.length;d++)c+=b[d];this._dashSum=c}return this},setLineDashOffset:function(b){this._dashOffset=b;return this},len:function(){return this._len},setData:function(b){var c=b.length;this.data&&this.data.length==c||!u||(this.data=new Float32Array(c));for(var d=0;d<c;d++)this.data[d]=b[d];this._len=c},appendPath:function(b){b instanceof Array||(b=[b]);for(var c=b.length,d=0,g=this._len,k=0;k<c;k++)d+=b[k].len();u&&this.data instanceof Float32Array&&(this.data=new Float32Array(g+d));for(k=0;k<c;k++)for(var d=b[k].data,a=0;a<d.length;a++)this.data[g++]=d[a];this._len=g},addData:function(b){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var d=0;d<arguments.length;d++)c[this._len++]=arguments[d];this._prevCmd=b}},_expandData:function(){if(!(this.data instanceof Array)){for(var b=[],c=0;c<this._len;c++)b[c]=this.data[c];this.data=b}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(b,c){var d=this._dashSum,g=this._dashOffset,a=this._lineDash,t=this._ctx,e=this._xi,f=this._yi,A=b-e,l=c-f,h=x(A*A+l*l),u=a.length,w,A=A/h,l=l/h;0>g&&(g=d+g);g%=d;d=e-g*A;for(g=f-g*l;0<A&&d<=b||0>A&&d>=b||0==A&&(0<l&&g<=c||0>l&&g>=c);)if(w=this._dashIdx,h=a[w],d+=A*h,g+=l*h,this._dashIdx=(w+1)%u,!(0<A&&d<e||0>A&&d>e||0<l&&g<f||0>l&&g>f))t[w%2?"moveTo":"lineTo"](0<=A?r(d,b):k(d,b),0<=l?r(g,c):k(g,c));A=d-b;l=g-c;this._dashOffset=-x(A*A+l*l)},_dashedBezierTo:function(b,c,d,g,k,a){var t=this._dashSum,r=this._dashOffset,e=this._lineDash,f=this._ctx,A=this._xi,l=this._yi,h,u,w=m.cubicAt,p=0,n=this._dashIdx,q=e.length,Q,M,S=0;0>r&&(r=t+r);r%=t;for(t=0;1>t;t+=.1)h=w(A,b,d,k,t+.1)-w(A,b,d,k,t),u=w(l,c,g,a,t+.1)-w(l,c,g,a,t),p+=x(h*h+u*u);for(;n<q&&!(S+=e[n],S>r);n++);for(t=(S-r)/p;1>=t;)Q=w(A,b,d,k,t),M=w(l,c,g,a,t),n%2?f.moveTo(Q,M):f.lineTo(Q,M),t+=e[n]/p,n=(n+1)%q;0!==n%2&&f.lineTo(k,a);h=k-Q;u=a-M;this._dashOffset=-x(h*h+u*u)},_dashedQuadraticTo:function(b,c,d,g){var k=d,a=g;d=(d+2*b)/3;g=(g+2*c)/3;b=(this._xi+2*b)/3;c=(this._yi+2*c)/3;this._dashedBezierTo(b,c,d,g,k,a)},toStatic:function(){var b=this.data;b instanceof Array&&(b.length=this._len,u&&(this.data=new Float32Array(b)))},getBoundingRect:function(){b[0]=b[1]=c[0]=c[1]=Number.MAX_VALUE;d[0]=d[1]=g[0]=g[1]=-Number.MAX_VALUE;for(var k=this.data,a=0,r=0,f=0,x=0,u=0;u<k.length;){var w=k[u++];1==u&&(a=k[u],r=k[u+1],f=a,x=r);switch(w){case e.M:f=k[u++];x=k[u++];a=f;r=x;c[0]=f;c[1]=x;g[0]=f;g[1]=x;break;case e.L:h.fromLine(a,r,k[u],k[u+1],c,g);a=k[u++];r=k[u++];break;case e.C:h.fromCubic(a,r,k[u++],k[u++],k[u++],k[u++],k[u],k[u+1],c,g);a=k[u++];r=k[u++];break;case e.Q:h.fromQuadratic(a,r,k[u++],k[u++],k[u],k[u+1],c,g);a=k[u++];r=k[u++];break;case e.A:var a=k[u++],r=k[u++],m=k[u++],w=k[u++],n=k[u++],q=k[u++]+n;u++;var J=1-k[u++];1==u&&(f=t(n)*m+a,x=A(n)*w+r);h.fromArc(a,r,m,w,n,q,J,c,g);a=t(q)*m+a;r=A(q)*w+r;break;case e.R:f=a=k[u++];x=r=k[u++];w=k[u++];q=k[u++];h.fromLine(f,x,f+w,x+q,c,g);break;case e.Z:a=f,r=x}p.min(b,b,c);p.max(d,d,g)}0===u&&(b[0]=b[1]=d[0]=d[1]=0);return new l(b[0],b[1],d[0]-b[0],d[1]-b[1])},rebuildPath:function(b){for(var c=this.data,d,g,k,a,r,f,x=this._ux,l=this._uy,u=this._len,h=0;h<u;)switch(r=c[h++],1==h&&(k=c[h],a=c[h+1],d=k,g=a),r){case e.M:d=k=c[h++];g=a=c[h++];b.moveTo(k,a);break;case e.L:r=c[h++];f=c[h++];if(w(r-k)>x||w(f-a)>l||h===u-1)b.lineTo(r,f),k=r,a=f;break;case e.C:b.bezierCurveTo(c[h++],c[h++],c[h++],c[h++],c[h++],c[h++]);k=c[h-2];a=c[h-1];break;case e.Q:b.quadraticCurveTo(c[h++],c[h++],c[h++],c[h++]);k=c[h-2];a=c[h-1];break;case e.A:k=c[h++];a=c[h++];f=c[h++];r=c[h++];var p=c[h++],m=c[h++],n=c[h++],q=c[h++],R=f>r?f:r,P=f>r?1:f/r,Q=f>r?r/f:1,m=p+m;.001<Math.abs(f-r)?(b.translate(k,a),b.rotate(n),b.scale(P,Q),b.arc(0,0,R,p,m,1-q),b.scale(1/P,1/Q),b.rotate(-n),b.translate(-k,-a)):b.arc(k,a,R,p,m,1-q);1==h&&(d=t(p)*f+k,g=A(p)*r+a);k=t(m)*f+k;a=A(m)*r+a;break;case e.R:d=k=c[h];g=a=c[h+1];b.rect(c[h++],c[h++],c[h++],c[h++]);break;case e.Z:b.closePath(),k=d,a=g}}};n.CMD=e;q.exports=n},function(q,n,a){function m(b,c,d,g,a){var e=1-a;return e*e*(e*b+3*a*c)+a*a*(a*g+3*e*d)}function p(b,c,d,g){var a=1-g;return a*(a*b+2*g*c)+g*g*d}n=a(10);a=n.create;var h=n.distSquare,l=Math.pow,f=Math.sqrt,e=f(3),b=1/3,d=a(),c=a(),g=a();q.exports={cubicAt:m,cubicDerivativeAt:function(b,c,d,g,a){var e=1-a;return 3*(((c-b)*e+2*(d-c)*a)*e+(g-d)*a*a)},cubicRootAt:function(c,d,g,a,x,h){a=a+3*(d-g)-c;g=3*(g-2*d+c);var u=3*(d-c),v=c-x;x=g*g-3*a*u;d=g*u-9*a*v;c=0;if(-1E-8<x&&1E-8>x&&-1E-8<d&&1E-8>d)-1E-8<g&&1E-8>g?h[0]=0:(x=-u/g,0<=x&&1>=x&&(h[c++]=x));else if(u=d*d-4*x*(u*u-3*g*v),-1E-8<u&&1E-8>u)d/=x,x=-g/a+d,d=-d/2,0<=x&&1>=x&&(h[c++]=x),0<=d&&1>=d&&(h[c++]=d);else if(0<u)v=f(u),u=x*g+1.5*a*(-d+v),x=x*g+1.5*a*(-d-v),u=0>u?-l(-u,b):l(u,b),x=0>x?-l(-x,b):l(x,b),x=(-g-(u+x))/(3*a),0<=x&&1>=x&&(h[c++]=x);else{d=(2*x*g-3*a*d)/(2*f(x*x*x));var u=Math.acos(d)/3,v=f(x),y=Math.cos(u);x=(-g-2*v*y)/(3*a);d=(-g+v*(y+e*Math.sin(u)))/(3*a);a=(-g+v*(y-e*Math.sin(u)))/(3*a);0<=x&&1>=x&&(h[c++]=x);0<=d&&1>=d&&(h[c++]=d);0<=a&&1>=a&&(h[c++]=a)}return c},cubicExtrema:function(b,c,d,g,a){var e=6*d-12*c+6*b;d=9*c+3*g-3*b-9*d;c=3*c-3*b;b=0;if(-1E-8<d&&1E-8>d){if(1E-8<e||-1E-8>e)c=-c/e,0<=c&&1>=c&&(a[b++]=c)}else c=e*e-4*d*c,-1E-8<c&&1E-8>c?a[0]=-e/(2*d):0<c&&(g=f(c),c=(-e+g)/(2*d),e=(-e-g)/(2*d),0<=c&&1>=c&&(a[b++]=c),0<=e&&1>=e&&(a[b++]=e));return b},cubicSubdivide:function(b,c,d,g,a,e){var f=(c-b)*a+b,h=(d-c)*a+c;d=(g-d)*a+d;c=(h-f)*a+f;h=(d-h)*a+h;a=(h-c)*a+c;e[0]=b;e[1]=f;e[2]=c;e[3]=a;e[4]=a;e[5]=h;e[6]=d;e[7]=g},cubicProjectPoint:function(b,a,t,e,x,l,u,v,y,E,p){var B,n=.005,q=Infinity,D;d[0]=y;d[1]=E;for(y=0;1>y;y+=.05)c[0]=m(b,t,x,u,y),c[1]=m(a,e,l,v,y),E=h(d,c),E<q&&(B=y,q=E);for(var q=Infinity,C=0;32>C&&!(1E-4>n);C++)D=B-n,y=B+n,c[0]=m(b,t,x,u,D),c[1]=m(a,e,l,v,D),E=h(c,d),0<=D&&E<q?(B=D,q=E):(g[0]=m(b,t,x,u,y),g[1]=m(a,e,l,v,y),E=h(g,d),1>=y&&E<q?(B=y,q=E):n*=.5);p&&(p[0]=m(b,t,x,u,B),p[1]=m(a,e,l,v,B));return f(q)},quadraticAt:p,quadraticDerivativeAt:function(b,c,d,g){return 2*((1-g)*(c-b)+g*(d-c))},quadraticRootAt:function(b,c,d,g,a){d=b-2*c+d;c=2*(c-b);g=b-g;b=0;if(-1E-8<d&&1E-8>d){if(1E-8<c||-1E-8>c)g=-g/c,0<=g&&1>=g&&(a[b++]=g)}else if(g=c*c-4*d*g,-1E-8<g&&1E-8>g)g=-c/(2*d),0<=g&&1>=g&&(a[b++]=g);else if(0<g){var e=f(g);g=(-c+e)/(2*d);d=(-c-e)/(2*d);0<=g&&1>=g&&(a[b++]=g);0<=d&&1>=d&&(a[b++]=d)}return b},quadraticExtremum:function(b,c,d){d=b+d-2*c;return 0===d?.5:(b-c)/d},quadraticSubdivide:function(b,c,d,g,a){var e=(c-b)*g+b;c=(d-c)*g+c;g=(c-e)*g+e;a[0]=b;a[1]=e;a[2]=g;a[3]=g;a[4]=c;a[5]=d},quadraticProjectPoint:function(b,a,t,e,x,l,u,v,y){var E,m=.005,B=Infinity;d[0]=u;d[1]=v;for(v=0;1>v;v+=.05)c[0]=p(b,t,x,v),c[1]=p(a,e,l,v),u=h(d,c),u<B&&(E=v,B=u);B=Infinity;for(v=0;32>v&&!(1E-4>m);v++){var n=E-m,q=E+m;c[0]=p(b,t,x,n);c[1]=p(a,e,l,n);u=h(c,d);0<=n&&u<B?(E=n,B=u):(g[0]=p(b,t,x,q),g[1]=p(a,e,l,q),u=h(g,d),1>=q&&u<B?(E=q,B=u):m*=.5)}y&&(y[0]=p(b,t,x,E),y[1]=p(a,e,l,E));return f(B)}}},function(q,n,a){var m=a(10),p=a(40);n={};var h=Math.min,l=Math.max,f=Math.sin,e=Math.cos,b=m.create(),d=m.create(),c=m.create(),g=2*Math.PI;n.fromPoints=function(b,c,d){if(0!==b.length){var g=b[0],a=g[0],k=g[0],r=g[1],e=g[1],f;for(f=1;f<b.length;f++)g=b[f],a=h(a,g[0]),k=l(k,g[0]),r=h(r,g[1]),e=l(e,g[1]);c[0]=a;c[1]=r;d[0]=k;d[1]=e}};n.fromLine=function(b,c,d,g,a,k){a[0]=h(b,d);a[1]=h(c,g);k[0]=l(b,d);k[1]=l(c,g)};var r=[],k=[];n.fromCubic=function(b,c,d,g,a,e,f,E,m,B){var n=p.cubicExtrema,q=p.cubicAt,D,C=n(b,d,a,f,r);m[0]=Infinity;m[1]=Infinity;B[0]=-Infinity;B[1]=-Infinity;for(D=0;D<C;D++){var I=q(b,d,a,f,r[D]);m[0]=h(I,m[0]);B[0]=l(I,B[0])}C=n(c,g,e,E,k);for(D=0;D<C;D++)d=q(c,g,e,E,k[D]),m[1]=h(d,m[1]),B[1]=l(d,B[1]);m[0]=h(b,m[0]);B[0]=l(b,B[0]);m[0]=h(f,m[0]);B[0]=l(f,B[0]);m[1]=h(c,m[1]);B[1]=l(c,B[1]);m[1]=h(E,m[1]);B[1]=l(E,B[1])};n.fromQuadratic=function(b,c,d,g,a,k,r,e){var f=p.quadraticExtremum,m=p.quadraticAt,n=l(h(f(b,d,a),1),0),f=l(h(f(c,g,k),1),0);d=m(b,d,a,n);g=m(c,g,k,f);r[0]=h(b,a,d);r[1]=h(c,k,g);e[0]=l(b,a,d);e[1]=l(c,k,g)};n.fromArc=function(a,k,r,h,l,v,y,p,z){var B=m.min,n=m.max,q=Math.abs(l-v);if(1E-4>q%g&&1E-4<q)p[0]=a-r,p[1]=k-h,z[0]=a+r,z[1]=k+h;else for(b[0]=e(l)*r+a,b[1]=f(l)*h+k,d[0]=e(v)*r+a,d[1]=f(v)*h+k,B(p,b,d),n(z,b,d),l%=g,0>l&&(l+=g),v%=g,0>v&&(v+=g),l>v&&!y?v+=g:l<v&&y&&(l+=g),y&&(y=v,v=l,l=y),y=0;y<v;y+=Math.PI/2)y>l&&(c[0]=e(y)*r+a,c[1]=f(y)*h+k,B(p,c,p),n(z,c,z))};q.exports=n},function(q,n,a){function m(a,A,x,w,u){for(var v=0,y=0,m=0,z=0,B=0,n=0;n<a.length;){var q=a[n++];q===p.M&&1<n&&(x||(v+=d(y,m,z,B,w,u)));1==n&&(y=a[n],m=a[n+1],z=y,B=m);switch(q){case p.M:z=a[n++];B=a[n++];y=z;m=B;break;case p.L:if(x){if(c(y,m,a[n],a[n+1],A,w,u))return!0}else v+=d(y,m,a[n],a[n+1],w,u)||0;y=a[n++];m=a[n++];break;case p.C:if(x){if(h.containStroke(y,m,a[n++],a[n++],a[n++],a[n++],a[n],a[n+1],A,w,u))return!0}else{var q=v,D;D=y;var C=m,I=a[n++],J=a[n++],L=a[n++],m=a[n++],y=a[n],v=a[n+1],N=w;if(u>C&&u>J&&u>m&&u>v||u<C&&u<J&&u<m&&u<v)D=0;else{var O=b.cubicRootAt(C,J,m,v,u,r);if(0===O)D=0;else{for(var K=0,G=-1,R=void 0,P=void 0,Q=0;Q<O;Q++){var M=r[Q],S=0===M||1===M?.5:1;b.cubicAt(D,I,L,y,M)<N||(0>G&&(G=b.cubicExtrema(C,J,m,v,k),k[1]<k[0]&&1<G&&(R=k[0],k[0]=k[1],k[1]=R),R=b.cubicAt(C,J,m,v,k[0]),1<G&&(P=b.cubicAt(C,J,m,v,k[1]))),K=2==G?M<k[0]?K+(R<C?S:-S):M<k[1]?K+(P<R?S:-S):K+(v<P?S:-S):M<k[0]?K+(R<C?S:-S):K+(v<R?S:-S))}D=K}}v=q+(D||0)}y=a[n++];m=a[n++];break;case p.Q:if(x){if(l.containStroke(y,m,a[n++],a[n++],a[n],a[n+1],A,w,u))return!0}else{q=v;D=y;C=m;I=a[n++];O=a[n++];J=a[n];L=a[n+1];m=w;if(u>C&&u>O&&u>L||u<C&&u<O&&u<L)D=0;else if(y=b.quadraticRootAt(C,O,L,u,r),0===y)D=0;else if(v=b.quadraticExtremum(C,O,L),0<=v&&1>=v){N=0;O=b.quadraticAt(C,O,L,v);for(K=0;K<y;K++)G=0===r[K]||1===r[K]?.5:1,P=b.quadraticAt(D,I,J,r[K]),P<m||(N=r[K]<v?N+(O<C?G:-G):N+(L<O?G:-G));D=N}else G=0===r[0]||1===r[0]?.5:1,P=b.quadraticAt(D,I,J,r[0]),D=P<m?0:L<C?G:-G;v=q+(D||0)}y=a[n++];m=a[n++];break;case p.A:q=a[n++];D=a[n++];C=a[n++];I=a[n++];J=a[n++];L=a[n++];n++;O=1-a[n++];N=Math.cos(J)*C+q;K=Math.sin(J)*I+D;1<n?v+=d(y,m,N,K,w,u):(z=N,B=K);K=(w-q)*I/C+q;if(x){if(f.containStroke(q,D,I,J,J+L,O,A,K,u))return!0}else{m=v;y=q;v=J;N=J+L;G=u;G-=D;if(G>I||G<-I)y=0;else if(P=Math.sqrt(I*I-G*G),r[0]=-P,r[1]=P,P=Math.abs(v-N),1E-4>P)y=0;else if(1E-4>P%g)M=O?1:-1,y=K>=r[0]+y&&K<=r[1]+y?M:0;else{O?(P=v,v=e(N),N=e(P)):(v=e(v),N=e(N));v>N&&(N+=g);for(Q=P=0;2>Q;Q++)if(M=r[Q],M+y>K&&(S=Math.atan2(G,M),M=O?1:-1,0>S&&(S=g+S),S>=v&&S<=N||S+g>=v&&S+g<=N))S>Math.PI/2&&S<1.5*Math.PI&&(M=-M),P+=M;y=P}v=m+y}y=Math.cos(J+L)*C+q;m=Math.sin(J+L)*I+D;break;case p.R:z=y=a[n++];B=m=a[n++];D=a[n++];q=a[n++];N=z+D;K=B+q;if(x){if(c(z,B,N,B,A,w,u)||c(N,B,N,K,A,w,u)||c(N,K,z,K,A,w,u)||c(z,K,z,B,A,w,u))return!0}else v+=d(N,B,N,K,w,u),v+=d(z,K,z,B,w,u);break;case p.Z:if(x){if(c(y,m,z,B,A,w,u))return!0}else v+=d(y,m,z,B,w,u);y=z;m=B}}x||1E-4>Math.abs(m-B)||(v+=d(y,m,z,B,w,u)||0);return 0!==v}var p=a(39).CMD;n=a(43);var h=a(44),l=a(45),f=a(46),e=a(47).normalizeRadian,b=a(40),d=a(48),c=n.containStroke,g=2*Math.PI,r=[-1,-1,-1],k=[-1,-1];q.exports={contain:function(b,c,d){return m(b,0,!1,c,d)},containStroke:function(b,c,d,a){return m(b,c,!0,d,a)}}},function(q,n){q.exports={containStroke:function(a,m,p,h,l,f,e){if(0===l)return!1;var b=0;if(e>m+l&&e>h+l||e<m-l&&e<h-l||f>a+l&&f>p+l||f<a-l&&f<p-l)return!1;if(a!==p)b=(m-h)/(a-p);else return Math.abs(f-a)<=l/2;a=b*f-e+(a*h-p*m)/(a-p);return a*a/(b*b+1)<=l/2*l/2}}},function(q,n,a){var m=a(40);q.exports={containStroke:function(a,h,l,f,e,b,d,c,g,r,k){return 0===g||k>h+g&&k>f+g&&k>b+g&&k>c+g||k<h-g&&k<f-g&&k<b-g&&k<c-g||r>a+g&&r>l+g&&r>e+g&&r>d+g||r<a-g&&r<l-g&&r<e-g&&r<d-g?!1:m.cubicProjectPoint(a,h,l,f,e,b,d,c,r,k,null)<=g/2}}},function(q,n,a){var m=a(40);q.exports={containStroke:function(a,h,l,f,e,b,d,c,g){return 0===d||g>h+d&&g>f+d&&g>b+d||g<h-d&&g<f-d&&g<b-d||c>a+d&&c>l+d&&c>e+d||c<a-d&&c<l-d&&c<e-d?!1:m.quadraticProjectPoint(a,h,l,f,e,b,c,g,null)<=d/2}}},function(q,n,a){var m=a(47).normalizeRadian,p=2*Math.PI;q.exports={containStroke:function(a,l,f,e,b,d,c,g,r){if(0===c)return!1;g-=a;r-=l;a=Math.sqrt(g*g+r*r);if(a-c>f||a+c<f)return!1;if(1E-4>Math.abs(e-b)%p)return!0;d?(f=e,e=m(b),b=m(f)):(e=m(e),b=m(b));e>b&&(b+=p);g=Math.atan2(r,g);0>g&&(g+=p);return g>=e&&g<=b||g+p>=e&&g+p<=b}}},function(q,n){var a=2*Math.PI;q.exports={normalizeRadian:function(m){m%=a;0>m&&(m+=a);return m}}},function(q,n){q.exports=function(a,m,p,h,l,f){if(f>m&&f>h||f<m&&f<h||h===m)return 0;var e=h<m?1:-1;f=(f-m)/(h-m);if(1===f||0===f)e=h<m?.5:-.5;return f*(p-a)+a>l?e:0}},function(q,n){var a=function(a,p){this.image=a;this.repeat=p;this.type="pattern"};a.prototype.getCanvasPattern=function(a){return a.createPattern(this.image,this.repeat||"repeat")};q.exports=a},function(q,n,a){var m=a(39).CMD,p=a(10).applyTransform,h=[[],[],[]],l=Math.sqrt,f=Math.atan2;q.exports=function(a,b){var d=a.data,c,g,r,k,t,A=m.M,x=m.C,w=m.L,u=m.R,v=m.A,y=m.Q;for(r=0;r<d.length;){c=d[r++];k=r;g=0;switch(c){case A:g=1;break;case w:g=1;break;case x:g=3;break;case y:g=2;break;case v:k=b[4];c=b[5];var E=l(b[0]*b[0]+b[1]*b[1]),z=l(b[2]*b[2]+b[3]*b[3]),B=f(-b[1]/z,b[0]/E);d[r]*=E;d[r++]+=k;d[r]*=z;d[r++]+=c;d[r++]*=E;d[r++]*=z;d[r++]+=B;d[r++]+=B;k=r+=2;break;case u:t[0]=d[r++],t[1]=d[r++],p(t,t,b),d[k++]=t[0],d[k++]=t[1],t[0]+=d[r++],t[1]+=d[r++],p(t,t,b),d[k++]=t[0],d[k++]=t[1]}for(c=0;c<g;c++)t=h[c],t[0]=d[r++],t[1]=d[r++],p(t,t,b),d[k++]=t[0],d[k++]=t[1]}}},function(q,n,a){var m=a(4),p=a(27),h=a(9),l=function(a){a=a||{};p.call(this,a);for(var e in a)a.hasOwnProperty(e)&&(this[e]=a[e]);this._children=[];this.__storage=null;this.__dirty=!0};l.prototype={constructor:l,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){for(var e=this._children,b=0;b<e.length;b++)if(e[b].name===a)return e[b]},childCount:function(){return this._children.length},add:function(a){a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a));return this},addBefore:function(a,e){if(a&&a!==this&&a.parent!==this&&e&&e.parent===this){var b=this._children,d=b.indexOf(e);0<=d&&(b.splice(d,0,a),this._doAdd(a))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a);a.parent=this;var e=this.__storage,b=this.__zr;e&&e!==a.__storage&&(e.addToStorage(a),a instanceof l&&a.addChildrenToStorage(e));b&&b.refresh()},remove:function(a){var e=this.__zr,b=this.__storage,d=this._children,c=m.indexOf(d,a);if(0>c)return this;d.splice(c,1);a.parent=null;b&&(b.delFromStorage(a),a instanceof l&&a.delChildrenFromStorage(b));e&&e.refresh();return this},removeAll:function(){var a=this._children,e=this.__storage,b,d;for(d=0;d<a.length;d++)b=a[d],e&&(e.delFromStorage(b),b instanceof l&&b.delChildrenFromStorage(e)),b.parent=null;a.length=0;return this},eachChild:function(a,e){for(var b=this._children,d=0;d<b.length;d++)a.call(e,b[d],d);return this},traverse:function(a,e){for(var b=0;b<this._children.length;b++){var d=this._children[b];a.call(e,d);"group"===d.type&&d.traverse(a,e)}return this},addChildrenToStorage:function(a){for(var e=0;e<this._children.length;e++){var b=this._children[e];a.addToStorage(b);b instanceof l&&b.addChildrenToStorage(a)}},delChildrenFromStorage:function(a){for(var e=0;e<this._children.length;e++){var b=this._children[e];a.delFromStorage(b);b instanceof l&&b.delChildrenFromStorage(a)}},dirty:function(){this.__dirty=!0;this.__zr&&this.__zr.refresh();return this},getBoundingRect:function(a){var e=null,b=new h(0,0,0,0);a=a||this._children;for(var d=[],c=0;c<a.length;c++){var g=a[c];if(!g.ignore&&!g.invisible){var r=g.getBoundingRect();(g=g.getLocalTransform(d))?(b.copy(r),b.applyTransform(g),e=e||b.clone(),e.union(b)):(e=e||r.clone(),e.union(r))}}return e||b}};m.inherits(l,p);q.exports=l},function(q,n,a){function m(a){p.call(this,a)}var p=a(23),h=a(9);n=a(4);var l=a(12);m.prototype={constructor:m,type:"image",brush:function(a,e){var b=this.style,d=b.image;b.bind(a,this,e);if((d=this._image=l.createOrUpdateImage(d,this._image,this))&&l.isImageReady(d)){var c=b.x||0,g=b.y||0,r=b.width,k=b.height,t=d.width/d.height;null==r&&null!=k?r=k*t:null==k&&null!=r?k=r/t:null==r&&null==k&&(r=d.width,k=d.height);this.setTransform(a);if(b.sWidth&&b.sHeight){var t=b.sx||0,h=b.sy||0;a.drawImage(d,t,h,b.sWidth,b.sHeight,c,g,r,k)}else b.sx&&b.sy?(t=b.sx,h=b.sy,a.drawImage(d,t,h,r-t,k-h,c,g,r,k)):a.drawImage(d,c,g,r,k);this.restoreTransform(a);null!=b.text&&this.drawRectText(a,this.getBoundingRect())}},getBoundingRect:function(){var a=this.style;this._rect||(this._rect=new h(a.x||0,a.y||0,a.width||0,a.height||0));return this._rect}};n.inherits(m,p);q.exports=m},function(q,n,a){var m=a(23);n=a(4);var p=a(8),h=a(25);a=function(a){m.call(this,a)};a.prototype={constructor:a,type:"text",brush:function(a,f){var e=this.style;this.__dirty&&h.normalizeTextStyle(e,!0);e.fill=e.stroke=e.shadowBlur=e.shadowColor=e.shadowOffsetX=e.shadowOffsetY=null;var b=e.text;null!=b&&(b+="");e.bind(a,this,f);h.needDrawText(b,e)&&(this.setTransform(a),h.renderText(this,a,b,e),this.restoreTransform(a))},getBoundingRect:function(){var a=this.style;this.__dirty&&h.normalizeTextStyle(a,!0);if(!this._rect){var f=p.getBoundingRect(a.text+"",a.font,a.textAlign,a.textVerticalAlign,a.textPadding,a.rich);f.x+=a.x||0;f.y+=a.y||0;h.getStroke(a.textStroke,a.textLineWidth)&&(a=a.textLineWidth,f.x-=a/2,f.y-=a/2,f.width+=a,f.height+=a);this._rect=f}return this._rect}};n.inherits(a,m);q.exports=a},function(q,n,a){q.exports=a(22).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,p,h){h&&a.moveTo(p.cx+p.r,p.cy);a.arc(p.cx,p.cy,p.r,0,2*Math.PI,!0)}})},function(q,n,a){n=a(22);a=a(56);q.exports=n.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:a(n.prototype.brush),buildPath:function(a,p){var h=p.cx,l=p.cy,f=Math.max(p.r0||0,0),e=Math.max(p.r,0),b=p.startAngle,d=p.endAngle,c=p.clockwise,g=Math.cos(b),r=Math.sin(b);a.moveTo(g*f+h,r*f+l);a.lineTo(g*e+h,r*e+l);a.arc(h,l,e,b,d,!c);a.lineTo(Math.cos(d)*f+h,Math.sin(d)*f+l);0!==f&&a.arc(h,l,f,d,b,c);a.closePath()}})},function(q,n,a){var m=a(2),p=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];q.exports=function(a){return m.browser.ie&&11<=m.browser.version?function(){var l=this.__clipPaths,f=this.style,e;if(l)for(var b=0;b<l.length;b++){var d=l[b],c=d&&d.shape,d=d&&d.type;if(c&&("sector"===d&&c.startAngle===c.endAngle||!("rect"!==d||c.width&&c.height))){for(l=0;l<p.length;l++)p[l][2]=f[p[l][0]],f[p[l][0]]=p[l][1];e=!0;break}}a.apply(this,arguments);if(e)for(l=0;l<p.length;l++)f[p[l][0]]=p[l][2]}:a}},function(q,n,a){q.exports=a(22).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(a,p){var h=p.cx,l=p.cy,f=2*Math.PI;a.moveTo(h+p.r,l);a.arc(h,l,p.r,0,f,!1);a.moveTo(h+p.r0,l);a.arc(h,l,p.r0,0,f,!0)}})},function(q,n,a){var m=a(59);q.exports=a(22).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,h){m.buildPath(a,h,!0)}})},function(q,n,a){var m=a(60),p=a(61);q.exports={buildPath:function(a,l,f){var e=l.points,b=l.smooth;if(e&&2<=e.length){if(b&&"spline"!==b){b=p(e,b,f,l.smoothConstraint);a.moveTo(e[0][0],e[0][1]);var d=e.length;for(l=0;l<(f?d:d-1);l++){var c=b[2*l],g=b[2*l+1],r=e[(l+1)%d];a.bezierCurveTo(c[0],c[1],g[0],g[1],r[0],r[1])}}else for("spline"===b&&(e=m(e,f)),a.moveTo(e[0][0],e[0][1]),l=1,b=e.length;l<b;l++)a.lineTo(e[l][0],e[l][1]);f&&a.closePath()}}}},function(q,n,a){function m(a,l,f,e,b,d,c){a=.5*(f-a);e=.5*(e-l);return(2*(l-f)+a+e)*c+(-3*(l-f)-2*a-e)*d+a*b+l}var p=a(10);q.exports=function(a,l){for(var f=a.length,e=[],b=0,d=1;d<f;d++)b+=p.distance(a[d-1],a[d]);b/=2;b=b<f?f:b;for(d=0;d<b;d++){var c=d/(b-1)*(l?f:f-1),g=Math.floor(c),c=c-g,r,k=a[g%f],t;l?(r=a[(g-1+f)%f],t=a[(g+1)%f],g=a[(g+2)%f]):(r=a[0===g?g:g-1],t=a[g>f-2?f-1:g+1],g=a[g>f-3?f-1:g+2]);var A=c*c,x=c*A;e.push([m(r[0],k[0],t[0],g[0],c,A,x),m(r[1],k[1],t[1],g[1],c,A,x)])}return e}},function(q,n,a){var m=a(10),p=m.min,h=m.max,l=m.scale,f=m.distance,e=m.add;q.exports=function(b,d,c,a){var r=[],k=[],t=[],A=[],x,w,u,v;if(a){u=[Infinity,Infinity];v=[-Infinity,-Infinity];for(var y=0,E=b.length;y<E;y++)p(u,u,b[y]),h(v,v,b[y]);p(u,u,a[0]);h(v,v,a[1])}y=0;for(E=b.length;y<E;y++){var z=b[y];if(c)x=b[y?y-1:E-1],w=b[(y+1)%E];else if(0===y||y===E-1){r.push(m.clone(b[y]));continue}else x=b[y-1],w=b[y+1];m.sub(k,w,x);l(k,k,d);x=f(z,x);w=f(z,w);var B=x+w;0!==B&&(x/=B,w/=B);l(t,k,-x);l(A,k,w);x=e([],z,t);z=e([],z,A);a&&(h(x,x,u),p(x,x,v),h(z,z,u),p(z,z,v));r.push(x);r.push(z)}c&&r.push(r.shift());return r}},function(q,n,a){var m=a(59);q.exports=a(22).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,h){m.buildPath(a,h,!1)}})},function(q,n,a){var m=a(26);q.exports=a(22).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(a,h){var l=h.x,f=h.y,e=h.width,b=h.height;h.r?m.buildPath(a,h):a.rect(l,f,e,b);a.closePath()}})},function(q,n,a){q.exports=a(22).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,p){var h=p.x1,l=p.y1,f=p.x2,e=p.y2,b=p.percent;0!==b&&(a.moveTo(h,l),1>b&&(f=h*(1-b)+f*b,e=l*(1-b)+e*b),a.lineTo(f,e))},pointAt:function(a){var p=this.shape;return[p.x1*(1-a)+p.x2*a,p.y1*(1-a)+p.y2*a]}})},function(q,n,a){function m(c,a,k){var t=c.cpy2;return null===c.cpx2||null===t?[(k?d:e)(c.x1,c.cpx1,c.cpx2,c.x2,a),(k?d:e)(c.y1,c.cpy1,c.cpy2,c.y2,a)]:[(k?b:f)(c.x1,c.cpx1,c.x2,a),(k?b:f)(c.y1,c.cpy1,c.y2,a)]}n=a(40);var p=a(10),h=n.quadraticSubdivide,l=n.cubicSubdivide,f=n.quadraticAt,e=n.cubicAt,b=n.quadraticDerivativeAt,d=n.cubicDerivativeAt,c=[];q.exports=a(22).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(b,d){var a=d.x1,t=d.y1,e=d.x2,f=d.y2,w=d.cpx1,u=d.cpy1,v=d.cpx2,y=d.cpy2,m=d.percent;0!==m&&(b.moveTo(a,t),null==v||null==y?(1>m&&(h(a,w,e,m,c),w=c[1],e=c[2],h(t,u,f,m,c),u=c[1],f=c[2]),b.quadraticCurveTo(w,u,e,f)):(1>m&&(l(a,w,v,e,m,c),w=c[1],v=c[2],e=c[3],l(t,u,y,f,m,c),u=c[1],y=c[2],f=c[3]),b.bezierCurveTo(w,u,v,y,e,f)))},pointAt:function(b){return m(this.shape,b,!1)},tangentAt:function(b){b=m(this.shape,b,!0);return p.normalize(b,b)}})},function(q,n,a){q.exports=a(22).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(a,p){var h=p.cx,l=p.cy,f=Math.max(p.r,0),e=p.startAngle,b=p.endAngle,d=p.clockwise;a.moveTo(Math.cos(e)*f+h,Math.sin(e)*f+l);a.arc(h,l,f,e,b,!d)}})},function(q,n,a){var m=a(22);q.exports=m.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,h=this.shape.paths,l=0;l<h.length;l++)a=a||h[l].__dirtyPath;this.__dirtyPath=a;this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var a=this.shape.paths||[],h=this.getGlobalScale(),l=0;l<a.length;l++)a[l].path||a[l].createPathProxy(),a[l].path.setScale(h[0],h[1])},buildPath:function(a,h){for(var l=h.paths||[],f=0;f<l.length;f++)l[f].buildPath(a,l[f].shape,!0)},afterBrush:function(){for(var a=this.shape.paths,h=0;h<a.length;h++)a[h].__dirtyPath=!1},getBoundingRect:function(){this._updatePathDirty();return m.prototype.getBoundingRect.call(this)}})},function(q,n,a){n=a(4);var m=a(69);a=function(a,h,l,f,e,b){this.x=null==a?0:a;this.y=null==h?0:h;this.x2=null==l?1:l;this.y2=null==f?0:f;this.type="linear";this.global=b||!1;m.call(this,e)};a.prototype={constructor:a};n.inherits(a,m);q.exports=a},function(q,n){var a=function(a){this.colorStops=a||[]};a.prototype={constructor:a,addColorStop:function(a,p){this.colorStops.push({offset:a,color:p})}};q.exports=a},function(q,n,a){n=a(4);var m=a(69);a=function(a,h,l,f,e){this.x=null==a?.5:a;this.y=null==h?.5:h;this.r=null==l?.5:l;this.type="radial";this.global=e||!1;m.call(this,f)};a.prototype={constructor:a};n.inherits(a,m);q.exports=a},function(q,n,a){var m=a(17)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);q.exports={getItemStyle:function(a,h){var l=m.call(this,a,h),f=this.getBorderLineDash();f&&(l.lineDash=f);return l},getBorderLineDash:function(){var a=this.get("borderType");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[1,1]}}},function(q,n,a){var m=a(14),p=a(4),h=Array.prototype.push,l=a(73),f=a(15),e=a(74),b=m.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(b,c,a,r){m.call(this,b,c,a,r);this.uid=l.getUID("componentModel")},init:function(b,c,a,r){this.mergeDefaultAndTheme(b,a)},mergeDefaultAndTheme:function(b,c){var a=this.layoutMode,r=a?e.getLayoutParams(b):{},k=c.getTheme();p.merge(b,k.get(this.mainType));p.merge(b,this.getDefaultOption());a&&e.mergeLayoutParam(b,r,a)},mergeOption:function(b,c){p.merge(this.option,b,!0);var a=this.layoutMode;a&&e.mergeLayoutParam(this.option,b,a)},optionUpdated:function(b,c){},getDefaultOption:function(){if(!f.hasOwn(this,"__defaultOption")){for(var b=[],c=this.constructor;c;){var a=c.prototype.defaultOption;a&&b.push(a);c=c.superClass}c={};for(a=b.length-1;0<=a;a--)c=p.merge(c,b[a],!0);f.set(this,"__defaultOption",c)}return f.get(this,"__defaultOption")},getReferringComponents:function(b){return this.ecModel.queryComponents({mainType:b,index:this.get(b+"Index",!0),id:this.get(b+"Id",!0)})}});f.enableClassManagement(b,{registerWhenExtend:!0});l.enableSubTypeDefaulter(b);l.enableTopologicalTravel(b,function(d){var c=[];p.each(b.getClassesByMainType(d),function(b){h.apply(c,b.prototype.dependencies||[])});return p.map(c,function(b){return f.parseClassType(b).main})});p.mixin(b,a(75));q.exports=b},function(q,n,a){var m=a(4),p=a(15).parseClassType,h=0;q.exports={getUID:function(a){return[a||"",h++,Math.random()].join("_")},enableSubTypeDefaulter:function(a){var f={};a.registerSubTypeDefaulter=function(a,b){a=p(a);f[a.main]=b};a.determineSubType=function(e,b){var d=b.type;if(!d){var c=p(e).main;a.hasSubTypes(e)&&f[c]&&(d=f[c](b))}return d};return a},enableTopologicalTravel:function(a,f){function e(c){var a={},r=[];m.each(c,function(k){var t=b(a,k),e=t.originalDeps=f(k),e=d(e,c);t.entryCount=e.length;0===t.entryCount&&r.push(k);m.each(e,function(c){0>m.indexOf(t.predecessor,c)&&t.predecessor.push(c);var d=b(a,c);0>m.indexOf(d.successor,c)&&d.successor.push(k)})});return{graph:a,noEntryList:r}}function b(b,a){b[a]||(b[a]={predecessor:[],successor:[]});return b[a]}function d(b,a){var d=[];m.each(b,function(b){0<=m.indexOf(a,b)&&d.push(b)});return d}a.topologicalTravel=function(b,a,d,k){function t(b){h[b].entryCount--;0===h[b].entryCount&&l.push(b)}function f(b){u[b]=!0;t(b)}if(b.length){a=e(a);var h=a.graph,l=a.noEntryList,u={};for(m.each(b,function(b){u[b]=!0});l.length;){b=l.pop();a=h[b];var v=!!u[b];v&&(d.call(k,b,a.originalDeps.slice()),delete u[b]);m.each(a.successor,v?f:t)}m.each(u,function(){throw Error("Circle dependency may exists");})}}}}},function(q,n,a){function m(b,c,a,d,e){var f=0,h=0;null==d&&(d=Infinity);null==e&&(e=Infinity);var l=0;c.eachChild(function(v,y){var m=v.position,p=v.getBoundingRect(),B=c.childAt(y+1),B=B&&B.getBoundingRect(),n,q;"horizontal"===b?(B=p.width+(B?-B.x+p.x:0),n=f+B,n>d||v.newline?(f=0,n=B,h+=l+a,l=p.height):l=Math.max(l,p.height)):(B=p.height+(B?-B.y+p.y:0),q=h+B,q>e||v.newline?(f+=l+a,h=0,q=B,l=p.width):l=Math.max(l,p.width));v.newline||(m[0]=f,m[1]=h,"horizontal"===b?f=n+a:h=q+a)})}var p=a(4),h=a(9);n=a(7);var l=a(6),f=n.parsePercent,e=p.each,b={},d=b.LOCATION_PARAMS="left right top bottom width height".split(" "),c=b.HV_NAMES=[["width","left","right"],["height","top","bottom"]];b.box=m;b.vbox=p.curry(m,"vertical");b.hbox=p.curry(m,"horizontal");b.getAvailableSize=function(b,c,a){var d=c.width;c=c.height;var e=f(b.x,d),h=f(b.y,c),w=f(b.x2,d),u=f(b.y2,c);(isNaN(e)||isNaN(parseFloat(b.x)))&&(e=0);(isNaN(w)||isNaN(parseFloat(b.x2)))&&(w=d);(isNaN(h)||isNaN(parseFloat(b.y)))&&(h=0);(isNaN(u)||isNaN(parseFloat(b.y2)))&&(u=c);a=l.normalizeCssArray(a||0);return{width:Math.max(w-e-a[1]-a[3],0),height:Math.max(u-h-a[0]-a[2],0)}};b.getLayoutRect=function(b,c,a){a=l.normalizeCssArray(a||0);var d=c.width;c=c.height;var e=f(b.left,d),x=f(b.top,c),w=f(b.right,d),u=f(b.bottom,c),v=f(b.width,d),y=f(b.height,c),m=a[2]+a[0],p=a[1]+a[3],B=b.aspect;isNaN(v)&&(v=d-w-p-e);isNaN(y)&&(y=c-u-m-x);null!=B&&(isNaN(v)&&isNaN(y)&&(B>d/c?v=.8*d:y=.8*c),isNaN(v)&&(v=B*y),isNaN(y)&&(y=v/B));isNaN(e)&&(e=d-w-v-p);isNaN(x)&&(x=c-u-y-m);switch(b.left||b.right){case "center":e=d/2-v/2-a[3];break;case "right":e=d-v-p}switch(b.top||b.bottom){case "middle":case "center":x=c/2-y/2-a[0];break;case "bottom":x=c-y-m}e=e||0;x=x||0;isNaN(v)&&(v=d-p-e-(w||0));isNaN(y)&&(y=c-m-x-(u||0));b=new h(e+a[3],x+a[0],v,y);b.margin=a;return b};b.positionElement=function(c,a,d,e,f){var l=!f||!f.hv||f.hv[0],w=!f||!f.hv||f.hv[1];f=f&&f.boundingMode||"all";if(l||w){var u;if("raw"===f)u="group"===c.type?new h(0,0,+a.width||0,+a.height||0):c.getBoundingRect();else if(u=c.getBoundingRect(),c.needLocalTransform()){var v=c.getLocalTransform();u=u.clone();u.applyTransform(v)}a=b.getLayoutRect(p.defaults({width:u.width,height:u.height},a),d,e);d=c.position;l=l?a.x-u.x:0;a=w?a.y-u.y:0;c.attr("position","raw"===f?[l,a]:[d[0]+l,d[1]+a])}};b.sizeCalculable=function(b,a){return null!=b[c[a][0]]||null!=b[c[a][1]]&&null!=b[c[a][2]]};b.mergeLayoutParam=function(b,a,d){function t(c,d){var k={},t=0,h={},x=0;e(c,function(c){h[c]=b[c]});e(c,function(b){a.hasOwnProperty(b)&&(k[b]=h[b]=a[b]);f(k,b)&&t++;f(h,b)&&x++});if(l[d])return f(a,c[1])?h[c[2]]=null:f(a,c[2])&&(h[c[1]]=null),h;if(2!==x&&t){if(!(2<=t))for(var u=0;u<c.length;u++){var m=c[u];if(!k.hasOwnProperty(m)&&b.hasOwnProperty(m)){k[m]=b[m];break}}return k}return h}function f(b,c){return null!=b[c]&&"auto"!==b[c]}function h(b,c,a){e(b,function(b){c[b]=a[b]})}!p.isObject(d)&&(d={});var l=d.ignoreSize;!p.isArray(l)&&(l=[l,l]);d=t(c[0],0);var u=t(c[1],1);h(c[0],b,d);h(c[1],b,u)};b.getLayoutParams=function(c){return b.copyLayoutParams({},c)};b.copyLayoutParams=function(b,c){c&&b&&e(d,function(a){c.hasOwnProperty(a)&&(b[a]=c[a])});return b};q.exports=b},function(q,n){q.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(q,n){var a="";"undefined"!==typeof navigator&&(a=navigator.platform||"");q.exports={color:"#c23531 #2f4554 #61a0a8 #d48265 #91c7ae #749f83 #ca8622 #bda29a #6e7074 #546570 #c4ccd3".split(" "),textStyle:{fontFamily:a.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1E3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2E3,progressiveThreshold:3E3,progressive:400,hoverLayerThreshold:3E3,useUTC:!1}},function(q,n,a){n=a(15);var m=n.set,p=n.get;q.exports={clearColorPalette:function(){m(this,"colorIdx",0);m(this,"colorNameMap",{})},getColorFromPalette:function(a,l){l=l||this;var f=p(l,"colorIdx")||0,e=p(l,"colorNameMap")||m(l,"colorNameMap",{});if(e.hasOwnProperty(a))return e[a];var b=this.get("color",!0)||[];if(b.length){var d=b[f];a&&(e[a]=d);m(l,"colorIdx",(f+1)%b.length);return d}}}},function(q,n,a){var m=a(4),p="getDom getZr getWidth getHeight getDevicePixelRatio dispatchAction isDisposed on off getDataURL getConnectedDataURL getModel getOption getViewOfComponentModel getViewOfSeriesModel".split(" ");q.exports=function(a){m.each(p,function(l){this[l]=m.bind(a[l],a)},this)}},function(q,n,a){function m(){this._coordinateSystems=[]}var p=a(4),h={};m.prototype={constructor:m,create:function(a,f){var e=[];p.each(h,function(b,d){var c=b.create(a,f);e=e.concat(c||[])});this._coordinateSystems=e},update:function(a,f){p.each(this._coordinateSystems,function(e){e.update&&e.update(a,f)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};m.register=function(a,f){h[a]=f};m.get=function(a){return h[a]};q.exports=m},function(q,n,a){function m(b){this._api=b;this._timelineOptions=[];this._mediaList=[];this._currentMediaIndices=[]}function p(b,a,d){var g=[],k=[],r,t,f=b.timeline;b.baseOption&&(t=b.baseOption);if(f||b.options)t=t||{},g=(b.options||[]).slice();b.media&&(t=t||{},c(b.media,function(b){b&&b.option&&(b.query?k.push(b):r||(r=b))}));t||(t=b);t.timeline||(t.timeline=f);c([t].concat(g).concat(e.map(k,function(b){return b.option})),function(b){c(a,function(c){c(b,d)})});return{baseOption:t,timelineOptions:g,mediaDefault:r,mediaList:k}}function h(b,c,a){var d={width:c,height:a,aspectratio:c/a},g=!0;e.each(b,function(b,c){var a=c.match(t);if(a&&a[1]&&a[2]){var k=a[1],a=a[2].toLowerCase();a=d[a];("min"===k?a>=b:"max"===k?a<=b:a===b)||(g=!1)}});return g}function l(b,c){return b.join(",")===c.join(",")}function f(a,g){g=g||{};c(g,function(c,g){if(null!=c){var e=a[g];d.hasClass(g)?(c=b.normalizeToArray(c),e=b.normalizeToArray(e),e=b.mappingToExists(e,c),a[g]=r(e,function(b){return b.option&&b.exist?k(b.exist,b.option,!0):b.exist||b.option})):a[g]=k(e,c,!0)}})}var e=a(4),b=a(5),d=a(72),c=e.each,g=e.clone,r=e.map,k=e.merge,t=/^(min|max)?(.+)$/;m.prototype={constructor:m,setOption:function(b,c){b=g(b,!0);var a=this._optionBackup,d=p.call(this,b,c,!a);this._newBaseOption=d.baseOption;a?(f(a.baseOption,d.baseOption),d.timelineOptions.length&&(a.timelineOptions=d.timelineOptions),d.mediaList.length&&(a.mediaList=d.mediaList),d.mediaDefault&&(a.mediaDefault=d.mediaDefault)):this._optionBackup=d},mountOption:function(b){var c=this._optionBackup;this._timelineOptions=r(c.timelineOptions,g);this._mediaList=r(c.mediaList,g);this._mediaDefault=g(c.mediaDefault);this._currentMediaIndices=[];return g(b?c.baseOption:this._newBaseOption)},getTimelineOption:function(b){var c,a=this._timelineOptions;a.length&&(b=b.getComponent("timeline"))&&(c=g(a[b.getCurrentIndex()],!0));return c},getMediaOption:function(b){b=this._api.getWidth();var c=this._api.getHeight(),a=this._mediaList,d=this._mediaDefault,k=[],e=[];if(!a.length&&!d)return e;for(var t=0,f=a.length;t<f;t++)h(a[t].query,b,c)&&k.push(t);!k.length&&d&&(k=[-1]);k.length&&!l(k,this._currentMediaIndices)&&(e=r(k,function(b){return g(-1===b?d.option:a[b].option)}));this._currentMediaIndices=k;return e}};q.exports=m},function(q,n,a){var m=a(4),p=a(6);n=a(15);var h=a(5),l=a(72),f=a(77),e=a(2),b=a(74),d=n.set,c=n.get,g=p.encodeHTML,r=p.addCommas;a=l.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(b,c,a,g){this.seriesIndex=this.componentIndex;this.mergeDefaultAndTheme(b,a);b=this.getInitialData(b,a);m.assert(b,"getInitialData returned invalid data.");d(this,"dataBeforeProcessed",b);this.restoreData()},mergeDefaultAndTheme:function(c,a){var d=this.layoutMode,g=d?b.getLayoutParams(c):{};m.merge(c,a.getTheme().get(this.subType));m.merge(c,this.getDefaultOption());h.defaultEmphasis(c.label,["show"]);this.fillDataTextStyle(c.data);d&&b.mergeLayoutParam(c,g,d)},mergeOption:function(c,a){c=m.merge(this.option,c,!0);this.fillDataTextStyle(c.data);var g=this.layoutMode;g&&b.mergeLayoutParam(this.option,c,g);if(g=this.getInitialData(c,a))d(this,"data",g),d(this,"dataBeforeProcessed",g.cloneShallow())},fillDataTextStyle:function(b){if(b)for(var c=["show"],a=0;a<b.length;a++)b[a]&&b[a].label&&h.defaultEmphasis(b[a].label,c)},getInitialData:function(){},getData:function(b){var a=c(this,"data");return null==b?a:a.getLinkedData(b)},setData:function(b){d(this,"data",b)},getRawData:function(){return c(this,"dataBeforeProcessed")},coordDimToDataDim:function(b){return h.coordDimToDataDim(this.getData(),b)},dataDimToCoordDim:function(b){return h.dataDimToCoordDim(this.getData(),b)},getBaseAxis:function(){var b=this.coordinateSystem;return b&&b.getBaseAxis&&b.getBaseAxis()},formatTooltip:function(b,a,d){function e(c){function d(b,c){var k=f.getDimensionInfo(c);if(k&&!1!==k.otherDims.tooltip){var e=k.type;(k=(l?"- "+(k.tooltipName||k.name)+": ":"")+("ordinal"===e?b+"":"time"===e?a?"":p.formatTime("yyyy/MM/dd hh:mm:ss",b):r(b)))&&x.push(g(k))}}var l=m.reduce(c,function(b,c,a){c=f.getDimensionInfo(a);return b|(c&&!1!==c.tooltip&&null!=c.tooltipName)},0),x=[],u=h.otherDimToDataDim(f,"tooltip");u.length?m.each(u,function(c){d(f.get(c,b),c)}):m.each(c,d);return(l?"\x3cbr/\x3e":"")+x.join(l?"\x3cbr/\x3e":", ")}var f=c(this,"data");d=this.getRawValue(b);d=m.isArray(d)?e(d):g(r(d));var l=f.getName(b),v=f.getItemVisual(b,"color");m.isObject(v)&&v.colorStops&&(v=(v.colorStops[0]||{}).color);var v=p.getTooltipMarker(v||"transparent"),y=this.name;"\x00-"===y&&(y="");y=y?g(y)+(a?": ":"\x3cbr/\x3e"):"";return a?v+y+d:y+v+(l?g(l)+": "+d:d)},isAnimationEnabled:function(){if(e.node)return!1;var b=this.getShallow("animation");b&&this.getData().count()>this.getShallow("animationThreshold")&&(b=!1);return b},restoreData:function(){d(this,"data",c(this,"dataBeforeProcessed").cloneShallow())},getColorFromPalette:function(b,c){var a=this.ecModel,d=f.getColorFromPalette.call(this,b,c);d||(d=a.getColorFromPalette(b,c));return d},getAxisTooltipData:null,getTooltipPosition:null});m.mixin(a,h.dataFormatMixin);m.mixin(a,f);q.exports=a},function(q,n,a){var m=a(51),p=a(73);n=a(15);a=function(){this.group=new m;this.uid=p.getUID("viewComponent")};a.prototype={constructor:a,init:function(a,f){},render:function(a,f,e,b){},dispose:function(){}};var h=a.prototype;h.updateView=h.updateLayout=h.updateVisual=function(a,f,e,b){};n.enableClassExtend(a);n.enableClassManagement(a,{registerWhenExtend:!0});q.exports=a},function(q,n,a){function m(){this.group=new l;this.uid=f.getUID("viewChart")}function p(b,c){if(b&&(b.trigger(c),"group"===b.type))for(var a=0;a<b.childCount();a++)p(b.childAt(a),c)}function h(a,c,g){c=e.queryDataIndex(a,c);null!=c?b.each(e.normalizeToArray(c),function(b){p(a.getItemGraphicEl(b),g)}):a.eachItemGraphicEl(function(b){p(b,g)})}var l=a(51),f=a(73);n=a(15);var e=a(5),b=a(4);m.prototype={type:"chart",init:function(b,c){},render:function(b,c,a,e){},highlight:function(b,c,a,e){h(b.getData(),e,"emphasis")},downplay:function(b,c,a,e){h(b.getData(),e,"normal")},remove:function(b,c){this.group.removeAll()},dispose:function(){}};a=m.prototype;a.updateView=a.updateLayout=a.updateVisual=function(b,c,a,e){this.render(b,c,a,e)};n.enableClassExtend(m,["dispose"]);n.enableClassManagement(m,{registerWhenExtend:!0});q.exports=m},function(q,n){var a={throttle:function(a,p,h){function l(){b=(new Date).getTime();d=null;a.apply(g,r||[])}var f,e=0,b=0,d=null,c,g,r,k;p=p||0;var t=function(){f=(new Date).getTime();g=this;r=arguments;var a=k||p,t=k||h;k=null;c=f-(t?e:b)-a;clearTimeout(d);t?d=setTimeout(l,a):0<=c?l():d=setTimeout(l,-c);e=f};t.clear=function(){d&&(clearTimeout(d),d=null)};t.debounceNextCall=function(b){k=b};return t},createOrUpdate:function(m,p,h,l){var f=m[p];if(f){var e=f["\x00__throttleOriginMethod"]||f,b=f["\x00__throttleType"];if(f["\x00__throttleRate"]!==h||b!==l){if(null==h||!l)return m[p]=e;f=m[p]=a.throttle(e,h,"debounce"===l);f["\x00__throttleOriginMethod"]=e;f["\x00__throttleType"]=l;f["\x00__throttleRate"]=h}return f}},clear:function(a,p){var h=a[p];h&&h["\x00__throttleOriginMethod"]&&(a[p]=h["\x00__throttleOriginMethod"])}};q.exports=a},function(q,n,a){var m=a(28),p=a(2),h=a(4),l=a(86),f=a(88),e=a(90),b=a(93),d=!p.canvasSupported,c={canvas:a(95)},g={},r={version:"3.6.0",init:function(b,c){var a=new k(m(),b,c);return g[a.id]=a},dispose:function(b){if(b)b.dispose();else{for(var c in g)g.hasOwnProperty(c)&&g[c].dispose();g={}}return r},getInstance:function(b){return g[b]},registerPainter:function(b,a){c[b]=a}},k=function(a,g,k){k=k||{};this.dom=g;this.id=a;var r=this,u=new f;a=k.renderer;if(d){if(!c.vml)throw Error("You need to require 'zrender/vml/vml' to support IE8");a="vml"}else a&&c[a]||(a="canvas");g=new c[a](g,u,k);this.storage=u;this.painter=g;k=p.node?null:new b(g.getViewportRoot());this.handler=new l(u,g,k,g.root);this.animation=new e({stage:{update:h.bind(this.flush,this)}});this.animation.start();var v=u.delFromStorage,y=u.addToStorage;u.delFromStorage=function(b){v.call(u,b);b&&b.removeSelfFromZr(r)};u.addToStorage=function(b){y.call(u,b);b.addSelfToZr(r)}};k.prototype={constructor:k,getId:function(){return this.id},add:function(b){this.storage.addRoot(b);this._needsRefresh=!0},remove:function(b){this.storage.delRoot(b);this._needsRefresh=!0},configLayer:function(b,c){this.painter.configLayer(b,c);this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1;this.painter.refresh();this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately();this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(b,c){this.painter.addHover&&(this.painter.addHover(b,c),this.refreshHover())},removeHover:function(b){this.painter.removeHover&&(this.painter.removeHover(b),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(b){b=b||{};this.painter.resize(b.width,b.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(b,c){return this.painter.pathToImage(b,c)},setCursorStyle:function(b){this.handler.setCursorStyle(b)},findHover:function(b,c){return this.handler.findHover(b,c)},on:function(b,c,a){this.handler.on(b,c,a)},off:function(b,c){this.handler.off(b,c)},trigger:function(b,c){this.handler.trigger(b,c)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;delete g[this.id]}};q.exports=r},function(q,n,a){function m(){}var p=a(4),h=a(87),l=a(29);m.prototype.dispose=function(){};var f="click dblclick mousewheel mouseout mouseup mousedown mousemove contextmenu".split(" "),e=function(b,a,c,g){l.call(this);this.storage=b;this.painter=a;this.painterRoot=g;this.proxy=c=c||new m;c.handler=this;this._hovered={};h.call(this);p.each(f,function(b){c.on&&c.on(b,this[b],this)},this)};e.prototype={constructor:e,mousemove:function(b){var a=b.zrX,c=b.zrY,g=this._hovered,e=g.target;e&&!e.__zr&&(g=this.findHover(g.x,g.y),e=g.target);var a=this._hovered=this.findHover(a,c),c=a.target,k=this.proxy;k.setCursor&&k.setCursor(c?c.cursor:"default");e&&c!==e&&this.dispatchToElement(g,"mouseout",b);this.dispatchToElement(a,"mousemove",b);c&&c!==e&&this.dispatchToElement(a,"mouseover",b)},mouseout:function(b){this.dispatchToElement(this._hovered,"mouseout",b);var a=b.toElement||b.relatedTarget,c;do a=a&&a.parentNode;while(a&&9!=a.nodeType&&!(c=a===this.painterRoot));!c&&this.trigger("globalout",{event:b})},resize:function(b){this._hovered={}},dispatch:function(b,a){var c=this[b];c&&c.call(this,a)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(b){var a=this.proxy;a.setCursor&&a.setCursor(b)},dispatchToElement:function(b,a,c){b=b||{};var g=b.target;if(!g||!g.silent){for(var e="on"+a,k={type:a,event:c,target:b.target,topTarget:b.topTarget,cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta,zrByTouch:c.zrByTouch};g&&(g[e]&&(k.cancelBubble=g[e].call(g,k)),g.trigger(a,k),g=g.parent,!k.cancelBubble););k.cancelBubble||(this.trigger(a,k),this.painter&&this.painter.eachOtherLayer(function(b){"function"==typeof b[e]&&b[e].call(b,k);b.trigger&&b.trigger(a,k)}))}},findHover:function(b,a,c){for(var g=this.storage.getDisplayList(),e={x:b,y:a},k=g.length-1;0<=k;k--){var t,f;if(f=g[k]!==c&&!g[k].ignore){a:{var h=g[k];t=b;f=a;if(h[h.rectHover?"rectContain":"contain"](t,f)){for(var l=void 0;h;){if(h.clipPath&&!h.clipPath.contain(t,f)){t=!1;break a}h.silent&&(l=!0);h=h.parent}t=l?"silent":!0}else t=!1}f=t}if(f&&(!e.topTarget&&(e.topTarget=g[k]),"silent"!==t)){e.target=g[k];break}}return e}};p.each("click mousedown mouseup mousewheel dblclick contextmenu".split(" "),function(b){e.prototype[b]=function(a){var c=this.findHover(a.zrX,a.zrY),g=c.target;if("mousedown"===b)this._upel=this._downel=g;else if("mosueup"===b)this._upel=g;else if("click"===b&&this._downel!==this._upel)return;this.dispatchToElement(c,b,a)}});p.mixin(e,l);p.mixin(e,h);q.exports=e},function(q,n){function a(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}function m(a,h){return{target:a,topTarget:h&&h.topTarget}}a.prototype={constructor:a,_dragStart:function(a){var h=a.target;h&&h.draggable&&(this._draggingTarget=h,h.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.dispatchToElement(m(h,a),"dragstart",a.event))},_drag:function(a){var h=this._draggingTarget;if(h){var l=a.offsetX,f=a.offsetY,e=l-this._x,b=f-this._y;this._x=l;this._y=f;h.drift(e,b,a);this.dispatchToElement(m(h,a),"drag",a.event);l=this.findHover(l,f,h).target;f=this._dropTarget;this._dropTarget=l;h!==l&&(f&&l!==f&&this.dispatchToElement(m(f,a),"dragleave",a.event),l&&l!==f&&this.dispatchToElement(m(l,a),"dragenter",a.event))}},_dragEnd:function(a){var h=this._draggingTarget;h&&(h.dragging=!1);this.dispatchToElement(m(h,a),"dragend",a.event);this._dropTarget&&this.dispatchToElement(m(this._dropTarget,a),"drop",a.event);this._dropTarget=this._draggingTarget=null}};q.exports=a},function(q,n,a){function m(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}var p=a(4),h=a(2),l=a(51),f=a(89);n=function(){this._roots=[];this._displayList=[];this._displayListLen=0};n.prototype={constructor:n,traverse:function(a,b){for(var d=0;d<this._roots.length;d++)this._roots[d].traverse(a,b)},getDisplayList:function(a,b){a&&this.updateDisplayList(b||!1);return this._displayList},updateDisplayList:function(a){this._displayListLen=0;for(var b=this._roots,d=this._displayList,c=0,g=b.length;c<g;c++)this._updateAndAddDisplayable(b[c],null,a);d.length=this._displayListLen;h.canvasSupported&&f(d,m)},_updateAndAddDisplayable:function(a,b,d){if(!a.ignore||d){a.beforeUpdate();a.__dirty&&a.update();a.afterUpdate();var c=a.clipPath;if(c){b=b?b.slice():[];for(var g=a;c;)c.parent=g,c.updateTransform(),b.push(c),g=c,c=c.clipPath}if(a.isGroup){c=a._children;for(g=0;g<c.length;g++){var r=c[g];a.__dirty&&(r.__dirty=!0);this._updateAndAddDisplayable(r,b,d)}a.__dirty=!1}else a.__clipPaths=b,this._displayList[this._displayListLen++]=a}},addRoot:function(a){a.__storage!==this&&(a instanceof l&&a.addChildrenToStorage(this),this.addToStorage(a),this._roots.push(a))},delRoot:function(a){if(null==a){for(var b=0;b<this._roots.length;b++)a=this._roots[b],a instanceof l&&a.delChildrenFromStorage(this);this._roots=[];this._displayList=[];this._displayListLen=0}else if(a instanceof Array)for(var b=0,d=a.length;b<d;b++)this.delRoot(a[b]);else b=p.indexOf(this._roots,a),0<=b&&(this.delFromStorage(a),this._roots.splice(b,1),a instanceof l&&a.delChildrenFromStorage(this))},addToStorage:function(a){a.__storage=this;a.dirty(!1);return this},delFromStorage:function(a){a&&(a.__storage=null);return this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:m};q.exports=n},function(q,n){function a(a,e,b,d){var c=e+1;if(c===b)return 1;if(0>d(a[c++],a[e])){for(;c<b&&0>d(a[c],a[c-1]);)c++;b=e;d=c;for(d--;b<d;){var g=a[b];a[b++]=a[d];a[d--]=g}}else for(;c<b&&0<=d(a[c],a[c-1]);)c++;return c-e}function m(a,e,b,d,c){for(d===e&&d++;d<b;d++){for(var g=a[d],r=e,k=d,t;r<k;)t=r+k>>>1,0>c(g,a[t])?k=t:r=t+1;k=d-r;switch(k){case 3:a[r+3]=a[r+2];case 2:a[r+2]=a[r+1];case 1:a[r+1]=a[r];break;default:for(;0<k;)a[r+k]=a[r+k-1],k--}a[r]=g}}function p(a,e,b,d,c,g){var r=0,k=0,t=1;if(0<g(a,e[b+c])){for(k=d-c;t<k&&0<g(a,e[b+c+t]);)r=t,t=(t<<1)+1,0>=t&&(t=k);t>k&&(t=k);r+=c;t+=c}else{for(k=c+1;t<k&&0>=g(a,e[b+c-t]);)r=t,t=(t<<1)+1,0>=t&&(t=k);t>k&&(t=k);d=r;r=c-t;t=c-d}for(r++;r<t;)c=r+(t-r>>>1),0<g(a,e[b+c])?r=c+1:t=c;return t}function h(a,e,b,d,c,g){var r=0,k=0,t=1;if(0>g(a,e[b+c])){for(k=c+1;t<k&&0>g(a,e[b+c-t]);)r=t,t=(t<<1)+1,0>=t&&(t=k);t>k&&(t=k);d=r;r=c-t;t=c-d}else{for(k=d-c;t<k&&0<=g(a,e[b+c+t]);)r=t,t=(t<<1)+1,0>=t&&(t=k);t>k&&(t=k);r+=c;t+=c}for(r++;r<t;)c=r+(t-r>>>1),0>g(a,e[b+c])?t=c:r=c+1;return t}function l(a,e){function b(b){var l=c[b],x=g[b],w=c[b+1],u=g[b+1];g[b]=x+u;b===r-3&&(c[b+1]=c[b+2],g[b+1]=g[b+2]);r--;b=h(a[w],a,l,x,0,e);l+=b;x-=b;if(0!==x&&(u=p(a[l+x-1],a,w,u,u-1,e),0!==u))if(x<=u){for(var v=l,l=x,x=u,u=u=0;u<l;u++)k[u]=a[v+u];b=0;a[v++]=a[w++];if(0===--x)for(u=0;u<l;u++)a[v+u]=k[b+u];else if(1===l){for(u=0;u<x;u++)a[v+u]=a[w+u];a[v+x]=k[b]}else{for(var y=d,m,z,n;;){z=m=0;n=!1;do if(0>e(a[w],k[b])){if(a[v++]=a[w++],z++,m=0,0===--x){n=!0;break}}else if(a[v++]=k[b++],m++,z=0,1===--l){n=!0;break}while((m|z)<y);if(n)break;do{m=h(a[w],k,b,l,0,e);if(0!==m){for(u=0;u<m;u++)a[v+u]=k[b+u];v+=m;b+=m;l-=m;if(1>=l){n=!0;break}}a[v++]=a[w++];if(0===--x){n=!0;break}z=p(k[b],a,w,x,0,e);if(0!==z){for(u=0;u<z;u++)a[v+u]=a[w+u];v+=z;w+=z;x-=z;if(0===x){n=!0;break}}a[v++]=k[b++];if(1===--l){n=!0;break}y--}while(7<=m||7<=z);if(n)break;0>y&&(y=0);y+=2}d=y;1>d&&(d=1);if(1===l){for(u=0;u<x;u++)a[v+u]=a[w+u];a[v+x]=k[b]}else{if(0===l)throw Error();for(u=0;u<l;u++)a[v+u]=k[b+u]}}}else{for(b=b=0;b<u;b++)k[b]=a[w+b];v=l+x-1;y=u-1;w=w+u-1;z=m=0;a[w--]=a[v--];if(0===--x)for(m=w-(u-1),b=0;b<u;b++)a[m+b]=k[b];else if(1===u){w-=x;z=w+1;m=v-x+1;for(b=x-1;0<=b;b--)a[z+b]=a[m+b];a[w]=k[y]}else{for(n=d;;){var q=0,F=0,D=!1;do if(0>e(k[y],a[v])){if(a[w--]=a[v--],q++,F=0,0===--x){D=!0;break}}else if(a[w--]=k[y--],F++,q=0,1===--u){D=!0;break}while((q|F)<n);if(D)break;do{q=x-h(k[y],a,l,x,x-1,e);if(0!==q){w-=q;v-=q;x-=q;z=w+1;m=v+1;for(b=q-1;0<=b;b--)a[z+b]=a[m+b];if(0===x){D=!0;break}}a[w--]=k[y--];if(1===--u){D=!0;break}F=u-p(a[v],k,0,u,u-1,e);if(0!==F){w-=F;y-=F;u-=F;z=w+1;m=y+1;for(b=0;b<F;b++)a[z+b]=k[m+b];if(1>=u){D=!0;break}}a[w--]=a[v--];if(0===--x){D=!0;break}n--}while(7<=q||7<=F);if(D)break;0>n&&(n=0);n+=2}d=n;1>d&&(d=1);if(1===u){w-=x;v-=x;z=w+1;m=v+1;for(b=x-1;0<=b;b--)a[z+b]=a[m+b];a[w]=k[y]}else{if(0===u)throw Error();m=w-(u-1);for(b=0;b<u;b++)a[m+b]=k[b]}}}}var d=7,c,g,r=0,k=[];c=[];g=[];this.mergeRuns=function(){for(;1<r;){var a=r-2;if(1<=a&&g[a-1]<=g[a]+g[a+1]||2<=a&&g[a-2]<=g[a]+g[a-1])g[a-1]<g[a+1]&&a--;else if(g[a]>g[a+1])break;b(a)}};this.forceMergeRuns=function(){for(;1<r;){var a=r-2;0<a&&g[a-1]<g[a+1]&&a--;b(a)}};this.pushRun=function(b,a){c[r]=b;g[r]=a;r+=1}}q.exports=function(f,e,b,d){b||(b=0);d||(d=f.length);var c=d-b;if(!(2>c)){var g=0;if(32>c)g=a(f,b,d,e),m(f,b,d,b+g,e);else{var r=new l(f,e),k,g=c;for(k=0;32<=g;)k|=g&1,g>>=1;k=g+k;do{g=a(f,b,d,e);if(g<k){var t=c;t>k&&(t=k);m(f,b,b+t,b+g,e);g=t}r.pushRun(b,g);r.mergeRuns();c-=g;b+=g}while(0!==c);r.forceMergeRuns()}}}},function(q,n,a){var m=a(4),p=a(91).Dispatcher,h=a(92),l=a(32);n=function(a){a=a||{};this.stage=a.stage||{};this.onframe=a.onframe||function(){};this._clips=[];this._running=!1;this._time;this._pausedTime;this._pauseStart;this._paused=!1;p.call(this)};n.prototype={constructor:n,addClip:function(a){this._clips.push(a)},addAnimator:function(a){a.animation=this;a=a.getClips();for(var e=0;e<a.length;e++)this.addClip(a[e])},removeClip:function(a){a=m.indexOf(this._clips,a);0<=a&&this._clips.splice(a,1)},removeAnimator:function(a){for(var e=a.getClips(),b=0;b<e.length;b++)this.removeClip(e[b]);a.animation=null},_update:function(){for(var a=(new Date).getTime()-this._pausedTime,e=a-this._time,b=this._clips,d=b.length,c=[],g=[],r=0;r<d;r++){var k=b[r],t=k.step(a,e);t&&(c.push(t),g.push(k))}for(r=0;r<d;)b[r]._needsRemove?(b[r]=b[d-1],b.pop(),d--):r++;d=c.length;for(r=0;r<d;r++)g[r].fire(c[r]);this._time=a;this.onframe(e);this.trigger("frame",e);this.stage.update&&this.stage.update()},_startLoop:function(){function a(){e._running&&(h(a),!e._paused&&e._update())}var e=this;this._running=!0;h(a)},start:function(){this._time=(new Date).getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(a,e){e=e||{};var b=new l(a,e.loop,e.getter,e.setter);this.addAnimator(b);return b}};m.mixin(n,p);q.exports=n},function(q,n,a){function m(a,e,b,d){b=b||{};d||!h.canvasSupported?p(a,e,b):h.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(b.zrX=e.layerX,b.zrY=e.layerY):null!=e.offsetX?(b.zrX=e.offsetX,b.zrY=e.offsetY):p(a,e,b);return b}function p(a,e,b){a=a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0};b.zrX=e.clientX-a.left;b.zrY=e.clientY-a.top}n=a(29);var h=a(2),l="undefined"!==typeof window&&!!window.addEventListener;q.exports={clientToLocal:m,normalizeEvent:function(a,e,b){e=e||window.event;if(null!=e.zrX)return e;var d=e.type;d&&0<=d.indexOf("touch")?(d="touchend"!=d?e.targetTouches[0]:e.changedTouches[0])&&m(a,d,e,b):(m(a,e,e,b),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3);return e},addEventListener:function(a,e,b){l?a.addEventListener(e,b):a.attachEvent("on"+e,b)},removeEventListener:function(a,e,b){l?a.removeEventListener(e,b):a.detachEvent("on"+e,b)},stop:l?function(a){a.preventDefault();a.stopPropagation();a.cancelBubble=!0}:function(a){a.returnValue=!1;a.cancelBubble=!0},Dispatcher:n}},function(q,n){q.exports="undefined"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)}},function(q,n,a){function m(b){return"mousewheel"===b&&c.browser.firefox?"DOMMouseScroll":b}function p(b,a,c){var d=b._gestureMgr;"start"===c&&d.clear();var g=d.recognize(a,b.handler.findHover(a.zrX,a.zrY,null).target,b.dom);"end"===c&&d.clear();g&&(c=g.type,a.gestureEvent=c,b.handler.dispatchToElement({target:g.target},c,g.event))}function h(b){b._touching=!0;clearTimeout(b._touchTimer);b._touchTimer=setTimeout(function(){b._touching=!1},700)}function l(b){b=b.pointerType;return"pen"===b||"touch"===b}function f(a){function c(b,a){return function(){if(!a._touching)return b.apply(a,arguments)}}b.each(x,function(c){a._handlers[c]=b.bind(v[c],a)});b.each(u,function(c){a._handlers[c]=b.bind(v[c],a)});b.each(A,function(b){a._handlers[b]=c(v[b],a)})}function e(a){function k(c,d){b.each(c,function(b){r(a,m(b),d._handlers[b])},d)}d.call(this);this.dom=a;this._touching=!1;this._gestureMgr=new g;this._handlers={};f(this);c.pointerEventsSupported?k(u,this):(c.touchEventsSupported&&k(x,this),k(A,this))}n=a(91);var b=a(4),d=a(29),c=a(2),g=a(94),r=n.addEventListener,k=n.removeEventListener,t=n.normalizeEvent,A="click dblclick mousewheel mouseout mouseup mousedown mousemove contextmenu".split(" "),x=["touchstart","touchend","touchmove"],w={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},u=b.map(A,function(b){var a=b.replace("mouse","pointer");return w[a]?a:b}),v={mousemove:function(b){b=t(this.dom,b);this.trigger("mousemove",b)},mouseout:function(b){b=t(this.dom,b);var a=b.toElement||b.relatedTarget;if(a!=this.dom)for(;a&&9!=a.nodeType;){if(a===this.dom)return;a=a.parentNode}this.trigger("mouseout",b)},touchstart:function(b){b=t(this.dom,b);b.zrByTouch=!0;this._lastTouchMoment=new Date;p(this,b,"start");v.mousemove.call(this,b);v.mousedown.call(this,b);h(this)},touchmove:function(b){b=t(this.dom,b);b.zrByTouch=!0;p(this,b,"change");v.mousemove.call(this,b);h(this)},touchend:function(b){b=t(this.dom,b);b.zrByTouch=!0;p(this,b,"end");v.mouseup.call(this,b);300>+new Date-this._lastTouchMoment&&v.click.call(this,b);h(this)},pointerdown:function(b){v.mousedown.call(this,b)},pointermove:function(b){l(b)||v.mousemove.call(this,b)},pointerup:function(b){v.mouseup.call(this,b)},pointerout:function(b){l(b)||v.mouseout.call(this,b)}};b.each("click mousedown mouseup mousewheel dblclick contextmenu".split(" "),function(b){v[b]=function(a){a=t(this.dom,a);this.trigger(b,a)}});a=e.prototype;a.dispose=function(){for(var b=A.concat(x),a=0;a<b.length;a++){var c=b[a];k(this.dom,m(c),this._handlers[c])}};a.setCursor=function(b){this.dom.style.cursor=b||"default"};b.mixin(e,d);q.exports=e},function(q,n,a){function m(a){var f=a[1][0]-a[0][0];a=a[1][1]-a[0][1];return Math.sqrt(f*f+a*a)}var p=a(91);n=function(){this._track=[]};n.prototype={constructor:n,recognize:function(a,f,e){this._doTrack(a,f,e);return this._recognize(a)},clear:function(){this._track.length=0;return this},_doTrack:function(a,f,e){var b=a.touches;if(b){a={points:[],touches:[],target:f,event:a};f=0;for(var d=b.length;f<d;f++){var c=b[f],g=p.clientToLocal(e,c,{});a.points.push([g.zrX,g.zrY]);a.touches.push(c)}this._track.push(a)}},_recognize:function(a){for(var f in h)if(h.hasOwnProperty(f)){var e=h[f](this._track,a);if(e)return e}}};var h={pinch:function(a,f){var e=a.length;if(e){var b=(a[e-1]||{}).points;if((e=(a[e-2]||{}).points||b)&&1<e.length&&b&&1<b.length)return e=m(b)/m(e),!isFinite(e)&&(e=1),f.pinchScale=e,b=[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2],f.pinchX=b[0],f.pinchY=b[1],{type:"pinch",target:a[0].target,event:f}}}};q.exports=n},function(q,n,a){function m(b){b.__unusedCount++}function p(b){1==b.__unusedCount&&b.clear()}var h=a(37),l=a(4),f=a(36);n=a(9);var e=a(89),b=a(96),d=a(92),c=new n(0,0,0,0),g=new n(0,0,0,0);n=function(a,c,d){var g=!a.nodeName||"CANVAS"===a.nodeName.toUpperCase();this._opts=d=l.extend({},d||{});this.dpr=d.devicePixelRatio||h.devicePixelRatio;this._singleCanvas=g;this.root=a;var e=a.style;e&&(e["-webkit-tap-highlight-color"]="transparent",e["-webkit-user-select"]=e["user-select"]=e["-webkit-touch-callout"]="none",a.innerHTML="");this.storage=c;c=this._zlevelList=[];e=this._layers={};this._layerConfig={};g?(null!=d.width&&(a.width=d.width),null!=d.height&&(a.height=d.height),d=a.height,this._width=a.width,this._height=d,d=new b(a,this,1),d.initContext(),e[0]=d,c.push(0),this._domRoot=a):(this._width=this._getSize(0),this._height=this._getSize(1),d=this._width,g=this._height,c=document.createElement("div"),c.style.cssText=["position:relative;overflow:hidden","width:"+d+"px","height:"+g+"px","padding:0;margin:0;border-width:0"].join(";")+";",d=this._domRoot=c,a.appendChild(d));this._progressiveLayers=[];this._hoverElements=[]};n.prototype={constructor:n,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var b=this.getViewportRoot();if(b)return{offsetLeft:b.offsetLeft||0,offsetTop:b.offsetTop||0}},refresh:function(b){var a=this.storage.getDisplayList(!0),c=this._zlevelList;this._paintList(a,b);for(b=0;b<c.length;b++)a=this._layers[c[b]],!a.__builtin__&&a.refresh&&a.refresh();this.refreshHover();this._progressiveLayers.length&&this._startProgessive();return this},addHover:function(b,a){if(!b.__hoverMir){var c=new b.constructor({style:b.style,shape:b.shape});c.__from=b;b.__hoverMir=c;c.setStyle(a);this._hoverElements.push(c)}},removeHover:function(b){var a=this._hoverElements,c=l.indexOf(a,b.__hoverMir);0<=c&&a.splice(c,1);b.__hoverMir=null},clearHover:function(b){b=this._hoverElements;for(var a=0;a<b.length;a++){var c=b[a].__from;c&&(c.__hoverMir=null)}b.length=0},refreshHover:function(){var b=this._hoverElements,a=b.length,c=this._hoverlayer;c&&c.clear();if(a){e(b,this.storage.displayableSortFunc);c||(c=this._hoverlayer=this.getLayer(1E5));var d={};c.ctx.save();for(var g=0;g<a;){var f=b[g],h=f.__from;h&&h.__zr?(g++,h.invisible||(f.transform=h.transform,f.invTransform=h.invTransform,f.__clipPaths=h.__clipPaths,this._doPaintEl(f,c,!0,d))):(b.splice(g,1),h.__hoverMir=null,a--)}c.ctx.restore()}},_startProgessive:function(){function b(){c===a._progressiveToken&&a.storage&&(a._doPaintList(a.storage.getDisplayList()),a._furtherProgressive?(a._progress++,d(b)):a._progressiveToken=-1)}var a=this;if(a._furtherProgressive){var c=a._progressiveToken=+new Date;a._progress++;d(b)}},_clearProgressive:function(){this._progressiveToken=-1;this._progress=0;l.each(this._progressiveLayers,function(b){b.__dirty&&b.clear()})},_paintList:function(b,a){null==a&&(a=!1);this._updateLayerStatus(b);this._clearProgressive();this.eachBuiltinLayer(m);this._doPaintList(b,a);this.eachBuiltinLayer(p)},_doPaintList:function(b,a){function c(b){var a=e.dpr||1;e.save();e.globalAlpha=1;e.shadowBlur=0;d.__dirty=!0;e.setTransform(1,0,0,1,0,0);e.drawImage(b.dom,0,0,p*a,z*a);e.restore()}for(var d,g,e,h,v=0,m,p=this._width,z=this._height,n,q=this._progress,F=0,D=b.length;F<D;F++){var C=b[F];n=this._singleCanvas?0:C.zlevel;var I=C.__frame;0>I&&m&&(c(m),m=null);g!==n&&(e&&e.restore(),h={},g=n,d=this.getLayer(g),d.__builtin__||f("ZLevel "+g+" has been used by unkown layer "+d.id),e=d.ctx,e.save(),d.__unusedCount=0,(d.__dirty||a)&&d.clear());if(d.__dirty||a){if(0<=I){if(!m){m=this._progressiveLayers[Math.min(v++,4)];m.ctx.save();m.renderScope={};if(m&&m.__progress>m.__maxProgress){F=m.__nextIdxNotProg-1;continue}n=m.__progress;m.__dirty||(q=n);m.__progress=q+1}I===q&&this._doPaintEl(C,m,!0,m.renderScope)}else this._doPaintEl(C,d,a,h);C.__dirty=!1}}m&&c(m);e&&e.restore();this._furtherProgressive=!1;l.each(this._progressiveLayers,function(b){b.__maxProgress>=b.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(b,a,d,e){var f=a.ctx,h=b.transform;if(d=(a.__dirty||d)&&!b.invisible&&0!==b.style.opacity&&!(h&&!h[0]&&!h[3])){if(d=b.culling)d=this._width,h=this._height,c.copy(b.getBoundingRect()),b.transform&&c.applyTransform(b.transform),g.width=d,g.height=h,d=!c.intersect(g);d=!d}if(d){d=b.__clipPaths;if(!(h=e.prevClipLayer!==a))a:if(h=e.prevElClipPaths,d==h)h=!1;else if(d&&h&&d.length===h.length){for(var l=0;l<d.length;l++)if(d[l]!==h[l]){h=!0;break a}h=void 0}else h=!0;if(h&&(e.prevElClipPaths&&(e.prevClipLayer.ctx.restore(),e.prevClipLayer=e.prevElClipPaths=null,e.prevEl=null),d)){f.save();for(h=0;h<d.length;h++)l=d[h],l.setTransform(f),f.beginPath(),l.buildPath(f,l.shape),f.clip(),l.restoreTransform(f);e.prevClipLayer=a;e.prevElClipPaths=d}b.beforeBrush&&b.beforeBrush(f);b.brush(f,e.prevEl||null);e.prevEl=b;b.afterBrush&&b.afterBrush(f)}},getLayer:function(a){if(this._singleCanvas)return this._layers[0];var c=this._layers[a];c||(c=new b("zr_"+a,this,this.dpr),c.__builtin__=!0,this._layerConfig[a]&&l.merge(c,this._layerConfig[a],!0),this.insertLayer(a,c),c.initContext());return c},insertLayer:function(b,a){var c=this._layers,d=this._zlevelList,g=d.length,e=null,h=-1,l=this._domRoot;if(c[b])f("ZLevel "+b+" has been used already");else if(a&&(a.__builtin__||"function"===typeof a.resize&&"function"===typeof a.refresh)){if(0<g&&b>d[0]){for(h=0;h<g-1&&!(d[h]<b&&d[h+1]>b);h++);e=c[d[h]]}d.splice(h+1,0,b);c[b]=a;a.virtual||(e?(c=e.dom,c.nextSibling?l.insertBefore(a.dom,c.nextSibling):l.appendChild(a.dom)):l.firstChild?l.insertBefore(a.dom,l.firstChild):l.appendChild(a.dom))}else f("Layer of zlevel "+b+" is not valid")},eachLayer:function(b,a){var c=this._zlevelList,d,g;for(g=0;g<c.length;g++)d=c[g],b.call(a,this._layers[d],d)},eachBuiltinLayer:function(b,a){var c=this._zlevelList,d,g,e;for(e=0;e<c.length;e++)g=c[e],d=this._layers[g],d.__builtin__&&b.call(a,d,g)},eachOtherLayer:function(b,a){var c=this._zlevelList,d,g,e;for(e=0;e<c.length;e++)g=c[e],d=this._layers[g],d.__builtin__||b.call(a,d,g)},getLayers:function(){return this._layers},_updateLayerStatus:function(a){var c=this._layers,d=this._progressiveLayers,g={},e={};this.eachBuiltinLayer(function(b,a){g[a]=b.elCount;b.elCount=0;b.__dirty=!1});l.each(d,function(b,a){e[a]=b.elCount;b.elCount=0;b.__dirty=!1});for(var f=0,h,v,m=0,p=0,z=a.length;p<z;p++){var n=a[p],q=c[this._singleCanvas?0:n.zlevel],F=n.progressive;q&&(q.elCount++,q.__dirty=q.__dirty||n.__dirty);if(0<=F){v!==F&&(v=F,m++);F=n.__frame=m-1;if(!h){var D=Math.min(f,4);h=d[D];h||(h=d[D]=new b("progressive",this,this.dpr),h.initContext());h.__maxProgress=0}h.__dirty=h.__dirty||n.__dirty;h.elCount++;h.__maxProgress=Math.max(h.__maxProgress,F);h.__maxProgress>=h.__progress&&(q.__dirty=!0)}else n.__frame=-1,h&&(h.__nextIdxNotProg=p,f++,h=null)}h&&(f++,h.__nextIdxNotProg=p);this.eachBuiltinLayer(function(b,a){g[a]!==b.elCount&&(b.__dirty=!0)});d.length=Math.min(f,5);l.each(d,function(b,a){e[a]!==b.elCount&&(n.__dirty=!0);b.__dirty&&(b.__progress=0)})},clear:function(){this.eachBuiltinLayer(this._clearLayer);return this},_clearLayer:function(b){b.clear()},configLayer:function(b,a){if(a){var c=this._layerConfig;c[b]?l.merge(c[b],a,!0):c[b]=a;var d=this._layers[b];d&&l.merge(d,c[b],!0)}},delLayer:function(b){var a=this._layers,c=this._zlevelList,d=a[b];d&&(d.dom.parentNode.removeChild(d.dom),delete a[b],c.splice(l.indexOf(c,b),1))},resize:function(b,a){var c=this._domRoot;c.style.display="none";var d=this._opts;null!=b&&(d.width=b);null!=a&&(d.height=a);b=this._getSize(0);a=this._getSize(1);c.style.display="";if(this._width!=b||a!=this._height){c.style.width=b+"px";c.style.height=a+"px";for(var g in this._layers)this._layers.hasOwnProperty(g)&&this._layers[g].resize(b,a);l.each(this._progressiveLayers,function(c){c.resize(b,a)});this.refresh(!0)}this._width=b;this._height=a;return this},clearLayer:function(b){(b=this._layers[b])&&b.clear()},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(a){function c(b,a){var g=f._zlevelList;null==b&&(b=-Infinity);for(var k,e=0;e<g.length;e++){var r=g[e],h=f._layers[r];if(!h.__builtin__&&r>b&&r<a){k=h;break}}k&&k.renderToCanvas&&(d.ctx.save(),k.renderToCanvas(d.ctx),d.ctx.restore())}a=a||{};if(this._singleCanvas)return this._layers[0].dom;var d=new b("image",this,a.pixelRatio||this.dpr);d.initContext();d.clearColor=a.backgroundColor;d.clear();a=this.storage.getDisplayList(!0);for(var g={},e,f=this,h=0;h<a.length;h++){var l=a[h];l.zlevel!==e&&(c(e,l.zlevel),e=l.zlevel);this._doPaintEl(l,d,!0,g)}c(e,Infinity);return d.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(b){var a=this._opts,c=["width","height"][b],d=["clientWidth","clientHeight"][b],g=["paddingLeft","paddingTop"][b];b=["paddingRight","paddingBottom"][b];if(null!=a[c]&&"auto"!==a[c])return parseFloat(a[c]);var a=this.root,e=document.defaultView.getComputedStyle(a);return(a[d]||parseInt(e[c],10)||parseInt(a.style[c],10))-(parseInt(e[g],10)||0)-(parseInt(e[b],10)||0)|0},pathToImage:function(b,c){c=c||this.dpr;var d=document.createElement("canvas"),g=d.getContext("2d"),e=b.getBoundingRect(),f=b.style,h=f.shadowBlur,l=f.shadowOffsetX,m=f.shadowOffsetY,p=f.hasStroke()?f.lineWidth:0,f=Math.max(p/2,-l+h),z=Math.max(p/2,-m+h),l=e.width+f+Math.max(p/2,l+h),h=e.height+z+Math.max(p/2,m+h);d.width=l*c;d.height=h*c;g.scale(c,c);g.clearRect(0,0,l,h);g.dpr=c;h=b.position;m=b.rotation;l=b.scale;b.position=[f-e.x,z-e.y];b.rotation=0;b.scale=[1,1];b.updateTransform();b&&b.brush(g);d=new (a(52))({style:{x:0,y:0,image:d}});null!=h&&(d.position=b.position=h);null!=m&&(d.rotation=b.rotation=m);null!=l&&(d.scale=b.scale=l);return d}};q.exports=n},function(q,n,a){function m(){return!1}function p(b,a,c,g){a=document.createElement(a);var e=c.getWidth();c=c.getHeight();var k=a.style;k.position="absolute";k.left=0;k.top=0;k.width=e+"px";k.height=c+"px";a.width=e*g;a.height=c*g;a.setAttribute("data-zr-dom-id",b);return a}var h=a(4),l=a(37),f=a(24),e=a(49);n=function(b,a,c){var g;c=c||l.devicePixelRatio;"string"===typeof b?g=p(b,"canvas",a,c):h.isObject(b)&&(g=b,b=g.id);this.id=b;this.dom=g;if(b=g.style)g.onselectstart=m,b["-webkit-user-select"]="none",b["user-select"]="none",b["-webkit-touch-callout"]="none",b["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",b.padding=0,b.margin=0,b["border-width"]=0;this.ctxBack=this.domBack=null;this.painter=a;this.config=null;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.dpr=c};n.prototype={constructor:n,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.__currentValues={};this.ctx.dpr=this.dpr},createBackBuffer:function(){var b=this.dpr;this.domBack=p("back-"+this.id,"canvas",this.painter,b);this.ctxBack=this.domBack.getContext("2d");this.ctxBack.__currentValues={};1!=b&&this.ctxBack.scale(b,b)},resize:function(b,a){var c=this.dpr,g=this.dom,e=g.style,k=this.domBack;e.width=b+"px";e.height=a+"px";g.width=b*c;g.height=a*c;k&&(k.width=b*c,k.height=a*c,1!=c&&this.ctxBack.scale(c,c))},clear:function(b){var a=this.dom,c=this.ctx,g=a.width,r=a.height,k=this.clearColor,t=this.motionBlur&&!b;b=this.lastFrameAlpha;var h=this.dpr;t&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,g/h,r/h));c.clearRect(0,0,g,r);if(k){var l;k.colorStops?(l=k.__canvasGradient||f.getGradient(c,k,{x:0,y:0,width:g,height:r}),k.__canvasGradient=l):k.image&&(l=e.prototype.getCanvasPattern.call(k,c));c.save();c.fillStyle=l||k;c.fillRect(0,0,g,r);c.restore()}t&&(a=this.domBack,c.save(),c.globalAlpha=b,c.drawImage(a,0,0,g,r),c.restore())}};q.exports=n},function(q,n,a){var m=a(69);q.exports=function(a){a.eachRawSeries(function(h){var l=(h.visualColorAccessPath||"itemStyle.normal.color").split("."),f=h.getData(),e=h.get(l)||h.getColorFromPalette(h.get("name"));f.setVisual("color",e);a.isSeriesFiltered(h)||("function"!==typeof e||e instanceof m||f.each(function(b){f.setItemVisual(b,"color",e(h.getDataParams(b)))}),f.each(function(b){var a=f.getItemModel(b).get(l,!0);null!=a&&f.setItemVisual(b,"color",a)}))})}},function(q,n,a){function m(a){b(l,function(b){b[0]in a&&!(b[1]in a)&&(a[b[1]]=a[b[0]])})}var p=a(4),h=a(99),l=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],f="grid geo parallel legend toolbox title visualMap dataZoom timeline".split(" "),e="bar boxplot candlestick chord effectScatter funnel gauge lines graph heatmap line map parallel pie radar sankey scatter treemap".split(" "),b=p.each;q.exports=function(a){h(a);var c=a.series;b(p.isArray(c)?c:[c],function(b){if(p.isObject(b)){var a=b.type;"pie"!==a&&"gauge"!==a||null==b.clockWise||(b.clockwise=b.clockWise);if("gauge"===a){for(var a=["pointer.color"],c=b,d=0;d<a.length&&(c=c&&c[a[d]],null!=c);d++);a=c;if(null!=a){for(var c=["itemStyle.normal.color"],d=b,f,h=0;h<c.length-1;h++)f=c[h],null==d[f]&&(d[f]={}),d=d[f];null==d[c[h]]&&(d[c[h]]=a)}}for(a=0;a<e.length;a++)if(e[a]===b.type){m(b);break}}});a.dataRange&&(a.visualMap=a.dataRange);b(f,function(c){if(c=a[c])p.isArray(c)||(c=[c]),b(c,function(b){m(b)})})}},function(q,n,a){function m(b){var a=b&&b.itemStyle;if(a)for(var c=0,d=g.length;c<d;c++){var f=g[c],h=a.normal,l=a.emphasis;h&&h[f]&&(b[f]=b[f]||{},b[f].normal?e.merge(b[f].normal,h[f]):b[f].normal=h[f],h[f]=null);l&&l[f]&&(b[f]=b[f]||{},b[f].emphasis?e.merge(b[f].emphasis,l[f]):b[f].emphasis=l[f],l[f]=null)}}function p(a,d){var g=c(a)&&a[d],e=c(g)&&g.textStyle;if(e)for(var f=0,h=b.TEXT_STYLE_OPTIONS.length;f<h;f++)d=b.TEXT_STYLE_OPTIONS[f],e.hasOwnProperty(d)&&(g[d]=e[d])}function h(b){c(b)&&(p(b,"normal"),p(b,"emphasis"))}function l(b){return e.isArray(b)?b:b?[b]:[]}function f(b){return(e.isArray(b)?b[0]:b)||{}}var e=a(4),b=a(5),d=e.each,c=e.isObject,g="areaStyle lineStyle nodeStyle linkStyle chordStyle label labelLine".split(" ");q.exports=function(b){d(l(b.series),function(b){if(c(b)&&c(b)){m(b);h(b.label);h(b.upperLabel);h(b.edgeLabel);var a=b.markPoint;m(a);h(a&&a.label);a=b.markLine;m(b.markLine);h(a&&a.label);a=b.markArea;h(a&&a.label);p(b,"axisLabel");p(b,"title");p(b,"detail");var d=b.data;if(d){for(a=0;a<d.length;a++)m(d[a]),h(d[a]&&d[a].label);if((a=b.markPoint)&&a.data)for(d=a.data,a=0;a<d.length;a++)m(d[a]),h(d[a]&&d[a].label);if((a=b.markLine)&&a.data)for(b=a.data,a=0;a<b.length;a++)e.isArray(b[a])?(m(b[a][0]),h(b[a][0]&&b[a][0].label),m(b[a][1]),h(b[a][1]&&b[a][1].label)):(m(b[a]),h(b[a]&&b[a].label))}}});d("xAxis yAxis radiusAxis angleAxis singleAxis parallelAxis radar".split(" "),function(a){d(l(b[a]),function(b){b&&(p(b,"axisLabel"),p(b.axisPointer,"label"))})});d(l(b.parallel),function(b){b=b&&b.parallelAxisDefault;p(b,"axisLabel");p(b&&b.axisPointer,"label")});d(l(b.calendar),function(b){p(b,"dayLabel");p(b,"monthLabel");p(b,"yearLabel")});d(l(b.radar),function(b){p(b,"name")});d(l(b.geo),function(b){c(b)&&h(b.label)});h(f(b.timeline).label);p(f(b.axisPointer),"label");p(f(b.tooltip).axisPointer,"label")}},function(q,n,a){var m=a(20),p=a(4),h=Math.PI;q.exports=function(a,f){f=f||{};p.defaults(f,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var e=new m.Rect({style:{fill:f.maskColor},zlevel:f.zlevel,z:1E4}),b=new m.Arc({shape:{startAngle:-h/2,endAngle:-h/2+.1,r:10},style:{stroke:f.color,lineCap:"round",lineWidth:5},zlevel:f.zlevel,z:10001}),d=new m.Rect({style:{fill:"none",text:f.text,textPosition:"right",textDistance:10,textFill:f.textColor},zlevel:f.zlevel,z:10001});b.animateShape(!0).when(1E3,{endAngle:3*h/2}).start("circularInOut");b.animateShape(!0).when(1E3,{startAngle:3*h/2}).delay(300).start("circularInOut");var c=new m.Group;c.add(b);c.add(d);c.add(e);c.resize=function(){var c=a.getWidth()/2,r=a.getHeight()/2;b.setShape({cx:c,cy:r});var k=b.shape.r;d.setShape({x:c-k,y:r-k,width:2*k,height:2*k});e.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})};c.resize();return c}},function(q,n,a){(function(m){function p(b,a){c.each(k.concat(a.__wrappedMethods||[]),function(c){a.hasOwnProperty(c)&&(b[c]=a[c])});b.__wrappedMethods=a.__wrappedMethods}function h(b){this._array=b||[]}function l(b){c.isArray(b)||(b=[b]);return b}function f(b,a){var d=b.dimensions,g=new t(c.map(d,b.getDimensionInfo,b),b.hostModel);p(g,b);for(var k=g._storage={},e=b._storage,r=0;r<d.length;r++){var f=d[r],h=e[f];0<=c.indexOf(a,f)?k[f]=new h.constructor(e[f].length):k[f]=e[f]}return g}m="undefined"===typeof window?m:window;var e={"float":"undefined"===typeof m.Float64Array?Array:m.Float64Array,"int":"undefined"===typeof m.Int32Array?Array:m.Int32Array,ordinal:Array,number:Array,time:Array},b=a(14),d=a(102),c=a(4),g=a(5),r=c.isObject,k=["stackedOn","hasItemOption","_nameList","_idList","_rawData"];h.prototype.pure=!1;h.prototype.count=function(){return this._array.length};h.prototype.getItem=function(b){return this._array[b]};var t=function(b,a){b=b||["x","y"];for(var c={},d=[],g=0;g<b.length;g++){var k,e={};"string"===typeof b[g]?(k=b[g],e={name:k,coordDim:k,coordDimIndex:0,stackable:!1,type:"number"}):(e=b[g],k=e.name,e.type=e.type||"number",e.coordDim||(e.coordDim=k,e.coordDimIndex=0));e.otherDims=e.otherDims||{};d.push(k);c[k]=e}this.dimensions=d;this._dimensionInfos=c;this.hostModel=a;this.indices=[];this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this.stackedOn=null;this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[]};m=t.prototype;m.type="list";m.hasItemOption=!0;m.getDimension=function(b){isNaN(b)||(b=this.dimensions[b]||b);return b};m.getDimensionInfo=function(b){return c.clone(this._dimensionInfos[this.getDimension(b)])};m.initData=function(b,a,d){b=b||[];var k=c.isArray(b);k&&(b=new h(b));if(!k&&("function"!=typeof b.getItem||"function"!=typeof b.count))throw Error("Inavlid data provider.");this._rawData=b;var k=this._storage={},r=this.indices=[],f=this.dimensions,t=this._dimensionInfos,l=b.count(),A=[],m={},p;a=a||[];for(var n=0;n<f.length;n++){var q=t[f[n]];0===q.otherDims.itemName&&(p=n);k[f[n]]=new e[q.type](l)}var J=this;d||(J.hasItemOption=!1);d=d||function(b,a,c,d){c=g.getDataItemValue(b);g.isDataItemOption(b)&&(J.hasItemOption=!0);return g.converDataValue(c instanceof Array?c[d]:c,t[a])};for(n=0;n<l;n++){for(var q=b.getItem(n),L=0;L<f.length;L++){var N=f[L];k[N][n]=d(q,N,n,L)}r.push(n)}for(n=0;n<l;n++)q=b.getItem(n),!a[n]&&q&&(null!=q.name?a[n]=q.name:null!=p&&(a[n]=k[f[p]][n])),d=a[n]||"",r=q&&q.id,!r&&d&&(m[d]=m[d]||0,r=d,0<m[d]&&(r+="__ec__"+m[d]),m[d]++),r&&(A[n]=r);this._nameList=a;this._idList=A};m.count=function(){return this.indices.length};m.get=function(b,a,c){var d=this._storage,g=this.indices[a];if(null==g||!d[b])return NaN;d=d[b][g];if(c&&(c=this._dimensionInfos[b])&&c.stackable)for(c=this.stackedOn;c;){g=c.get(b,a);if(0<=d&&0<g||0>=d&&0>g)d+=g;c=c.stackedOn}return d};m.getValues=function(b,a,d){var g=[];c.isArray(b)||(d=a,a=b,b=this.dimensions);for(var k=0,e=b.length;k<e;k++)g.push(this.get(b[k],a,d));return g};m.hasValue=function(b){for(var a=this.dimensions,c=this._dimensionInfos,d=0,g=a.length;d<g;d++)if("ordinal"!==c[a[d]].type&&isNaN(this.get(a[d],b)))return!1;return!0};m.getDataExtent=function(b,a,c){b=this.getDimension(b);var d=this._storage[b],g=this.getDimensionInfo(b);a=g&&g.stackable&&a;if(g=(this._extent||(this._extent={}))[b+!!a])return g;if(d){for(var g=Infinity,k=-Infinity,e=0,r=this.count();e<r;e++)if(d=this.get(b,e,a),!c||c(d,b,e))d<g&&(g=d),d>k&&(k=d);return this._extent[b+!!a]=[g,k]}return[Infinity,-Infinity]};m.getSum=function(b,a){var c=0;if(this._storage[b])for(var d=0,g=this.count();d<g;d++){var k=this.get(b,d,a);isNaN(k)||(c+=k)}return c};m.indexOf=function(b,a){var c=this._storage[b],d=this.indices;if(c)for(var g=0,k=d.length;g<k;g++)if(c[d[g]]===a)return g;return-1};m.indexOfName=function(b){for(var a=this.indices,c=this._nameList,d=0,g=a.length;d<g;d++)if(c[a[d]]===b)return d;return-1};m.indexOfRawIndex=function(b){var a=this.indices,c=a[b];if(null!=c&&c===b)return b;for(var c=0,d=a.length-1;c<=d;){var g=(c+d)/2|0;if(a[g]<b)c=g+1;else if(a[g]>b)d=g-1;else return g}return-1};m.indicesOfNearest=function(b,a,c,d){var g=[];if(!this._storage[b])return g;null==d&&(d=Infinity);for(var k=Number.MAX_VALUE,e=-1,r=0,f=this.count();r<f;r++){var t=a-this.get(b,r,c),h=Math.abs(t);if(t<=d&&h<=k){if(h<k||0<=t&&0>e)k=h,e=t,g.length=0;g.push(r)}}return g};m.getRawIndex=function(b){b=this.indices[b];return null==b?-1:b};m.getRawDataItem=function(b){return this._rawData.getItem(this.getRawIndex(b))};m.getName=function(b){return this._nameList[this.indices[b]]||""};m.getId=function(b){return this._idList[this.indices[b]]||this.getRawIndex(b)+""};m.each=function(b,a,d,g){"function"===typeof b&&(g=d,d=a,a=b,b=[]);b=c.map(l(b),this.getDimension,this);var k=[],e=b.length,r=this.indices;g=g||this;for(var f=0;f<r.length;f++)switch(e){case 0:a.call(g,f);break;case 1:a.call(g,this.get(b[0],f,d),f);break;case 2:a.call(g,this.get(b[0],f,d),this.get(b[1],f,d),f);break;default:for(var t=0;t<e;t++)k[t]=this.get(b[t],f,d);k[t]=f;a.apply(g,k)}};m.filterSelf=function(b,a,d,g){"function"===typeof b&&(g=d,d=a,a=b,b=[]);b=c.map(l(b),this.getDimension,this);var k=[],e=[],r=b.length,f=this.indices;g=g||this;for(var t=0;t<f.length;t++){var h;if(r)if(1===r)h=a.call(g,this.get(b[0],t,d),t);else{for(h=0;h<r;h++)e[h]=this.get(b[h],t,d);e[h]=t;h=a.apply(g,e)}else h=a.call(g,t);h&&k.push(f[t])}this.indices=k;this._extent={};return this};m.mapArray=function(b,a,c,d){"function"===typeof b&&(d=c,c=a,a=b,b=[]);var g=[];this.each(b,function(){g.push(a&&a.apply(this,arguments))},c,d);return g};m.map=function(b,a,d,g){b=c.map(l(b),this.getDimension,this);var k=f(this,b),e=k.indices=this.indices,r=k._storage,t=[];this.each(b,function(){var c=arguments[arguments.length-1],d=a&&a.apply(this,arguments);if(null!=d){"number"===typeof d&&(t[0]=d,d=t);for(var g=0;g<d.length;g++){var k=r[b[g]],f=e[c];k&&(k[f]=d[g])}}},d,g);return k};m.downSample=function(b,a,c,d){var g=f(this,[b]),k=this._storage,e=g._storage,r=this.indices,t=g.indices=[],h=[],l=[];a=Math.floor(1/a);for(var A=e[b],m=this.count(),p=0;p<k[b].length;p++)e[b][p]=k[b][p];for(p=0;p<m;p+=a){a>m-p&&(a=m-p,h.length=a);for(k=0;k<a;k++)b=r[p+k],h[k]=A[b],l[k]=b;k=c(h);b=l[d(h,k)||0];A[b]=k;t.push(b)}return g};m.getItemModel=function(a){var c=this.hostModel;a=this.indices[a];return new b(this._rawData.getItem(a),c,c&&c.ecModel)};m.diff=function(b){var a=this._idList,c=b&&b._idList,g;return new d(b?b.indices:[],this.indices,function(b){return null!=(g=c[b])?g:"e\x00\x00"+b},function(b){return null!=(g=a[b])?g:"e\x00\x00"+b})};m.getVisual=function(b){var a=this._visual;return a&&a[b]};m.setVisual=function(b,a){if(r(b))for(var c in b)b.hasOwnProperty(c)&&this.setVisual(c,b[c]);else this._visual=this._visual||{},this._visual[b]=a};m.setLayout=function(b,a){if(r(b))for(var c in b)b.hasOwnProperty(c)&&this.setLayout(c,b[c]);else this._layout[b]=a};m.getLayout=function(b){return this._layout[b]};m.getItemLayout=function(b){return this._itemLayouts[b]};m.setItemLayout=function(b,a,d){this._itemLayouts[b]=d?c.extend(this._itemLayouts[b]||{},a):a};m.clearItemLayouts=function(){this._itemLayouts.length=0};m.getItemVisual=function(b,a,c){b=(b=this._itemVisuals[b])&&b[a];return null!=b||c?b:this.getVisual(a)};m.setItemVisual=function(b,a,c){var d=this._itemVisuals[b]||{};this._itemVisuals[b]=d;if(r(a))for(var g in a)a.hasOwnProperty(g)&&(d[g]=a[g]);else d[a]=c};m.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};var A=function(b){b.seriesIndex=this.seriesIndex;b.dataIndex=this.dataIndex;b.dataType=this.dataType};m.setItemGraphicEl=function(b,a){var c=this.hostModel;a&&(a.dataIndex=b,a.dataType=this.dataType,a.seriesIndex=c&&c.seriesIndex,"group"===a.type&&a.traverse(A,a));this._graphicEls[b]=a};m.getItemGraphicEl=function(b){return this._graphicEls[b]};m.eachItemGraphicEl=function(b,a){c.each(this._graphicEls,function(c,d){c&&b&&b.call(a,c,d)})};m.cloneShallow=function(){var b=c.map(this.dimensions,this.getDimensionInfo,this),b=new t(b,this.hostModel);b._storage=this._storage;p(b,this);b.indices=this.indices.slice();this._extent&&(b._extent=c.extend({},this._extent));return b};m.wrapMethod=function(b,a){var d=this[b];"function"===typeof d&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(b),this[b]=function(){var b=d.apply(this,arguments);return a.apply(this,[b].concat(c.slice(arguments)))})};m.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];m.CHANGABLE_METHODS=["filterSelf"];q.exports=t}).call(n,function(){return this}())},function(q,n){function a(a){return a}function m(h,l,f,e,b){this._old=h;this._new=l;this._oldKeyGetter=f||a;this._newKeyGetter=e||a;this.context=b}function p(a,l,f,e,b){for(var d=0;d<a.length;d++){var c="_ec_"+b[e](a[d],d),g=l[c];null==g?(f.push(c),l[c]=d):(g.length||(l[c]=g=[g]),g.push(d))}}m.prototype={constructor:m,add:function(a){this._add=a;return this},update:function(a){this._update=a;return this},remove:function(a){this._remove=a;return this},execute:function(){var a=this._old,l=this._new,f={},e=[],b=[];p(a,{},e,"_oldKeyGetter",this);p(l,f,b,"_newKeyGetter",this);for(l=0;l<a.length;l++){var d=e[l],c=f[d];if(null!=c){var g=c.length;g?(1===g&&(f[d]=null),c=c.unshift()):f[d]=null;this._update&&this._update(c,l)}else this._remove&&this._remove(l)}for(l=0;l<b.length;l++)if(d=b[l],f.hasOwnProperty(d)&&(c=f[d],null!=c))if(c.length)for(a=0,g=c.length;a<g;a++)this._add&&this._add(c[a]);else this._add&&this._add(c)}};q.exports=m},function(q,n,a){function m(b,a){var c=(b[1]-b[0])/a/2;b[0]+=c;b[1]-=c}var p=a(7),h=p.linearMap,l=a(4),f=a(104),e=[0,1];n=function(b,a,c){this.dim=b;this.scale=a;this._extent=c||[0,0];this.onBand=this.inverse=!1};n.prototype={constructor:n,contain:function(b){var a=this._extent,c=Math.max(a[0],a[1]);return b>=Math.min(a[0],a[1])&&b<=c},containData:function(b){return this.contain(this.dataToCoord(b))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(b){return p.getPixelPrecision(b||this.scale.getExtent(),this._extent)},setExtent:function(b,a){var c=this._extent;c[0]=b;c[1]=a},dataToCoord:function(b,a){var c=this._extent,g=this.scale;b=g.normalize(b);this.onBand&&"ordinal"===g.type&&(c=c.slice(),m(c,g.count()));return h(b,e,c,a)},coordToData:function(b,a){var c=this._extent,g=this.scale;this.onBand&&"ordinal"===g.type&&(c=c.slice(),m(c,g.count()));c=h(b,c,e,a);return this.scale.scale(c)},pointToData:function(b,a){},getTicksCoords:function(b){if(this.onBand&&!b){b=this.getBands();for(var a=[],c=0;c<b.length;c++)a.push(b[c][0]);b[c-1]&&a.push(b[c-1][1]);return a}return l.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return l.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var b=this.getExtent(),a=[],c=this.scale.count(),g=b[0],b=b[1]-g,e=0;e<c;e++)a.push([b*e/c+g,b*(e+1)/c+g]);return a},getBandWidth:function(){var b=this._extent,a=this.scale.getExtent(),a=a[1]-a[0]+(this.onBand?1:0);0===a&&(a=1);return Math.abs(Math.abs(b[1]-b[0]))/a},getLabelInterval:function(){var b=this._labelInterval;if(!b){var a=this.model,c=a.getModel("axisLabel"),g=c.get("interval");"category"!==this.type||"auto"!==g?b="auto"===g?0:g:this.isHorizontal&&(b=f.getAxisLabelInterval(l.map(this.scale.getTicks(),this.dataToCoord,this),a.getFormattedLabels(),c.getFont(),this.isHorizontal()));this._labelInterval=b}return b}};q.exports=n},function(q,n,a){var m=a(105),p=a(107);a(109);a(110);var h=a(106),l=a(7),f=a(4),e=a(8),b={getScaleExtent:function(b,a){var g=b.type,e=a.getMin(),k=a.getMax(),t=null!=e,h=null!=k,m=b.getExtent(),w,u,v;"ordinal"===g?w=(a.get("data")||[]).length:(u=a.get("boundaryGap"),f.isArray(u)||(u=[u||0,u||0]),"boolean"===typeof u[0]&&(console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),u=[0,0]),u[0]=l.parsePercent(u[0],1),u[1]=l.parsePercent(u[1],1),v=m[1]-m[0]||Math.abs(m[0]));null==e&&(e="ordinal"===g?w?0:NaN:m[0]-u[0]*v);null==k&&(k="ordinal"===g?w?w-1:NaN:m[1]+u[1]*v);"dataMin"===e&&(e=m[0]);"dataMax"===k&&(k=m[1]);null!=e&&isFinite(e)||(e=NaN);null!=k&&isFinite(k)||(k=NaN);b.setBlank(f.eqNaN(e)||f.eqNaN(k));a.getNeedCrossZero()&&(0<e&&0<k&&!t&&(e=0),0>e&&0>k&&!h&&(k=0));return[e,k]},niceScaleExtent:function(a,c){var g=b.getScaleExtent(a,c),e=null!=c.getMin(),k=null!=c.getMax(),f=c.get("splitNumber");"log"===a.type&&(a.base=c.get("logBase"));var h=a.type;a.setExtent(g[0],g[1]);a.niceExtent({splitNumber:f,fixMin:e,fixMax:k,minInterval:"interval"===h||"time"===h?c.get("minInterval"):null,maxInterval:"interval"===h||"time"===h?c.get("maxInterval"):null});g=c.get("interval");null!=g&&a.setInterval&&a.setInterval(g)},createScaleByModel:function(b,a){if(a=a||b.get("type"))switch(a){case "category":return new m(b.getCategories(),[Infinity,-Infinity]);case "value":return new p;default:return(h.getClass(a)||p).create(b)}},ifAxisCrossZero:function(b){var a=b.scale.getExtent();b=a[0];a=a[1];return!(0<b&&0<a||0>b&&0>a)},getAxisLabelInterval:function(b,a,g,r){var k,f=0,h=0,l=1;40<a.length&&(l=Math.floor(a.length/40));for(var m=0;m<b.length;m+=l){var u=b[m],v=e.getBoundingRect(a[m],g,"center","top");v[r?"x":"y"]+=u;v[r?"width":"height"]*=1.3;k?k.intersect(v)?(h++,f=Math.max(f,h)):(k.union(v),h=0):k=v.clone()}return 0===f&&1<l?l:(f+1)*l-1},getFormattedLabels:function(a,c){var g=a.scale,e=g.getTicksLabels(),g=g.getTicks();return"string"===typeof c?(c=function(b){return function(a){return b.replace("{value}",null!=a?a:"")}}(c),f.map(e,c)):"function"===typeof c?f.map(g,function(g,e){return c(b.getAxisRawValue(a,g),e)},this):e},getAxisRawValue:function(b,a){return"category"===b.type?b.scale.getLabel(a):a}};q.exports=b},function(q,n,a){var m=a(4);n=a(106);var p=n.prototype,h=n.extend({type:"ordinal",init:function(a,f){this._data=a;this._extent=f||[0,a.length-1]},parse:function(a){return"string"===typeof a?m.indexOf(this._data,a):Math.round(a)},contain:function(a){a=this.parse(a);return p.contain.call(this,a)&&null!=this._data[a]},normalize:function(a){return p.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(p.scale.call(this,a))},getTicks:function(){for(var a=[],f=this._extent,e=f[0];e<=f[1];)a.push(e),e++;return a},getLabel:function(a){return this._data[a]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(a,f){this.unionExtent(a.getDataExtent(f,!1))},niceTicks:m.noop,niceExtent:m.noop});h.create=function(){return new h};q.exports=h},function(q,n,a){function m(a){this._setting=a||{};this._extent=[Infinity,-Infinity];this._interval=0;this.init&&this.init.apply(this,arguments)}n=a(15);a=m.prototype;a.parse=function(a){return a};a.getSetting=function(a){return this._setting[a]};a.contain=function(a){var h=this._extent;return a>=h[0]&&a<=h[1]};a.normalize=function(a){var h=this._extent;return h[1]===h[0]?.5:(a-h[0])/(h[1]-h[0])};a.scale=function(a){var h=this._extent;return a*(h[1]-h[0])+h[0]};a.unionExtent=function(a){var h=this._extent;a[0]<h[0]&&(h[0]=a[0]);a[1]>h[1]&&(h[1]=a[1])};a.unionExtentFromData=function(a,h){this.unionExtent(a.getDataExtent(h,!0))};a.getExtent=function(){return this._extent.slice()};a.setExtent=function(a,h){var l=this._extent;isNaN(a)||(l[0]=a);isNaN(h)||(l[1]=h)};a.getTicksLabels=function(){for(var a=[],h=this.getTicks(),l=0;l<h.length;l++)a.push(this.getLabel(h[l]));return a};a.isBlank=function(){return this._isBlank};a.setBlank=function(a){this._isBlank=a};n.enableClassExtend(m);n.enableClassManagement(m,{registerWhenExtend:!0});q.exports=m},function(q,n,a){var m=a(7),p=a(6);n=a(106);var h=a(108),l=m.round,f=n.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(a,b){var d=this._extent;isNaN(a)||(d[0]=parseFloat(a));isNaN(b)||(d[1]=parseFloat(b))},unionExtent:function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]);a[1]>b[1]&&(b[1]=a[1]);f.prototype.setExtent.call(this,b[0],b[1])},getInterval:function(){return this._interval},setInterval:function(a){this._interval=a;this._niceExtent=this._extent.slice();this._intervalPrecision=h.getIntervalPrecision(a)},getTicks:function(){return h.intervalScaleGetTicks(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){for(var a=[],b=this.getTicks(),d=0;d<b.length;d++)a.push(this.getLabel(b[d]));return a},getLabel:function(a,b){if(null==a)return"";var d=b&&b.precision;null==d?d=m.getPrecisionSafe(a)||0:"auto"===d&&(d=this._intervalPrecision);a=l(a,d,!0);return p.addCommas(a)},niceTicks:function(a,b,d){a=a||5;var c=this._extent,g=c[1]-c[0];isFinite(g)&&(0>g&&c.reverse(),a=h.intervalScaleNiceTicks(c,a,b,d),this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent)},niceExtent:function(a){var b=this._extent;if(b[0]===b[1])if(0!==b[0]){var d=b[0];a.fixMax||(b[1]+=d/2);b[0]-=d/2}else b[1]=1;isFinite(b[1]-b[0])||(b[0]=0,b[1]=1);this.niceTicks(a.splitNumber,a.minInterval,a.maxInterval);d=this._interval;a.fixMin||(b[0]=l(Math.floor(b[0]/d)*d));a.fixMax||(b[1]=l(Math.ceil(b[1]/d)*d))}});f.create=function(){return new f};q.exports=f},function(q,n,a){var m=a(7),p=m.round,h={intervalScaleNiceTicks:function(a,f,e,b){var d={};f=d.interval=m.nice((a[1]-a[0])/f,!0);null!=e&&f<e&&(f=d.interval=e);null!=b&&f>b&&(f=d.interval=b);e=d.intervalPrecision=h.getIntervalPrecision(f);e=d.niceTickExtent=[p(Math.ceil(a[0]/f)*f,e),p(Math.floor(a[1]/f)*f,e)];h.fixExtent(e,a);return d},getIntervalPrecision:function(a){return m.getPrecisionSafe(a)+2},fixExtent:function(a,f){!isFinite(a[0])&&(a[0]=f[0]);!isFinite(a[1])&&(a[1]=f[1]);a[0]=Math.max(Math.min(a[0],f[1]),f[0]);a[1]=Math.max(Math.min(a[1],f[1]),f[0]);a[0]>a[1]&&(a[0]=a[1])},intervalScaleGetTicks:function(a,f,e,b){var d=[];if(!a)return d;f[0]<e[0]&&d.push(f[0]);for(var c=e[0];c<=e[1];){d.push(c);c=p(c+a,b);if(c===d[d.length-1])break;if(1E4<d.length)return[]}f[1]>(d.length?d[d.length-1]:e[1])&&d.push(f[1]);return d}};q.exports=h},function(q,n,a){n=a(4);var m=a(7),p=a(6),h=a(108);a=a(107);var l=a.prototype,f=Math.ceil,e=Math.floor,b=a.extend({type:"time",getLabel:function(b){return p.formatTime(this._stepLvl[0],new Date(b),this.getSetting("useUTC"))},niceExtent:function(b){var a=this._extent;a[0]===a[1]&&(a[0]-=864E5,a[1]+=864E5);if(-Infinity===a[1]&&Infinity===a[0]){var d=new Date;a[1]=new Date(d.getFullYear(),d.getMonth(),d.getDate());a[0]=a[1]-864E5}this.niceTicks(b.splitNumber,b.minInterval,b.maxInterval);d=this._interval;b.fixMin||(a[0]=m.round(e(a[0]/d)*d));b.fixMax||(a[1]=m.round(f(a[1]/d)*d))},niceTicks:function(b,a,r){var k=this.getSetting("useUTC")?0:6E4*m.getTimezoneOffset();b=b||10;var t=this._extent,l=t[1]-t[0],x=l/b;null!=a&&x<a&&(x=a);null!=r&&x>r&&(x=r);a=d.length;r=0;for(var w=a;r<w;){var u=r+w>>>1;d[u][2]<x?r=u+1:w=u}x=d[Math.min(r,a-1)];a=x[2];"year"===x[0]&&(b=m.nice(l/a/b,!0),a*=b);k=[Math.round(f((t[0]-k)/a)*a+k),Math.round(e((t[1]-k)/a)*a+k)];h.fixExtent(k,t);this._stepLvl=x;this._interval=a;this._niceExtent=k},parse:function(b){return+m.parseDate(b)}});n.each(["contain","normalize"],function(a){b.prototype[a]=function(b){return l[a].call(this,this.parse(b))}});var d=[["hh:mm:ss",1,1E3],["hh:mm:ss",5,5E3],["hh:mm:ss",10,1E4],["hh:mm:ss",15,15E3],["hh:mm:ss",30,3E4],["hh:mm\nMM-dd",1,6E4],["hh:mm\nMM-dd",5,3E5],["hh:mm\nMM-dd",10,6E5],["hh:mm\nMM-dd",15,9E5],["hh:mm\nMM-dd",30,18E5],["hh:mm\nMM-dd",1,36E5],["hh:mm\nMM-dd",2,72E5],["hh:mm\nMM-dd",6,216E5],["hh:mm\nMM-dd",12,432E5],["MM-dd\nyyyy",1,864E5],["week",7,6048E5],["month",1,26784E5],["quarter",3,8208E6],["half-year",6,16416E6],["year",1,32832E6]];b.create=function(a){return new b({useUTC:a.ecModel.get("useUTC")})};q.exports=b},function(q,n,a){var m=a(4),p=a(106),h=a(7),l=a(107),f=p.prototype,e=l.prototype,b=h.getPrecisionSafe,d=h.round,c=Math.floor,g=Math.ceil,r=Math.pow,k=Math.log,t=p.extend({type:"log",base:10,$constructor:function(){p.apply(this,arguments);this._originalScale=new l},getTicks:function(){var a=this._originalScale,c=this._extent,g=a.getExtent();return m.map(e.getTicks.call(this),function(k){var e=h.round(r(this.base,k)),e=k===c[0]&&a.__fixMin?d(e,b(g[0])):e;return e=k===c[1]&&a.__fixMax?d(e,b(g[1])):e},this)},getLabel:e.getLabel,scale:function(b){b=f.scale.call(this,b);return r(this.base,b)},setExtent:function(b,a){var c=this.base;b=k(b)/k(c);a=k(a)/k(c);e.setExtent.call(this,b,a)},getExtent:function(){var a=this.base,c=f.getExtent.call(this);c[0]=r(a,c[0]);c[1]=r(a,c[1]);var a=this._originalScale,g=a.getExtent();a.__fixMin&&(c[0]=d(c[0],b(g[0])));a.__fixMax&&(c[1]=d(c[1],b(g[1])));return c},unionExtent:function(b){this._originalScale.unionExtent(b);var a=this.base;b[0]=k(b[0])/k(a);b[1]=k(b[1])/k(a);f.unionExtent.call(this,b)},unionExtentFromData:function(b,a){this.unionExtent(b.getDataExtent(a,!0,function(b){return 0<b}))},niceTicks:function(b){b=b||10;var a=this._extent,d=a[1]-a[0];if(!(Infinity===d||0>=d)){var k=h.quantity(d);for(.5>=b/d*k&&(k*=10);!isNaN(k)&&1>Math.abs(k)&&0<Math.abs(k);)k*=10;b=[h.round(g(a[0]/k)*k),h.round(c(a[1]/k)*k)];this._interval=k;this._niceExtent=b}},niceExtent:function(b){e.niceExtent.call(this,b);var a=this._originalScale;a.__fixMin=b.fixMin;a.__fixMax=b.fixMax}});m.each(["contain","normalize"],function(b){t.prototype[b]=function(a){a=k(a)/k(this.base);return f[b].call(this,a)}});t.create=function(){return new t};q.exports=t},function(q,n,a){var m=a(112);n=a(114);var p=a(104),h=a(115),l=a(14),f=a(4);q.exports={createList:function(a){var b=a.get("data");return m(b,a,a.ecModel)},completeDimensions:a(113),createSymbol:n.createSymbol,createScale:function(a,b){var d=b;b instanceof l||(d=new l(b),f.mixin(d,h));var c=p.createScaleByModel(d);c.setExtent(a[0],a[1]);p.niceScaleExtent(c,d);return c},mixinAxisModelCommonMethods:function(a){f.mixin(a,h)}}},function(q,n,a){function m(a){for(var c=0;c<a.length&&null==a[c];)c++;a=a[c];return null!=a&&!b.isArray(g(a))}function p(b){return"category"!==b&&"time"!==b}function h(b){return"category"===b?"ordinal":"time"===b?"time":"float"}function l(a,c){var d=[],g=a&&a.dimensions[a.categoryIndex],k;g&&(k=a.categoryAxesModels[g.name]);if(k&&(g=k.getCategories()))if(k=c.length,b.isArray(c[0])&&1<c[0].length)for(var d=[],e=0;e<k;e++)d[e]=g[c[e][a.categoryIndex||0]];else d=g.slice(0);return d}var f=a(101),e=a(113),b=a(4),d=a(5),c=a(79),g=d.getDataItemValue,r=d.converDataValue,k={cartesian2d:function(a,c,d,g){var k=b.map(["xAxis","yAxis"],function(b){return d.queryComponents({mainType:b,index:c.get(b+"Index"),id:c.get(b+"Id")})[0]}),r=k[0],k=k[1];if(!r)throw Error('xAxis "'+b.retrieve(c.get("xAxisIndex"),c.get("xAxisId"),0)+'" not found');if(!k)throw Error('yAxis "'+b.retrieve(c.get("xAxisIndex"),c.get("yAxisId"),0)+'" not found');var f=r.get("type"),l=k.get("type"),m=[{name:"x",type:h(f),stackable:p(f)},{name:"y",type:h(l),stackable:p(l)}],f="category"===f,l="category"===l,m=e(m,a,g);a={};f&&(a.x=r);l&&(a.y=k);return{dimensions:m,categoryIndex:f?0:l?1:-1,categoryAxesModels:a}},singleAxis:function(b,a,c,d){a=c.queryComponents({mainType:"singleAxis",index:a.get("singleAxisIndex"),id:a.get("singleAxisId")})[0];if(!a)throw Error("singleAxis should be specified.");var g=a.get("type");c="category"===g;g=[{name:"single",type:h(g),stackable:p(g)}];g=e(g,b,d);b={};c&&(b.single=a);return{dimensions:g,categoryIndex:c?0:-1,categoryAxesModels:b}},polar:function(b,a,c,d){c=c.queryComponents({mainType:"polar",index:a.get("polarIndex"),id:a.get("polarId")})[0];a=c.findAxisModel("angleAxis");c=c.findAxisModel("radiusAxis");if(!a)throw Error("angleAxis option not found");if(!c)throw Error("radiusAxis option not found");var g=c.get("type"),k=a.get("type"),r=[{name:"radius",type:h(g),stackable:p(g)},{name:"angle",type:h(k),stackable:p(k)}],k="category"===k,g="category"===g,r=e(r,b,d);b={};g&&(b.radius=c);k&&(b.angle=a);return{dimensions:r,categoryIndex:k?1:g?0:-1,categoryAxesModels:b}},geo:function(b,a,c,d){return{dimensions:e([{name:"lng"},{name:"lat"}],b,d)}}};q.exports=function(a,h,x){a=a||[];if(!b.isArray(a))throw Error("Invalid data.");var w=h.get("coordinateSystem"),u=k[w],w=c.get(w),v={encodeDef:h.get("encode"),dimsDef:h.get("dimensions")},p=u&&u(a,h,x,v),E=p&&p.dimensions;E||(E=w&&(w.getDimensionsInfo?w.getDimensionsInfo():w.dimensions.slice())||["x","y"],E=e(E,a,v));var z=p?p.categoryIndex:-1,n=new f(E,h);h=l(p,a);var q={};x=0<=z&&m(a)?function(b,a,c,k){d.isDataItemOption(b)&&(n.hasItemOption=!0);return k===z?c:r(g(b),E[k])}:function(a,c,k,e){k=g(a);e=r(k&&k[e],E[e]);d.isDataItemOption(a)&&(n.hasItemOption=!0);(a=p&&p.categoryAxesModels)&&a[c]&&"string"===typeof e&&(q[c]=q[c]||a[c].getCategories(),e=b.indexOf(q[c],e),0>e&&!isNaN(e)&&(e=+e));return e};n.hasItemOption=!1;n.initData(a,h,x);return n}},function(q,n,a){function m(a,r,k){function t(b,a,c){d[a]?b.otherDims[a]=c:(b.coordDim=a,b.coordDimIndex=c,v.set(a,!0))}function m(b,a,c){if(c||null!=a.get(b)){for(c=0;null!=a.get(b+c);)c++;b+=c}a.set(b,!0);return b}r=r||[];k=k||{};a=(a||[]).slice();var x=(k.dimsDef||[]).slice(),w=h.createHashMap(k.encodeDef),u=h.createHashMap(),v=h.createHashMap(),y=[],E=k.dimCount;if(null==E){var z=p(r[0]),E=Math.max(h.isArray(z)&&z.length||1,a.length,x.length);l(a,function(b){(b=b.dimsDef)&&(E=Math.max(E,b.length))})}for(var n=0;n<E;n++){var q=f(x[n])?{name:x[n]}:x[n]||{},F=q.name,z=y[n]={otherDims:{}};null!=F&&null==u.get(F)&&(z.name=z.tooltipName=F,u.set(F,n));null!=q.type&&(z.type=q.type)}w.each(function(a,c){a=w.set(c,b(a).slice());l(a,function(b,d){f(b)&&(b=u.get(b));null!=b&&b<E&&(a[d]=b,t(y[b],c,d))})});var D=0;l(a,function(a,c){var d,g,k;f(a)?(d=a,a={}):(d=a.name,a=h.clone(a),g=a.dimsDef,k=a.otherDims,a.name=a.coordDim=a.coordDimIndex=a.dimsDef=a.otherDims=null);var r=b(w.get(d));if(!r.length)for(var u=0;u<(g&&g.length||1);u++){for(;D<y.length&&null!=y[D].coordDim;)D++;D<y.length&&r.push(D++)}l(r,function(b,c){var r=y[b];t(e(r,a),d,c);null==r.name&&g&&(r.name=r.tooltipName=g[c]);k&&e(r.otherDims,k)})});a=k.extraPrefix||"value";for(x=0;x<E;x++)z=y[x]=y[x]||{},null==z.coordDim&&(z.coordDim=m(a,v,k.extraFromZero),z.coordDimIndex=0,z.isExtraCoord=!0),null==z.name&&(z.name=m(z.coordDim,u)),null==z.type&&c(r,x)&&(z.type="ordinal");return y}function p(b){return h.isArray(b)?b:h.isObject(b)?b.value:b}var h=a(4);n=a(5);var l=h.each,f=h.isString,e=h.defaults,b=n.normalizeToArray,d={tooltip:1,label:1,itemName:1},c=m.guessOrdinal=function(b,a){for(var c=0,d=b.length;c<d;c++){var e=p(b[c]);if(!h.isArray(e))break;e=e[a];if(null!=e&&isFinite(e)&&""!==e)break;else if(f(e)&&"-"!==e)return!0}return!1};q.exports=m},function(q,n,a){var m=a(20),p=a(9);n=m.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(b,a){var c=a.cx,d=a.cy,e=a.width/2,f=a.height/2;b.moveTo(c,d-f);b.lineTo(c+e,d+f);b.lineTo(c-e,d+f);b.closePath()}});a=m.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(b,a){var c=a.cx,d=a.cy,e=a.width/2,f=a.height/2;b.moveTo(c,d-f);b.lineTo(c+e,d);b.lineTo(c,d+f);b.lineTo(c-e,d);b.closePath()}});var h=m.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(b,a){var c=a.x,d=a.y,e=a.width/5*3,f=Math.max(e,a.height),h=e/2,e=h*h/(f-h),f=d-f+h+e,l=Math.asin(e/h),v=Math.cos(l)*h,m=Math.sin(l),p=Math.cos(l);b.arc(c,f,h,Math.PI-l,2*Math.PI+l);l=.6*h;h*=.7;b.bezierCurveTo(c+v-m*l,f+e+p*l,c,d-h,c,d);b.bezierCurveTo(c,d-h,c-v+m*l,f+e+p*l,c-v,f+e);b.closePath()}}),l=m.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(b,a){var c=a.height,d=a.x,e=a.y,f=a.width/3*2;b.moveTo(d,e);b.lineTo(d+f,e+c);b.lineTo(d,e+c/4*3);b.lineTo(d-f,e+c);b.lineTo(d,e);b.closePath()}});n={line:m.Line,rect:m.Rect,roundRect:m.Rect,square:m.Rect,circle:m.Circle,diamond:a,pin:h,arrow:l,triangle:n};var f={line:function(b,a,c,d,e){e.x1=b;e.y1=a+d/2;e.x2=b+c;e.y2=a+d/2},rect:function(b,a,c,d,e){e.x=b;e.y=a;e.width=c;e.height=d},roundRect:function(b,a,c,d,e){e.x=b;e.y=a;e.width=c;e.height=d;e.r=Math.min(c,d)/4},square:function(b,a,c,d,e){c=Math.min(c,d);e.x=b;e.y=a;e.width=c;e.height=c},circle:function(b,a,c,d,e){e.cx=b+c/2;e.cy=a+d/2;e.r=Math.min(c,d)/2},diamond:function(b,a,c,d,e){e.cx=b+c/2;e.cy=a+d/2;e.width=c;e.height=d},pin:function(b,a,c,d,e){e.x=b+c/2;e.y=a+d/2;e.width=c;e.height=d},arrow:function(b,a,c,d,e){e.x=b+c/2;e.y=a+d/2;e.width=c;e.height=d},triangle:function(b,a,c,d,e){e.cx=b+c/2;e.cy=a+d/2;e.width=c;e.height=d}},e={},b;for(b in n)n.hasOwnProperty(b)&&(e[b]=new n[b]);var d=m.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var b=this.style;"pin"===this.shape.symbolType&&"inside"===b.textPosition&&(b.textPosition=["50%","40%"],b.textAlign="center",b.textVerticalAlign="middle")},buildPath:function(b,a,c){var d=a.symbolType,h=e[d];"none"!==a.symbolType&&(h||(d="rect",h=e[d]),f[d](a.x,a.y,a.width,a.height,h.shape),h.buildPath(b,h.shape,c))}}),c=function(b){if("image"!==this.type){var a=this.style,c=this.shape;c&&"line"===c.symbolType?a.stroke=b:this.__isEmptyBrush?(a.stroke=b,a.fill="#fff"):(a.fill&&(a.fill=b),a.stroke&&(a.stroke=b));this.dirty(!1)}};q.exports={createSymbol:function(b,a,k,e,f,h){var l=0===b.indexOf("empty");l&&(b=b.substr(5,1).toLowerCase()+b.substr(6));b=0===b.indexOf("image://")?new m.Image({style:{image:b.slice(8),x:a,y:k,width:e,height:f}}):0===b.indexOf("path://")?m.makePath(b.slice(7),{},new p(a,k,e,f)):new d({shape:{symbolType:b,x:a,y:k,width:e,height:f}});b.__isEmptyBrush=l;b.setColor=c;b.setColor(h);return b}}},function(q,n,a){function m(a){return p.isObject(a)&&null!=a.value?a.value:a+""}var p=a(4),h=a(104);q.exports={getFormattedLabels:function(){return h.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&p.map(this.get("data"),m)},getMin:function(a){var f=this.option;a=a||null==f.rangeStart?f.min:f.rangeStart;this.axis&&null!=a&&"dataMin"!==a&&!p.eqNaN(a)&&(a=this.axis.scale.parse(a));return a},getMax:function(a){var f=this.option;a=a||null==f.rangeEnd?f.max:f.rangeEnd;this.axis&&null!=a&&"dataMax"!==a&&!p.eqNaN(a)&&(a=this.axis.scale.parse(a));return a},getNeedCrossZero:function(){var a=this.option;return null!=a.rangeStart||null!=a.rangeEnd?!1:!a.scale},getCoordSysModel:p.noop,setRange:function(a,f){this.option.rangeStart=a;this.option.rangeEnd=f},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}}},function(q,n,a){q=a(4);n=a(1);var m=n.PRIORITY;a(117);a(118);n.registerVisual(q.curry(a(124),"line","circle","line"));n.registerLayout(q.curry(a(125),"line"));n.registerProcessor(m.PROCESSOR.STATISTIC,q.curry(a(126),"line"));a(127)},function(q,n,a){var m=a(112);n=a(81);q.exports=n.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,h){var l=a.coordinateSystem;if("polar"!==l&&"cartesian2d"!==l)throw Error("Line not support coordinateSystem besides cartesian and polar");return m(a.data,this,h)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity}})},function(q,n,a){function m(b,a){if(b.length===a.length){for(var c=0;c<b.length;c++){var d=b[c],g=a[c];if(d[0]!==g[0]||d[1]!==g[1])return}return!0}}function p(b){return"number"===typeof b?b:b?.3:0}function h(b){var a=b.getGlobalExtent();if(b.onBand){b=b.getBandWidth()/2-1;var c=a[1]>a[0]?1:-1;a[0]+=c*b;a[1]-=c*b}return a}function l(b){return 0<=b?1:-1}function f(b,a){var c=b.getBaseAxis(),d=b.getOtherAxis(c),g=c.onZero?0:d.scale.getExtent()[0],k=d.dim,e="x"===k||"radius"===k?1:0;return a.mapArray([k],function(d,f){for(var r,t=a.stackedOn;t&&l(t.get(k,f))===l(d);){r=t;break}t=[];t[e]=a.get(c.dim,f);t[1-e]=r?r.get(k,f,!0):g;return b.dataToPoint(t)},!0)}function e(b,a,c){if("polar"===b.type){var d=b.getAngleAxis(),g=b.getRadiusAxis().getExtent(),k=d.getExtent(),e=Math.PI/180;b=new t.Sector({shape:{cx:b.cx,cy:b.cy,r0:g[0],r:g[1],startAngle:-k[0]*e,endAngle:-k[1]*e,clockwise:d.inverse}});a&&(b.shape.endAngle=-k[0]*e,t.initProps(b,{shape:{endAngle:-k[1]*e}},c));a=b}else{d=h(b.getAxis("x"));g=h(b.getAxis("y"));b=b.getBaseAxis().isHorizontal();var k=Math.min(d[0],d[1]),e=Math.min(g[0],g[1]),d=Math.max(d[0],d[1])-k,g=Math.max(g[0],g[1])-e,f=c.get("lineStyle.normal.width")||2,f=c.get("clipOverflow")?f/2:Math.max(d,g);b?(e-=f,g+=2*f):(k-=f,d+=2*f);k=new t.Rect({shape:{x:k,y:e,width:d,height:g}});a&&(k.shape[b?"width":"height"]=0,t.initProps(k,{shape:{width:d,height:g}},c));a=k}return a}function b(b,a,c){a=a.getBaseAxis();a="x"===a.dim||"radius"===a.dim?0:1;for(var d=[],g=0;g<b.length-1;g++){var k=b[g+1],e=b[g];d.push(e);var f=[];switch(c){case "end":f[a]=k[a];f[1-a]=e[1-a];d.push(f);break;case "middle":var r=[];f[a]=r[a]=(e[a]+k[a])/2;f[1-a]=e[1-a];r[1-a]=k[1-a];d.push(f);d.push(r);break;default:f[a]=e[a],f[1-a]=k[1-a],d.push(f)}}b[g]&&d.push(b[g]);return d}function d(b,a){var d=b.getVisual("visualMeta");if(d&&d.length&&b.count()){for(var g,k=d.length-1;0<=k;k--)if(2>d[k].dimension){g=d[k];break}if(g&&"cartesian2d"===a.type){var d=b.dimensions[g.dimension],e=a.getAxis(d),k=c.map(g.stops,function(b){return{coord:e.toGlobalCoord(e.dataToCoord(b.value)),color:b.color}}),f=k.length,r=g.outerColors.slice();f&&k[0].coord>k[f-1].coord&&(k.reverse(),r.reverse());var h=k[0].coord-10;g=k[f-1].coord+10;var l=g-h;if(.001>l)return"transparent";c.each(k,function(b){b.offset=(b.coord-h)/l});k.push({offset:f?k[f-1].offset:.5,color:r[1]||"transparent"});k.unshift({offset:f?k[0].offset:.5,color:r[0]||"transparent"});k=new t.LinearGradient(0,0,0,0,k,!0);k[d]=h;k[d+"2"]=g;return k}console.warn("Visual map on line style only support x or y dimension.")}}var c=a(4),g=a(119),r=a(120),k=a(122),t=a(20),A=a(5),x=a(123),w=a(83);q.exports=w.extend({type:"line",init:function(){var b=new t.Group,a=new g;this.group.add(a.group);this._symbolDraw=a;this._lineGroup=b},render:function(a,g,k){g=a.coordinateSystem;var r=this.group,t=a.getData(),h=a.getModel("lineStyle.normal"),l=a.getModel("areaStyle.normal"),w=t.mapArray(t.getItemLayout,!0),x="polar"===g.type,A=this._coordSys,n=this._symbolDraw,q=this._polyline,L=this._polygon,N=this._lineGroup,O=a.get("animation"),K=!l.isEmpty(),G=f(g,t),R=a.get("showSymbol"),P=R&&!x&&!a.get("showAllSymbol")&&this._getSymbolIgnoreFunc(t,g),Q=this._data;Q&&Q.eachItemGraphicEl(function(b,a){b.__temp&&(r.remove(b),Q.setItemGraphicEl(a,null))});R||n.remove();r.add(N);x=!x&&a.get("step");q&&A.type===g.type&&x===this._step?(K&&!L?L=this._newPolygon(w,G,g,O):L&&!K&&(N.remove(L),L=this._polygon=null),N.setClipPath(e(g,!1,a)),R&&n.updateData(t,P),t.eachItemGraphicEl(function(b){b.stopAnimation(!0)}),m(this._stackedOnPoints,G)&&m(this._points,w)||(O?this._updateAnimation(t,G,g,k,x):(x&&(w=b(w,g,x),G=b(G,g,x)),q.setShape({points:w}),L&&L.setShape({points:w,stackedOnPoints:G})))):(R&&n.updateData(t,P),x&&(w=b(w,g,x),G=b(G,g,x)),q=this._newPolyline(w,g,O),K&&(L=this._newPolygon(w,G,g,O)),N.setClipPath(e(g,!0,a)));k=d(t,g)||t.getVisual("color");q.useStyle(c.defaults(h.getLineStyle(),{fill:"none",stroke:k,lineJoin:"bevel"}));h=a.get("smooth");h=p(a.get("smooth"));q.setShape({smooth:h,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")});L&&(q=t.stackedOn,A=0,L.useStyle(c.defaults(l.getAreaStyle(),{fill:k,opacity:.7,lineJoin:"bevel"})),q&&(A=p(q.hostModel.get("smooth"))),L.setShape({smooth:h,stackedOnSmooth:A,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")}));this._data=t;this._coordSys=g;this._stackedOnPoints=G;this._points=w;this._step=x},dispose:function(){},highlight:function(b,a,c,d){var g=b.getData(),k=A.queryDataIndex(g,d);if(!(k instanceof Array)&&null!=k&&0<=k){a=g.getItemGraphicEl(k);if(!a){c=g.getItemLayout(k);if(!c)return;a=new r(g,k);a.position=c;a.setZ(b.get("zlevel"),b.get("z"));a.ignore=isNaN(c[0])||isNaN(c[1]);a.__temp=!0;g.setItemGraphicEl(k,a);a.stopSymbolAnimation(!0);this.group.add(a)}a.highlight()}else w.prototype.highlight.call(this,b,a,c,d)},downplay:function(b,a,c,d){var g=b.getData(),k=A.queryDataIndex(g,d);if(null!=k&&0<=k){if(b=g.getItemGraphicEl(k))b.__temp?(g.setItemGraphicEl(k,null),this.group.remove(b)):b.downplay()}else w.prototype.downplay.call(this,b,a,c,d)},_newPolyline:function(b){var a=this._polyline;a&&this._lineGroup.remove(a);a=new x.Polyline({shape:{points:b},silent:!0,z2:10});this._lineGroup.add(a);return this._polyline=a},_newPolygon:function(b,a){var c=this._polygon;c&&this._lineGroup.remove(c);c=new x.Polygon({shape:{points:b,stackedOnPoints:a},silent:!0});this._lineGroup.add(c);return this._polygon=c},_getSymbolIgnoreFunc:function(b,a){var d=a.getAxesByScale("ordinal")[0];if(d&&d.isLabelIgnored)return c.bind(d.isLabelIgnored,d)},_updateAnimation:function(a,c,d,g,e){var f=this._polyline;g=this._polygon;var r=a.hostModel;c=k(this._data,a,this._stackedOnPoints,c,this._coordSys,d);var h=c.current,l=c.stackedOnCurrent,m=c.next,w=c.stackedOnNext;e&&(h=b(c.current,d,e),l=b(c.stackedOnCurrent,d,e),m=b(c.next,d,e),w=b(c.stackedOnNext,d,e));f.shape.__points=c.current;f.shape.points=h;t.updateProps(f,{shape:{points:m}},r);g&&(g.setShape({points:h,stackedOnPoints:l}),t.updateProps(g,{shape:{points:m,stackedOnPoints:w}},r));var x=[];d=c.status;for(e=0;e<d.length;e++)"\x3d"===d[e].cmd&&(g=a.getItemGraphicEl(d[e].idx1))&&x.push({el:g,ptIdx:e});f.animators&&f.animators.length&&f.animators[0].during(function(){for(var b=0;b<x.length;b++)x[b].el.attr("position",f.shape.__points[x[b].ptIdx])})},remove:function(b){var a=this.group,c=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(!0);c&&c.eachItemGraphicEl(function(b,d){b.__temp&&(a.remove(b),c.setItemGraphicEl(d,null))});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(q,n,a){function m(a){this.group=new h.Group;this._symbolCtor=a||l}function p(a,e,b){var d=a.getItemLayout(e);return d&&!isNaN(d[0])&&!isNaN(d[1])&&!(b&&b(e))&&"none"!==a.getItemVisual(e,"symbol")}var h=a(20),l=a(120);n=m.prototype;n.updateData=function(a,e){var b=this.group,d=a.hostModel,c=this._data,g=this._symbolCtor,r={itemStyle:d.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:d.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:d.get("symbolRotate"),symbolOffset:d.get("symbolOffset"),hoverAnimation:d.get("hoverAnimation"),labelModel:d.getModel("label.normal"),hoverLabelModel:d.getModel("label.emphasis"),cursorStyle:d.get("cursor")};a.diff(c).add(function(c){var d=a.getItemLayout(c);if(p(a,c,e)){var h=new g(a,c,r);h.attr("position",d);a.setItemGraphicEl(c,h);b.add(h)}}).update(function(k,t){var l=c.getItemGraphicEl(t),m=a.getItemLayout(k);p(a,k,e)?(l?(l.updateData(a,k,r),h.updateProps(l,{position:m},d)):(l=new g(a,k),l.attr("position",m)),b.add(l),a.setItemGraphicEl(k,l)):b.remove(l)}).remove(function(a){var d=c.getItemGraphicEl(a);d&&d.fadeOut(function(){b.remove(d)})}).execute();this._data=a};n.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(e,b){var d=a.getItemLayout(b);e.attr("position",d)})};n.remove=function(a){var e=this.group,b=this._data;b&&(a?b.eachItemGraphicEl(function(b){b.fadeOut(function(){e.remove(b)})}):e.removeAll())};q.exports=m},function(q,n,a){function m(b,a,c){f.Group.call(this);this.updateData(b,a,c)}function p(b,a){this.parent.drift(b,a)}var h=a(4),l=a(114),f=a(20),e=a(7),b=a(121);n=m.prototype;n._createSymbol=function(b,a,c,d){this.removeAll();var g=a.hostModel;a=a.getItemVisual(c,"color");a=l.createSymbol(b,-1,-1,2,2,a);a.attr({z2:100,culling:!0,scale:[0,0]});a.drift=p;f.initProps(a,{scale:[d[0]/2,d[1]/2]},g,c);this._symbolType=b;this.add(a)};n.stopSymbolAnimation=function(b){this.childAt(0).stopAnimation(b)};n.getSymbolPath=function(){return this.childAt(0)};n.getScale=function(){return this.childAt(0).scale};n.highlight=function(){this.childAt(0).trigger("emphasis")};n.downplay=function(){this.childAt(0).trigger("normal")};n.setZ=function(b,a){var c=this.childAt(0);c.zlevel=b;c.z=a};n.setDraggable=function(b){var a=this.childAt(0);a.draggable=b;a.cursor=b?"move":"pointer"};n.updateData=function(b,a,c){this.silent=!1;var d=b.getItemVisual(a,"symbol")||"circle",g=b.hostModel,e;e=b.getItemVisual(a,"symbolSize");e=e instanceof Array?e.slice():[+e,+e];d!==this._symbolType?this._createSymbol(d,b,a,e):(d=this.childAt(0),d.silent=!1,f.updateProps(d,{scale:[e[0]/2,e[1]/2]},g,a));this._updateCommon(b,a,e,c);this._seriesModel=g};var d=["itemStyle","normal"],c=["itemStyle","emphasis"],g=["label","normal"],r=["label","emphasis"];n._updateCommon=function(a,t,l,m){var w=this.childAt(0),u=a.hostModel,v=a.getItemVisual(t,"color");"image"!==w.type&&w.useStyle({strokeNoScale:!0});var p=(m=m||null)&&m.itemStyle,E=m&&m.hoverItemStyle,z=m&&m.symbolRotate,n=m&&m.symbolOffset,q=m&&m.labelModel,F=m&&m.hoverLabelModel,D=m&&m.hoverAnimation,C=m&&m.cursorStyle;!m||a.hasItemOption?(m=a.getItemModel(t),p=m.getModel(d).getItemStyle(["color"]),E=m.getModel(c).getItemStyle(),z=m.getShallow("symbolRotate"),n=m.getShallow("symbolOffset"),q=m.getModel(g),F=m.getModel(r),D=m.getShallow("hoverAnimation"),C=m.getShallow("cursor")):E=h.extend({},E);m=w.style;w.attr("rotation",(z||0)*Math.PI/180||0);n&&w.attr("position",[e.parsePercent(n[0],l[0]),e.parsePercent(n[1],l[1])]);C&&w.attr("cursor",C);w.setColor(v);w.setStyle(p);p=a.getItemVisual(t,"opacity");null!=p&&(m.opacity=p);p=b.findLabelValueDim(a);null!=p&&(f.setText(m,q,v),v=u.getFormattedLabel(t,"normal"),a=a.get(p,t),m.text=q.getShallow("show")?h.retrieve2(v,a):null,f.setText(E,F,!1),E.text=F.getShallow("show")?h.retrieve3(u.getFormattedLabel(t,"emphasis"),v,a):null);w.off("mouseover").off("mouseout").off("emphasis").off("normal");w.hoverStyle=E;f.setHoverStyle(w);var I=[l[0]/2,l[1]/2];D&&u.isAnimationEnabled()&&(t=function(){this.animateTo({scale:[Math.max(1.1*I[0],I[0]+3),Math.max(1.1*I[1],I[1]+I[1]/I[0]*3)]},400,"elasticOut")},l=function(){this.animateTo({scale:I},400,"elasticOut")},w.on("mouseover",t).on("mouseout",l).on("emphasis",t).on("normal",l))};n.fadeOut=function(b){var a=this.childAt(0);this.silent=a.silent=!0;a.style.text=null;f.updateProps(a,{scale:[0,0]},this._seriesModel,this.dataIndex,b)};h.inherits(m,f.Group);q.exports=m},function(q,n,a){a(20);var m=a(5);q.exports={findLabelValueDim:function(a){var h,l=m.otherDimToDataDim(a,"label");if(l.length)h=l[0];else for(var l=a.dimensions.slice(),f;l.length&&(h=l.pop(),f=a.getDimensionInfo(h).type,"ordinal"===f||"time"===f););return h}}},function(q,n){function a(a){return 0<=a?1:-1}function m(h,l,f){for(var e=h.getBaseAxis(),b=h.getOtherAxis(e),d=e.onZero?0:b.scale.getExtent()[0],b=b.dim,c="x"===b||"radius"===b?1:0,g,r=l.stackedOn,k=l.get(b,f);r&&a(r.get(b,f))===a(k);){g=r;break}r=[];r[c]=l.get(e.dim,f);r[1-c]=g?g.get(b,f,!0):d;return h.dataToPoint(r)}function p(a,l){var f=[];l.diff(a).add(function(a){f.push({cmd:"+",idx:a})}).update(function(a,b){f.push({cmd:"\x3d",idx:b,idx1:a})}).remove(function(a){f.push({cmd:"-",idx:a})}).execute();return f}q.exports=function(a,l,f,e,b,d){for(var c=p(a,l),g=[],r=[],k=[],t=[],A=[],x=[],w=[],u=d.dimensions,v=0;v<c.length;v++){var y=c[v],E=!0;switch(y.cmd){case "\x3d":var z=a.getItemLayout(y.idx),n=l.getItemLayout(y.idx1);if(isNaN(z[0])||isNaN(z[1]))z=n.slice();g.push(z);r.push(n);k.push(f[y.idx]);t.push(e[y.idx1]);w.push(l.getRawIndex(y.idx1));break;case "+":z=y.idx;g.push(b.dataToPoint([l.get(u[0],z,!0),l.get(u[1],z,!0)]));r.push(l.getItemLayout(z).slice());k.push(m(b,l,z));t.push(e[z]);w.push(l.getRawIndex(z));break;case "-":z=y.idx,n=a.getRawIndex(z),n!==z?(g.push(a.getItemLayout(z)),r.push(d.dataToPoint([a.get(u[0],z,!0),a.get(u[1],z,!0)])),k.push(f[z]),t.push(m(d,a,z)),w.push(n)):E=!1}E&&(A.push(y),x.push(x.length))}x.sort(function(b,a){return w[b]-w[a]});a=[];l=[];f=[];e=[];b=[];for(v=0;v<x.length;v++)z=x[v],a[v]=g[z],l[v]=r[z],f[v]=k[z],e[v]=t[z],b[v]=A[z];return{current:a,next:l,stackedOnCurrent:f,stackedOnNext:e,status:b}}},function(q,n,a){function m(b){return isNaN(b[0])||isNaN(b[1])}function p(a,t,h,p,w,u,v,y,E,z,n){for(var q=0,F=h,D=0;D<p;D++){var C=t[F];if(F>=w||0>F)break;if(m(C)){if(n){F+=u;continue}break}if(F===h)a[0<u?"moveTo":"lineTo"](C[0],C[1]),d(g,C);else if(0<E){var I=F+u,J=t[I];if(n)for(;J&&m(t[I]);)I+=u,J=t[I];var L=.5,q=t[q],J=t[I];!J||m(J)?d(r,C):(m(J)&&!n&&(J=C),l.sub(c,J,q),"x"===z||"y"===z?(L="x"===z?0:1,I=Math.abs(C[L]-q[L]),J=Math.abs(C[L]-J[L])):(I=l.dist(C,q),J=l.dist(C,J)),L=J/(J+I),b(r,C,c,-E*(1-L)));f(g,g,y);e(g,g,v);f(r,r,y);e(r,r,v);a.bezierCurveTo(g[0],g[1],r[0],r[1],C[0],C[1]);b(g,C,c,E*L)}else a.lineTo(C[0],C[1]);q=F;F+=u}return D}function h(b,a){var c=[Infinity,Infinity],d=[-Infinity,-Infinity];if(a)for(var g=0;g<b.length;g++){var e=b[g];e[0]<c[0]&&(c[0]=e[0]);e[1]<c[1]&&(c[1]=e[1]);e[0]>d[0]&&(d[0]=e[0]);e[1]>d[1]&&(d[1]=e[1])}return{min:a?c:d,max:a?d:c}}n=a(22);var l=a(10);a=a(56);var f=l.min,e=l.max,b=l.scaleAndAdd,d=l.copy,c=[],g=[],r=[];q.exports={Polyline:n.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:a(n.prototype.brush),buildPath:function(b,a){var c=a.points,d=0,g=c.length,e=h(c,a.smoothConstraint);if(a.connectNulls){for(;0<g&&m(c[g-1]);g--);for(;d<g&&m(c[d]);d++);}for(;d<g;)d+=p(b,c,d,g,g,1,e.min,e.max,a.smooth,a.smoothMonotone,a.connectNulls)+1}}),Polygon:n.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:a(n.prototype.brush),buildPath:function(b,a){var c=a.points,d=a.stackedOnPoints,g=0,e=c.length,f=a.smoothMonotone,r=h(c,a.smoothConstraint),l=h(d,a.smoothConstraint);if(a.connectNulls){for(;0<e&&m(c[e-1]);e--);for(;g<e&&m(c[g]);g++);}for(;g<e;){var z=p(b,c,g,e,e,1,r.min,r.max,a.smooth,f,a.connectNulls);p(b,d,g+z-1,z,e,-1,l.min,l.max,a.stackedOnSmooth,f,a.connectNulls);g+=z+1;b.closePath()}}})}},function(q,n){q.exports=function(a,m,p,h,l){h.eachRawSeriesByType(a,function(a){var e=a.getData(),b=a.get("symbol")||m,d=a.get("symbolSize");e.setVisual({legendSymbol:p||b,symbol:b,symbolSize:d});h.isSeriesFiltered(a)||("function"===typeof d&&e.each(function(b){var g=a.getRawValue(b),r=a.getDataParams(b);e.setItemVisual(b,"symbolSize",d(g,r))}),e.each(function(b){var a=e.getItemModel(b),d=a.getShallow("symbol",!0),a=a.getShallow("symbolSize",!0);null!=d&&e.setItemVisual(b,"symbol",d);null!=a&&e.setItemVisual(b,"symbolSize",a)}))})}},function(q,n){q.exports=function(a,m){m.eachSeriesByType(a,function(a){var h=a.getData(),l=a.coordinateSystem;if(l){for(var f=[],e=l.dimensions,b=0;b<e.length;b++)f.push(a.coordDimToDataDim(l.dimensions[b])[0]);1===f.length?h.each(f[0],function(b,a){h.setItemLayout(a,isNaN(b)?[NaN,NaN]:l.dataToPoint(b))}):2===f.length&&h.each(f,function(b,a,g){h.setItemLayout(g,isNaN(b)||isNaN(a)?[NaN,NaN]:l.dataToPoint([b,a]))},!0)}})}},function(q,n){var a={average:function(a){for(var h=0,l=0,f=0;f<a.length;f++)isNaN(a[f])||(h+=a[f],l++);return 0===l?NaN:h/l},sum:function(a){for(var h=0,l=0;l<a.length;l++)h+=a[l]||0;return h},max:function(a){for(var h=-Infinity,l=0;l<a.length;l++)a[l]>h&&(h=a[l]);return h},min:function(a){for(var h=Infinity,l=0;l<a.length;l++)a[l]<h&&(h=a[l]);return h},nearest:function(a){return a[0]}},m=function(a,h){return Math.round(a.length/2)};q.exports=function(p,h,l){h.eachSeriesByType(p,function(f){var e=f.getData(),b=f.get("sampling"),d=f.coordinateSystem;if("cartesian2d"===d.type&&b){var c=d.getBaseAxis(),d=d.getOtherAxis(c),c=c.getExtent(),c=c[1]-c[0],c=Math.round(e.count()/c);if(1<c){var g;"string"===typeof b?g=a[b]:"function"===typeof b&&(g=b);g&&(e=e.downSample(d.dim,1/c,g,m),f.setData(e))}}},this)}},function(q,n,a){var m=a(20),p=a(4);q=a(1);a(128);a(136);q.extendComponentView({type:"grid",render:function(a,l){this.group.removeAll();a.get("show")&&this.group.add(new m.Rect({shape:a.coordinateSystem.getRect(),style:p.defaults({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}});q.registerPreprocessor(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})})},function(q,n,a){function m(b,a,c){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(b,a,c);this.model=b}function p(b,a,c){b=b[a];if(c.onZero)if(a=c.onZeroAxisIndex,null!=a){var d=b[a];d&&h(d)&&(c.onZero=!1)}else{for(var g in b)if(b.hasOwnProperty(g)&&(d=b[g])&&!h(d)){a=+g;break}null==a&&(c.onZero=!1);c.onZeroAxisIndex=a}}function h(b){return"category"===b.type||"time"===b.type||!t(b)}function l(b,a){var c=b.getExtent(),d=c[0]+c[1];b.toGlobalCoord="x"===b.dim?function(b){return b+a}:function(b){return d-b+a};b.toLocalCoord="x"===b.dim?function(b){return b-a}:function(b){return d-b+a}}function f(b,a){return c.map(x,function(a){var d=b.getReferringComponents(a)[0];if(!d)throw Error(a+' "'+c.retrieve(b.get(a+"Index"),b.get(a+"Id"),0)+'" not found');return d})}function e(b){return"cartesian2d"===b.get("coordinateSystem")}var b=a(74),d=a(104),c=a(4),g=a(129),r=a(131),k=c.each,t=d.ifAxisCrossZero,A=d.niceScaleExtent;a(132);n=m.prototype;n.type="grid";n.axisPointerEnabled=!0;n.getRect=function(){return this._rect};n.update=function(b,a){var c=this._axesMap;this._updateScale(b,this.model);k(c.x,function(b){A(b.scale,b.model)});k(c.y,function(b){A(b.scale,b.model)});k(c.x,function(b){p(c,"y",b)});k(c.y,function(b){p(c,"x",b)});this.resize(this.model,a)};n.resize=function(a,c,d){function g(){k(f,function(b){var a=b.isHorizontal(),c=a?[0,e.width]:[0,e.height],d=b.inverse?1:0;b.setExtent(c[d],c[1-d]);l(b,a?e.x:e.y)})}var e=b.getLayoutRect(a.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()});this._rect=e;var f=this._axesList;g();!d&&a.get("containLabel")&&(k(f,function(b){if(!b.model.get("axisLabel.inside")){var a,c=b.model;a=c.getFormattedLabels();var c=c.getModel("axisLabel"),d,g=1,k=a.length;40<k&&(g=Math.ceil(k/40));for(var f=0;f<k;f+=g)if(!b.isLabelIgnored(f)){var r=c.getTextRect(a[f]);d?d.union(r):d=r}if(a=d)d=b.isHorizontal()?"height":"width",c=b.model.get("axisLabel.margin"),e[d]-=a[d]+c,"top"===b.position?e.y+=a.height+c:"left"===b.position&&(e.x+=a.width+c)}}),g())};n.getAxis=function(b,a){var c=this._axesMap[b];if(null!=c){if(null==a)for(var d in c)if(c.hasOwnProperty(d))return c[d];return c[a]}};n.getAxes=function(){return this._axesList.slice()};n.getCartesian=function(b,a){if(null!=b&&null!=a)return this._coordsMap["x"+b+"y"+a];c.isObject(b)&&(a=b.yAxisIndex,b=b.xAxisIndex);for(var d=0,g=this._coordsList;d<g.length;d++)if(g[d].getAxis("x").index===b||g[d].getAxis("y").index===a)return g[d]};n.getCartesians=function(){return this._coordsList.slice()};n.convertToPixel=function(b,a,c){b=this._findConvertTarget(b,a);return b.cartesian?b.cartesian.dataToPoint(c):b.axis?b.axis.toGlobalCoord(b.axis.dataToCoord(c)):null};n.convertFromPixel=function(b,a,c){b=this._findConvertTarget(b,a);return b.cartesian?b.cartesian.pointToData(c):b.axis?b.axis.coordToData(b.axis.toLocalCoord(c)):null};n._findConvertTarget=function(b,a){var d=a.seriesModel,g=a.xAxisModel||d&&d.getReferringComponents("xAxis")[0],e=a.yAxisModel||d&&d.getReferringComponents("yAxis")[0],k=a.gridModel,f=this._coordsList,r,t;d?(r=d.coordinateSystem,0>c.indexOf(f,r)&&(r=null)):g&&e?r=this.getCartesian(g.componentIndex,e.componentIndex):g?t=this.getAxis("x",g.componentIndex):e?t=this.getAxis("y",e.componentIndex):k&&k.coordinateSystem===this&&(r=this._coordsList[0]);return{cartesian:r,axis:t}};n.containPoint=function(b){var a=this._coordsList[0];if(a)return a.containPoint(b)};n._initCartesian=function(b,a,c){function e(a){return function(c,g){if(c.getCoordSysModel()===b){var e=c.get("position");"x"===a?"top"!==e&&"bottom"!==e&&(e="bottom",f[e]&&(e="top"===e?"bottom":"top")):"left"!==e&&"right"!==e&&(e="left",f[e]&&(e="left"===e?"right":"left"));f[e]=!0;e=new r(a,d.createScaleByModel(c),[0,0],c.get("type"),e);e.onBand="category"===e.type&&c.get("boundaryGap");e.inverse=c.get("inverse");e.onZero=c.get("axisLine.onZero");e.onZeroAxisIndex=c.get("axisLine.onZeroAxisIndex");c.axis=e;e.model=c;e.grid=this;e.index=g;this._axesList.push(e);t[a][g]=e;h[a]++}}}var f={left:!1,right:!1,top:!1,bottom:!1},t={x:{},y:{}},h={x:0,y:0};a.eachComponent("xAxis",e("x"),this);a.eachComponent("yAxis",e("y"),this);h.x&&h.y?(this._axesMap=t,k(t.x,function(a,c){k(t.y,function(d,e){var k="x"+c+"y"+e,f=new g(k);f.grid=this;f.model=b;this._coordsMap[k]=f;this._coordsList.push(f);f.addAxis(a);f.addAxis(d)},this)},this)):(this._axesMap={},this._axesList=[])};n._updateScale=function(b,a){function d(b,a,c){k(c.coordDimToDataDim(a.dim),function(c){a.scale.unionExtentFromData(b,c)})}c.each(this._axesList,function(b){b.scale.setExtent(Infinity,-Infinity)});b.eachSeries(function(c){if(e(c)){var g=f(c,b),k=g[0],g=g[1],r;(r=k.getCoordSysModel()!==a)||(r=g.getCoordSysModel()!==a);r||(r=this.getCartesian(k.componentIndex,g.componentIndex),k=c.getData(),g=r.getAxis("x"),r=r.getAxis("y"),"list"===k.type&&(d(k,g,c),d(k,r,c)))}},this)};n.getTooltipAxes=function(b){var a=[],d=[];k(this.getCartesians(),function(g){var e=null!=b&&"auto"!==b?g.getAxis(b):g.getBaseAxis();g=g.getOtherAxis(e);0>c.indexOf(a,e)&&a.push(e);0>c.indexOf(d,g)&&d.push(g)});return{baseAxes:a,otherAxes:d}};var x=["xAxis","yAxis"];m.create=function(b,a){var d=[];b.eachComponent("grid",function(c,g){var e=new m(c,b,a);e.name="grid_"+g;e.resize(c,a,!0);c.coordinateSystem=e;d.push(e)});b.eachSeries(function(a){if(e(a)){var d=f(a,b),g=d[0],d=d[1],k=g.getCoordSysModel();if(!k)throw Error('Grid "'+c.retrieve(g.get("gridIndex"),g.get("gridId"),0)+'" not found');if(g.getCoordSysModel()!==d.getCoordSysModel())throw Error("xAxis and yAxis must use the same grid");a.coordinateSystem=k.coordinateSystem.getCartesian(g.componentIndex,d.componentIndex)}});return d};m.dimensions=m.prototype.dimensions=g.prototype.dimensions;a(79).register("cartesian2d",m);q.exports=m},function(q,n,a){function m(a){p.call(this,a)}n=a(4);var p=a(130);m.prototype={constructor:m,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var l=this.getAxis("x"),f=this.getAxis("y");return l.contain(l.toLocalCoord(a[0]))&&f.contain(f.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},dataToPoint:function(a,l){var f=this.getAxis("x"),e=this.getAxis("y");return[f.toGlobalCoord(f.dataToCoord(a[0],l)),e.toGlobalCoord(e.dataToCoord(a[1],l))]},pointToData:function(a,l){var f=this.getAxis("x"),e=this.getAxis("y");return[f.coordToData(f.toLocalCoord(a[0]),l),e.coordToData(e.toLocalCoord(a[1]),l)]},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")}};n.inherits(m,p);q.exports=m},function(q,n,a){function m(a){return this._axes[a]}var p=a(4);n=function(a){this._axes={};this._dimList=[];this.name=a||""};n.prototype={constructor:n,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return p.map(this._dimList,m,this)},getAxesByScale:function(a){a=a.toLowerCase();return p.filter(this.getAxes(),function(l){return l.scale.type===a})},addAxis:function(a){var l=a.dim;this._axes[l]=a;this._dimList.push(l)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(a,l){for(var f=this._dimList,e=a instanceof Array?[]:{},b=0;b<f.length;b++){var d=f[b];e[d]=this._axes[d][l](a[d])}return e}};q.exports=n},function(q,n,a){n=a(4);var m=a(103);a=function(a,h,l,f,e){m.call(this,a,h,l);this.type=f||"value";this.position=e||"bottom"};a.prototype={constructor:a,index:0,onZero:!1,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(a){var h=this.getExtent();h[0]=this.toGlobalCoord(h[0]);h[1]=this.toGlobalCoord(h[1]);a&&h[0]>h[1]&&h.reverse();return h},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(a){if("category"===this.type){var h=this.getLabelInterval();return"function"===typeof h&&!h(a,this.scale.getLabel(a))||a%(h+1)}},pointToData:function(a,h){return this.coordToData(this.toLocalCoord(a["x"===this.dim?0:1]),h)},toLocalCoord:null,toGlobalCoord:null};n.inherits(a,m);q.exports=a},function(q,n,a){a(133);n=a(72);q.exports=n.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(q,n,a){function m(a,e){return e.type||(e.data?"category":"value")}var p=a(72),h=a(4);n=a(134);var l=p.extend({type:"cartesian2dAxis",axis:null,init:function(){l.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){l.superApply(this,"mergeOption",arguments);this.resetRange()},restoreData:function(){l.superApply(this,"restoreData",arguments);this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});h.merge(l.prototype,a(115));a={offset:0};n("x",l,m,a);n("y",l,m,a);q.exports=l},function(q,n,a){var m=a(135),p=a(4),h=a(72),l=a(74),f=["value","category","time","log"];q.exports=function(a,b,d,c){p.each(f,function(g){b.extend({type:a+"Axis."+g,mergeDefaultAndTheme:function(b,c){var f=this.layoutMode,h=f?l.getLayoutParams(b):{},m=c.getTheme();p.merge(b,m.get(g+"Axis"));p.merge(b,this.getDefaultOption());b.type=d(a,b);f&&l.mergeLayoutParam(b,h,f)},defaultOption:p.mergeAll([{},m[g+"Axis"],c],!0)})});h.registerSubTypeDefaulter(a+"Axis",p.curry(d,a))}},function(q,n,a){a=a(4);var m={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};n=a.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},m);var m=a.merge({boundaryGap:[0,0],splitNumber:5},m),p=a.defaults({scale:!0,min:"dataMin",max:"dataMax"},m);a=a.defaults({scale:!0,logBase:10},m);q.exports={categoryAxis:n,valueAxis:m,timeAxis:p,logAxis:a}},function(q,n,a){a(133);a(137)},function(q,n,a){var m=a(4),p=a(20),h=a(138);q=a(139);var l=a(141),f=h.ifIgnoreOnTick,e=h.getInterval,b=["axisLine","axisLabel","axisTick","axisName"],d=["splitArea","splitLine"],c=q.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(a,e,k,f){this.group.removeAll();var A=this._axisGroup;this._axisGroup=new p.Group;this.group.add(this._axisGroup);if(a.get("show")){var x=a.getCoordSysModel(),w=l.layout(x,a),u=new h(a,w);m.each(b,u.add,u);this._axisGroup.add(u.getGroup());m.each(d,function(b){if(a.get(b+".show"))this["_"+b](a,x,w.labelInterval)},this);p.groupTransition(A,this._axisGroup,a);c.superCall(this,"render",a,e,k,f)}},_splitLine:function(b,a,c){var d=b.axis;if(!d.scale.isBlank()){var h=b.getModel("splitLine"),l=h.getModel("lineStyle");b=l.get("color");c=e(h,c);b=m.isArray(b)?b:[b];a=a.coordinateSystem.getRect();for(var h=d.isHorizontal(),w=0,u=d.getTicksCoords(),v=d.scale.getTicks(),y=[],n=[],l=l.getLineStyle(),z=0;z<u.length;z++)if(!f(d,z,c)){var q=d.toGlobalCoord(u[z]);h?(y[0]=q,y[1]=a.y,n[0]=q,n[1]=a.y+a.height):(y[0]=a.x,y[1]=q,n[0]=a.x+a.width,n[1]=q);q=w++%b.length;this._axisGroup.add(new p.Line(p.subPixelOptimizeLine({anid:"line_"+v[z],shape:{x1:y[0],y1:y[1],x2:n[0],y2:n[1]},style:m.defaults({stroke:b[q]},l),silent:!0})))}}},_splitArea:function(b,a,c){var d=b.axis;if(!d.scale.isBlank()){var h=b.getModel("splitArea"),l=h.getModel("areaStyle");b=l.get("color");a=a.coordinateSystem.getRect();var w=d.getTicksCoords(),u=d.scale.getTicks(),v=d.toGlobalCoord(w[0]),y=d.toGlobalCoord(w[0]),n=0;c=e(h,c);l=l.getAreaStyle();b=m.isArray(b)?b:[b];for(h=1;h<w.length;h++)if(!f(d,h,c)){var z=d.toGlobalCoord(w[h]),q;d.isHorizontal()?(y=a.y,q=z-v,z=a.height):(v=a.x,q=a.width,z-=y);var H=n++%b.length;this._axisGroup.add(new p.Rect({anid:"area_"+u[h],shape:{x:v,y:y,width:q,height:z},style:m.defaults({fill:b[H]},l),silent:!0}));v+=q;y+=z}}}});c.extend({type:"xAxis"});c.extend({type:"yAxis"})},function(q,n,a){function m(b){var a={componentType:b.mainType};a[b.mainType+"Index"]=b.componentIndex;return a}function p(b,a,c,d){b=g(c-b.rotation);d=d[0]>d[1];d="start"===a&&!d||"start"!==a&&d;r(b-x/2)?(a=d?"bottom":"top",d="center"):r(b-1.5*x)?(a=d?"top":"bottom",d="center"):(a="middle",d=b<1.5*x&&b>x/2?d?"left":"right":d?"right":"left");return{rotation:b,textAlign:d,textVerticalAlign:a}}function h(b){var a=b.get("tooltip");return b.get("silent")||!(b.get("triggerEvent")||a&&a.show)}function l(b,a){var c=b.get("axisLabel.showMinLabel"),d=b.get("axisLabel.showMaxLabel"),g=a[0],e=a[1],k=a[a.length-1],r=a[a.length-2];!1===c?g.ignore=!0:null!=b.getMin()&&f(g,e)&&(c?e.ignore=!0:g.ignore=!0);!1===d?k.ignore=!0:null!=b.getMax()&&f(r,k)&&(d?r.ignore=!0:k.ignore=!0)}function f(b,a,c){c=b&&b.getBoundingRect().clone();var d=a&&a.getBoundingRect().clone();if(c&&d){var g=k.identity([]);k.rotate(g,g,-b.rotation);c.applyTransform(k.mul([],g,b.getLocalTransform()));d.applyTransform(k.mul([],g,a.getLocalTransform()));return c.intersect(d)}}var e=a(4),b=a(6),d=a(20),c=a(14);n=a(7);var g=n.remRadian,r=n.isRadianAroundZero;n=a(10);var k=a(11),t=n.applyTransform,A=e.retrieve,x=Math.PI;a=function(b,a){this.opt=a;this.axisModel=b;e.defaults(a,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0});this.group=new d.Group;var c=new d.Group({position:a.position.slice(),rotation:a.rotation});c.updateTransform();this._transform=c.transform;this._dumbGroup=c};a.prototype={constructor:a,hasBuilder:function(b){return!!w[b]},add:function(b){w[b].call(this)},getGroup:function(){return this.group}};var w={axisLine:function(){var b=this.opt,a=this.axisModel;if(a.get("axisLine.show")){var c=this.axisModel.axis.getExtent(),g=this._transform,k=[c[0],0],c=[c[1],0];g&&(t(k,k,g),t(c,c,g));this.group.add(new d.Line(d.subPixelOptimizeLine({anid:"line",shape:{x1:k[0],y1:k[1],x2:c[0],y2:c[1]},style:e.extend({lineCap:"round"},a.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:b.strokeContainThreshold||5,silent:!0,z2:1})))}},axisTick:function(){var b=this.axisModel,a=b.axis;if(b.get("axisTick.show")&&!a.scale.isBlank())for(var c=b.getModel("axisTick"),g=this.opt,k=c.getModel("lineStyle"),f=c.get("length"),r=y(c,g.labelInterval),c=a.getTicksCoords(c.get("alignWithLabel")),h=a.scale.getTicks(),l=[],m=[],u=this._transform,w=0;w<c.length;w++)if(!v(a,w,r)){var p=c[w];l[0]=p;l[1]=0;m[0]=p;m[1]=g.tickDirection*f;u&&(t(l,l,u),t(m,m,u));this.group.add(new d.Line(d.subPixelOptimizeLine({anid:"tick_"+h[w],shape:{x1:l[0],y1:l[1],x2:m[0],y2:m[1]},style:e.defaults(k.getLineStyle(),{stroke:b.get("axisLine.lineStyle.color")}),z2:2,silent:!0})))}},axisLabel:function(){var b=this.opt,a=this.axisModel,g=a.axis;if(A(b.axisLabelShow,a.get("axisLabel.show"))&&!g.scale.isBlank()){var k=a.getModel("axisLabel"),f=k.get("margin"),r=g.scale.getTicks(),t=a.getFormattedLabels(),w=(A(b.labelRotate,k.get("rotate"))||0)*x/180,p=u(b.rotation,w,b.labelDirection),y=a.get("data"),n=[],q=h(a),K=a.get("triggerEvent");e.each(r,function(e,r){if(!v(g,r,b.labelInterval)){var h=k;y&&y[e]&&y[e].textStyle&&(h=new c(y[e].textStyle,k,a.ecModel));var l=h.getTextColor()||a.get("axisLine.lineStyle.color"),u=[g.dataToCoord(e),b.labelOffset+b.labelDirection*f],w=g.scale.getLabel(e),u=new d.Text({anid:"label_"+e,position:u,rotation:p.rotation,silent:q,z2:10});d.setTextStyle(u.style,h,{text:t[r],textAlign:h.getShallow("align",!0)||p.textAlign,textVerticalAlign:h.getShallow("verticalAlign",!0)||h.getShallow("baseline",!0)||p.textVerticalAlign,textFill:"function"===typeof l?l("category"===g.type?w:"value"===g.type?e+"":e,r):l});K&&(u.eventData=m(a),u.eventData.targetType="axisLabel",u.eventData.value=w);this._dumbGroup.add(u);u.updateTransform();n.push(u);this.group.add(u);u.decomposeTransform()}},this);l(a,n)}},axisName:function(){var a=this.opt,c=this.axisModel,g=A(a.axisName,c.get("name"));if(g){var k=c.get("nameLocation"),f=a.nameDirection,r=c.getModel("nameTextStyle"),t=c.get("nameGap")||0,l=this.axisModel.axis.getExtent(),v=l[0]>l[1]?-1:1,t=["start"===k?l[0]-v*t:"end"===k?l[1]+v*t:(l[0]+l[1])/2,"middle"===k?a.labelOffset+f*t:0],v=c.get("nameRotate");null!=v&&(v=v*x/180);var w;"middle"===k?k=u(a.rotation,null!=v?v:a.rotation,f):(k=p(a,k,v||0,l),w=a.axisNameAvailableWidth,null!=w&&(w=Math.abs(w/Math.sin(k.rotation)),!isFinite(w)&&(w=null)));f=r.getFont();l=c.get("nameTruncate",!0)||{};v=l.ellipsis;a=A(a.nameTruncateMaxWidth,l.maxWidth,w);a=null!=v&&null!=a?b.truncateText(g,a,f,v,{minChar:2,placeholder:l.placeholder}):g;w=c.get("tooltip",!0);l=c.mainType;v={componentType:l,name:g,$vars:["name"]};v[l+"Index"]=c.componentIndex;t=new d.Text({anid:"name",__fullText:g,__truncatedText:a,position:t,rotation:k.rotation,silent:h(c),z2:1,tooltip:w&&w.show?e.extend({content:g,formatter:function(){return g},formatterParams:v},w):null});d.setTextStyle(t.style,r,{text:a,textFont:f,textFill:r.getTextColor()||c.get("axisLine.lineStyle.color"),textAlign:k.textAlign,textVerticalAlign:k.textVerticalAlign});c.get("triggerEvent")&&(t.eventData=m(c),t.eventData.targetType="axisName",t.eventData.name=g);this._dumbGroup.add(t);t.updateTransform();this.group.add(t);t.decomposeTransform()}}},u=a.innerTextLayout=function(b,a,c){b=g(a-b);r(b)?(a=0<c?"top":"bottom",c="center"):r(b-x)?(a=0<c?"bottom":"top",c="center"):(a="middle",c=0<b&&b<x?0<c?"right":"left":0<c?"left":"right");return{rotation:b,textAlign:c,textVerticalAlign:a}},v=a.ifIgnoreOnTick=function(b,a,c){var d;b=b.scale;return"ordinal"===b.type&&("function"===typeof c?(d=b.getTicks()[a],!c(d,b.getLabel(d))):a%(c+1))},y=a.getInterval=function(b,a){var c=b.get("interval");if(null==c||"auto"==c)c=a;return c};q.exports=a},function(q,n,a){function m(a,e,b,d,c,g){if(b=h.getAxisPointerClass(a.axisPointerClass))(c=p.getAxisPointerModel(e))?(a._axisPointer||(a._axisPointer=new b)).render(e,c,d,g):((e=a._axisPointer)&&e.dispose(d,void 0),a._axisPointer=null)}var p=a(140),h=a(1).extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(a,e,b,d){this.axisPointerClass&&p.fixValue(a);h.superApply(this,"render",arguments);m(this,a,e,b,d,!0)},updateAxisPointer:function(a,e,b,d,c){m(this,a,e,b,d,!1)},remove:function(a,e){var b=this._axisPointer;b&&b.remove(e);h.superApply(this,"remove",arguments)},dispose:function(a,e){var b=this._axisPointer;b&&b.dispose(e,void 0);this._axisPointer=null;h.superApply(this,"dispose",arguments)}}),l=[];h.registerAxisPointerClass=function(a,e){if(l[a])throw Error("axisPointer "+a+" exists");l[a]=e};h.getAxisPointerClass=function(a){return a&&l[a]};q.exports=h},function(q,n,a){function m(a,c,e){var f=c.getComponent("tooltip"),h=c.getComponent("axisPointer"),m=h.get("link",!0)||[],u=[];b(e.getCoordinateSystems(),function(e){function t(b,d,f){var A=f.model.getModel("axisPointer",h),y=A.get("show");if(y&&("auto"!==y||b||A.get("handle.show"))){null==d&&(d=A.get("triggerTooltip"));var A=b?p(f,q,h,c,b,d):A,n=A.get("snap");b=g(f.model);y=d||n||"category"===f.type;d=a.axesInfo[b]={key:b,axis:f,coordSys:e,axisPointerModel:A,triggerTooltip:d,involveSeries:y,snap:n,useHandle:!!A.get("handle.show"),seriesModels:[]};z[b]=d;a.seriesInvolved|=y;a:{A=f.model;f=f.dim;for(y=0;y<m.length;y++)if(n=m[y]||{},l(n[f+"AxisId"],A.id)||l(n[f+"AxisIndex"],A.componentIndex)||l(n[f+"AxisName"],A.name)){f=y;break a}f=void 0}null!=f&&(A=u[f]||(u[f]={axesInfo:{}}),A.axesInfo[b]=d,A.mapper=m[f].mapper,d.linkGroup=A)}}if(e.axisPointerEnabled){var n=g(e.model),z=a.coordSysAxesInfo[n]={};a.coordSysMap[n]=e;var q=e.model.getModel("tooltip",f);b(e.getAxes(),d(t,!1,null));if(e.getTooltipAxes&&f&&q.get("show")){var n="axis"===q.get("trigger"),H="cross"===q.get("axisPointer.type"),F=e.getTooltipAxes(q.get("axisPointer.axis"));(n||H)&&b(F.baseAxes,d(t,H?"cross":!0,n));H&&b(F.otherAxes,d(t,"cross",!1))}}})}function p(a,c,d,g,h,l){var m=c.getModel("axisPointer"),v={};b("type snap lineStyle shadowStyle label animation animationDurationUpdate animationEasingUpdate z".split(" "),function(b){v[b]=f.clone(m.get(b))});v.snap="category"!==a.type&&!!l;"cross"===m.get("type")&&(v.type="line");c=v.label||(v.label={});null==c.show&&(c.show=!1);"cross"===h&&(c.show=!0,l||(h=v.lineStyle=m.get("crossStyle"))&&f.defaults(c,h.textStyle));return a.model.getModel("axisPointer",new e(v,d,g))}function h(a,c){c.eachSeries(function(c){var d=c.coordinateSystem,e=c.get("tooltip.trigger",!0),k=c.get("tooltip.show",!0);d&&"none"!==e&&!1!==e&&"item"!==e&&!1!==k&&!1!==c.get("axisPointer.show",!0)&&b(a.coordSysAxesInfo[g(d.model)],function(b){var a=b.axis;d.getAxis(a.dim)===a&&(b.seriesModels.push(c),null==b.seriesDataCount&&(b.seriesDataCount=0),b.seriesDataCount+=c.getData().count())})},this)}function l(b,a){return"all"===b||f.isArray(b)&&0<=f.indexOf(b,a)||b===a}var f=a(4),e=a(14),b=f.each,d=f.curry,c={collect:function(b,a){var c={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};m(c,b,a);c.seriesInvolved&&h(c,b);return c},fixValue:function(b){if(b=c.getAxisInfo(b)){var a=b.axisPointerModel,d=b.axis.scale,g=a.option,e=a.get("status"),f=a.get("value");null!=f&&(f=d.parse(f));a=!!a.get("handle.show");null==e&&(g.status=a?"show":"hide");d=d.getExtent().slice();d[0]>d[1]&&d.reverse();if(null==f||f>d[1])f=d[1];f<d[0]&&(f=d[0]);g.value=f;a&&(g.status=b.axis.scale.isBlank()?"hide":"show")}},getAxisInfo:function(b){var a=(b.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return a&&a.axesInfo[g(b)]},getAxisPointerModel:function(b){return(b=c.getAxisInfo(b))&&b.axisPointerModel}},g=c.makeKey=function(b){return b.type+"||"+b.id};q.exports=c},function(q,n,a){var m=a(4);q.exports={layout:function(a,h,l){l=l||{};var f=a.coordinateSystem;a=h.axis;var e={},b=a.position,d=a.onZero?"onZero":b,c=a.dim,g=f.getRect(),g=[g.x,g.x+g.width,g.y,g.y+g.height],r={left:0,right:1,top:0,bottom:1,onZero:2},k=h.get("offset")||0,k="x"===c?[g[2]-k,g[3]+k]:[g[0]-k,g[1]+k];a.onZero&&(f=f.getAxis("x"===c?"y":"x",a.onZeroAxisIndex),f=f.toGlobalCoord(f.dataToCoord(0)),k[r.onZero]=Math.max(Math.min(f,k[1]),k[0]));e.position=["y"===c?k[r[d]]:g[0],"x"===c?k[r[d]]:g[3]];e.rotation=Math.PI/2*("x"===c?0:1);e.labelDirection=e.tickDirection=e.nameDirection={top:-1,bottom:1,left:-1,right:1}[b];e.labelOffset=a.onZero?k[r[b]]-k[r.onZero]:0;h.get("axisTick.inside")&&(e.tickDirection=-e.tickDirection);m.retrieve(l.labelInside,h.get("axisLabel.inside"))&&(e.labelDirection=-e.labelDirection);h=h.get("axisLabel.rotate");e.labelRotate="top"===d?-h:h;e.labelInterval=a.getLabelInterval();e.z2=1;return e}}},function(q,n,a){q=a(4);a(128);a(143);a(145);n=a(148);var m=a(1);m.registerLayout(q.curry(n,"bar"));m.registerVisual(function(a){a.eachSeriesByType("bar",function(a){a.getData().setVisual("legendSymbol","roundRect")})});a(127)},function(q,n,a){q.exports=a(144).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"})},function(q,n,a){n=a(81);var m=a(112);q.exports=n.extend({type:"series.__base_bar__",getInitialData:function(a,h){return m(a.data,this,h)},getMarkerPosition:function(a){var h=this.coordinateSystem;if(h){a=h.dataToPoint(a,!0);var l=this.getData(),f=l.getLayout("offset"),l=l.getLayout("size"),h=h.getBaseAxis().isHorizontal()?0:1;a[h]+=f+l/2;return a}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{normal:{},emphasis:{}}}})},function(q,n,a){function m(b,a,c){c.style.text=null;f.updateProps(c,{shape:{width:0}},a,b,function(){c.parent&&c.parent.remove(c)})}function p(b,a,c){c.style.text=null;f.updateProps(c,{shape:{r:c.shape.r0}},a,b,function(){c.parent&&c.parent.remove(c)})}function h(b,a,c,d,h,m,w,u){var v=a.getItemVisual(c,"color"),p=a.getItemVisual(c,"opacity"),n=d.getModel("itemStyle.normal");a=d.getModel("itemStyle.emphasis").getBarItemStyle();u||b.setShape("r",n.get("barBorderRadius")||0);b.useStyle(l.defaults({fill:v,opacity:p},n.getBarItemStyle()));(p=d.getShallow("cursor"))&&b.attr("cursor",p);h=w?0<h.height?"bottom":"top":0<h.width?"left":"right";u||e.setLabel(b.style,a,d,v,m,c,h);f.setHoverStyle(b,a)}var l=a(4),f=a(20),e=a(146),b=["itemStyle","normal","barBorderWidth"];l.extend(a(14).prototype,a(147));n=a(1).extendChartView({type:"bar",render:function(b,a,c){var d=b.get("coordinateSystem");"cartesian2d"===d||"polar"===d?this._render(b,a,c):console.warn("Only cartesian2d and polar supported for bar.");return this.group},dispose:l.noop,_render:function(b,a,e){var t=this.group,l=b.getData(),x=this._data,w=b.coordinateSystem;a=w.getBaseAxis();var u;"cartesian2d"===w.type?u=a.isHorizontal():"polar"===w.type&&(u="angle"===a.dim);var v=b.isAnimationEnabled()?b:null;l.diff(x).add(function(a){if(l.hasValue(a)){var e=l.getItemModel(a),k=c[w.type](l,a,e),f=d[w.type](l,a,e,k,u,v);l.setItemGraphicEl(a,f);t.add(f);h(f,l,a,e,k,b,u,"polar"===w.type)}}).update(function(a,e){var k=x.getItemGraphicEl(e);if(l.hasValue(a)){var r=l.getItemModel(a),m=c[w.type](l,a,r);k?f.updateProps(k,{shape:m},v,a):k=d[w.type](l,a,r,m,u,v,!0);l.setItemGraphicEl(a,k);t.add(k);h(k,l,a,r,m,b,u,"polar"===w.type)}else t.remove(k)}).remove(function(b){var a=x.getItemGraphicEl(b);"cartesian2d"===w.type?a&&m(b,v,a):a&&p(b,v,a)}).execute();this._data=l},remove:function(b,a){var c=this.group,d=this._data;b.get("animation")?d&&d.eachItemGraphicEl(function(a){"sector"===a.type?p(a.dataIndex,b,a):m(a.dataIndex,b,a)}):c.removeAll()}});var d={cartesian2d:function(b,a,c,d,e,h,m){b=new f.Rect({shape:l.extend({},d)});h&&(e=e?"height":"width",c={},b.shape[e]=0,c[e]=d[e],f[m?"updateProps":"initProps"](b,{shape:c},h,a));return b},polar:function(b,a,c,d,e,h,m){b=new f.Sector({shape:l.extend({},d)});if(h){c=e?"r":"endAngle";var u={};b.shape[c]=e?0:d.startAngle;u[c]=d[c];f[m?"updateProps":"initProps"](b,{shape:u},h,a)}return b}},c={cartesian2d:function(a,c,d){a=a.getItemLayout(c);d=d.get(b)||0;d=Math.min(d,Math.abs(a.width),Math.abs(a.height));c=0<a.width?1:-1;var e=0<a.height?1:-1;return{x:a.x+c*d/2,y:a.y+e*d/2,width:a.width-c*d,height:a.height-e*d}},polar:function(b,a,c){b=b.getItemLayout(a);return{cx:b.cx,cy:b.cy,r0:b.r0,r:b.r,startAngle:b.startAngle,endAngle:b.endAngle}}};q.exports=n},function(q,n,a){var m=a(4),p=a(20);q.exports={setLabel:function(a,l,f,e,b,d,c){var g=f.getModel("label.normal");f=f.getModel("label.emphasis");if(g.get("show")){var r=m.retrieve2(b.getFormattedLabel(d,"normal"),b.getRawValue(d));p.setText(a,g,e);a.text=r;"outside"===a.textPosition&&(a.textPosition=c)}else a.text=null;f.get("show")?(a=b.getFormattedLabel(d,"emphasis"),p.setText(l,f,!1),l.text=a,"outside"===l.textPosition&&(l.textPosition=c)):l.text=null}}},function(q,n,a){var m=a(17)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);q.exports={getBarItemStyle:function(a){a=m.call(this,a);if(this.getBorderLineDash){var h=this.getBorderLineDash();h&&(a.lineDash=h)}return a}}},function(q,n,a){function m(b){return b.get("stack")||"__ec_stack_"+b.seriesIndex}function p(b,a){var c=f.map(b,function(b){var a=b.getData(),c=b.coordinateSystem.getBaseAxis(),d=c.getExtent(),a="category"===c.type?c.getBandWidth():Math.abs(d[1]-d[0])/a.count(),d=e(b.get("barWidth"),a),f=e(b.get("barMaxWidth"),a),h=b.get("barGap"),l=b.get("barCategoryGap");return{bandWidth:a,barWidth:d,barMaxWidth:f,barGap:h,barCategoryGap:l,axisKey:c.dim+c.index,stackId:m(b)}});return h(c,a)}function h(b,a){var c={};f.each(b,function(b,a){var d=b.axisKey,g=b.bandWidth,g=c[d]||{bandWidth:g,remainedWidth:g,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},e=g.stacks;c[d]=g;d=b.stackId;e[d]||g.autoWidthCount++;e[d]=e[d]||{width:0,maxWidth:0};var f=b.barWidth;f&&!e[d].width&&(e[d].width=f,f=Math.min(g.remainedWidth,f),g.remainedWidth-=f);(f=b.barMaxWidth)&&(e[d].maxWidth=f);e=b.barGap;null!=e&&(g.gap=e);e=b.barCategoryGap;null!=e&&(g.categoryGap=e)});var g={};f.each(c,function(b,a){g[a]={};var c=b.stacks,d=e(b.categoryGap,b.bandWidth),h=e(b.gap,1),l=b.remainedWidth,m=b.autoWidthCount,v=(l-d)/(m+(m-1)*h),v=Math.max(v,0);f.each(c,function(b,a){var c=b.maxWidth;c&&c<v&&(c=Math.min(c,l),b.width&&(c=Math.min(c,b.width)),l-=c,b.width=c,m--)});var v=(l-d)/(m+(m-1)*h),v=Math.max(v,0),p=0,n;f.each(c,function(b,a){b.width||(b.width=v);n=b;p+=b.width*(1+h)});n&&(p-=n.width*h);var z=-p/2;f.each(c,function(b,c){g[a][c]=g[a][c]||{offset:z,width:b.width};z+=b.width*(1+h)})});return g}function l(b,a,c){var g=p(f.filter(a.getSeriesByType(b),function(b){return!a.isSeriesFiltered(b)&&b.coordinateSystem&&"cartesian2d"===b.coordinateSystem.type})),e={},k={};a.eachSeriesByType(b,function(b){if("cartesian2d"===b.coordinateSystem.type){var a=b.getData(),c=b.coordinateSystem,d=c.getBaseAxis(),f=m(b),h=g[d.dim+d.index][f],l=h.offset,p=h.width,n=c.getOtherAxis(d),q=b.get("barMinHeight")||0,H=d.onZero?n.toGlobalCoord(n.dataToCoord(0)):n.getGlobalExtent()[0],d=[b.coordDimToDataDim("x")[0],b.coordDimToDataDim("y")[0]],F=a.mapArray(d,function(b,a){return c.dataToPoint([b,a])},!0);e[f]=e[f]||[];k[f]=k[f]||[];a.setLayout({offset:l,size:p});a.each(b.coordDimToDataDim(n.dim)[0],function(b,c){if(!isNaN(b)){e[f][c]||(e[f][c]={p:H,n:H},k[f][c]={p:H,n:H});var d=0<=b?"p":"n",g=F[c],t=e[f][c][d],h=k[f][c][d],m,v;n.isHorizontal()?(m=t,t=g[1]+l,v=g[0]-h,g=p,k[f][c][d]+=v,Math.abs(v)<q&&(v=(0>v?-1:1)*q),e[f][c][d]+=v):(m=g[0]+l,v=p,g=g[1]-h,k[f][c][d]+=g,Math.abs(g)<q&&(g=(0>=g?-1:1)*q),e[f][c][d]+=g);a.setItemLayout(c,{x:m,y:t,width:v,height:g})}},!0)}},this)}var f=a(4),e=a(7).parsePercent;l.getLayoutOnAxis=function(b,a){var c=[],g=b.axis;if("category"===g.type){for(var e=g.getBandWidth(),g=0;g<b.count;g++)c.push(f.defaults({bandWidth:e,axisKey:"axis0",stackId:"__ec_stack_"+g},b));c=h(c,a);e=[];for(g=0;g<b.count;g++){var k=c.axis0["__ec_stack_"+g];k.offsetCenter=k.offset+k.width/2;e.push(k)}return e}};q.exports=l},function(q,n,a){q=a(4);n=a(1);a(150);a(152);a(153)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);n.registerVisual(q.curry(a(154),"pie"));n.registerLayout(q.curry(a(155),"pie"));n.registerProcessor(q.curry(a(157),"pie"))},function(q,n,a){var m=a(101);n=a(4);var p=a(5),h=a(7),l=a(113),f=a(151),e=a(1).extendSeriesModel({type:"series.pie",init:function(b){e.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this.updateSelectedMap(b.data);this._defaultLabelLine(b)},mergeOption:function(b){e.superCall(this,"mergeOption",b);this.updateSelectedMap(this.option.data)},getInitialData:function(b,a){var c=l(["value"],b.data),c=new m(c,this);c.initData(b.data);return c},getDataParams:function(b){var a=this.getData(),c=e.superCall(this,"getDataParams",b),g=[];a.each("value",function(b){g.push(b)});c.percent=h.getPercentWithPrecision(g,b,a.hostModel.get("percentPrecision"));c.$vars.push("percent");return c},_defaultLabelLine:function(b){p.defaultEmphasis(b.labelLine,["show"]);var a=b.labelLine.normal,c=b.labelLine.emphasis;a.show=a.show&&b.label.normal.show;c.show=c.show&&b.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});n.mixin(e,f);q.exports=e},function(q,n,a){var m=a(4);q.exports={updateSelectedMap:function(a){this._targetList=a.slice();this._selectTargetMap=m.reduce(a||[],function(a,l){a.set(l.name,l);return a},m.createHashMap())},select:function(a,h){var l=null!=h?this._targetList[h]:this._selectTargetMap.get(a);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(a){a.selected=!1});l&&(l.selected=!0)},unSelect:function(a,h){var l=null!=h?this._targetList[h]:this._selectTargetMap.get(a);l&&(l.selected=!1)},toggleSelected:function(a,h){var l=null!=h?this._targetList[h]:this._selectTargetMap.get(a);if(null!=l)return this[l.selected?"unSelect":"select"](a,h),l.selected},isSelected:function(a,h){var l=null!=h?this._targetList[h]:this._selectTargetMap.get(a);return l&&l.selected}}},function(q,n,a){function m(a,b,d,c){var g=b.getData(),f=g.getName(this.dataIndex),k=b.get("selectedOffset");c.dispatchAction({type:"pieToggleSelect",from:a,name:f,seriesId:b.id});g.each(function(a){p(g.getItemGraphicEl(a),g.getItemLayout(a),b.isSelected(g.getName(a)),k,d)})}function p(a,b,d,c,g){b=(b.startAngle+b.endAngle)/2;d=d?c:0;d=[Math.cos(b)*d,Math.sin(b)*d];g?a.animate().when(200,{position:d}).start("bounceOut"):a.attr("position",d)}function h(a,b){function d(){f.ignore=f.hoverIgnore;k.ignore=k.hoverIgnore}function c(){f.ignore=f.normalIgnore;k.ignore=k.normalIgnore}l.Group.call(this);var g=new l.Sector({z2:2}),f=new l.Polyline,k=new l.Text;this.add(g);this.add(f);this.add(k);this.updateData(a,b,!0);this.on("emphasis",d).on("normal",c).on("mouseover",d).on("mouseout",c)}var l=a(20),f=a(4);n=h.prototype;n.updateData=function(a,b,d){function c(){r.stopAnimation(!0);r.animateTo({shape:{r:h.r+10}},300,"elasticOut")}function g(){r.stopAnimation(!0);r.animateTo({shape:{r:h.r}},300,"elasticOut")}var r=this.childAt(0),k=a.hostModel,t=a.getItemModel(b),h=a.getItemLayout(b),m=f.extend({},h);m.label=null;d?(r.setShape(m),"scale"===k.getShallow("animationType")?(r.shape.r=h.r0,l.initProps(r,{shape:{r:h.r}},k,b)):(r.shape.endAngle=h.startAngle,l.updateProps(r,{shape:{endAngle:h.endAngle}},k,b))):l.updateProps(r,{shape:m},k,b);d=t.getModel("itemStyle");m=a.getItemVisual(b,"color");r.useStyle(f.defaults({lineJoin:"bevel",fill:m},d.getModel("normal").getItemStyle()));r.hoverStyle=d.getModel("emphasis").getItemStyle();(d=t.getShallow("cursor"))&&r.attr("cursor",d);p(this,a.getItemLayout(b),t.get("selected"),k.get("selectedOffset"),k.get("animation"));r.off("mouseover").off("mouseout").off("emphasis").off("normal");if(t.get("hoverAnimation")&&k.isAnimationEnabled())r.on("mouseover",c).on("mouseout",g).on("emphasis",c).on("normal",g);this._updateLabel(a,b);l.setHoverStyle(this)};n._updateLabel=function(a,b){var d=this.childAt(1),c=this.childAt(2),g=a.hostModel,r=a.getItemModel(b),k=a.getItemLayout(b).label,t=a.getItemVisual(b,"color");l.updateProps(d,{shape:{points:k.linePoints||[[k.x,k.y],[k.x,k.y],[k.x,k.y]]}},g,b);l.updateProps(c,{style:{x:k.x,y:k.y}},g,b);c.attr({rotation:k.rotation,origin:[k.x,k.y],z2:10});var g=r.getModel("label.normal"),h=r.getModel("label.emphasis"),m=r.getModel("labelLine.normal"),r=r.getModel("labelLine.emphasis"),t=a.getItemVisual(b,"color");l.setTextStyle(c.style,g,{textVerticalAlign:k.verticalAlign,textAlign:k.textAlign,opacity:a.getItemVisual(b,"opacity"),text:f.retrieve(a.hostModel.getFormattedLabel(b,"normal"),a.getName(b))},{defaultTextColor:t,autoColor:t,checkInside:function(b,a){return k.inside}});c.ignore=c.normalIgnore=!g.get("show");c.hoverIgnore=!h.get("show");d.ignore=d.normalIgnore=!m.get("show");d.hoverIgnore=!r.get("show");d.setStyle({stroke:t,opacity:a.getItemVisual(b,"opacity")});d.setStyle(m.getModel("lineStyle").getLineStyle());c.hoverStyle=l.setTextStyle({},h,{text:a.hostModel.getFormattedLabel(b,"emphasis")},{forMerge:!0});d.hoverStyle=r.getModel("lineStyle").getLineStyle();(c=m.get("smooth"))&&!0===c&&(c=.4);d.setShape({smooth:c})};f.inherits(h,l.Group);a=a(83).extend({type:"pie",init:function(){this._sectorGroup=new l.Group},render:function(a,b,d,c){if(!c||c.from!==this.uid){var g=a.getData(),r=this._data,k=this.group;b=b.get("animation");var t=!r,l=a.get("animationType"),p=f.curry(m,this.uid,a,b,d),w=a.get("selectedMode");g.diff(r).add(function(b){var a=new h(g,b);t&&"scale"!==l&&a.eachChild(function(b){b.stopAnimation(!0)});w&&a.on("click",p);g.setItemGraphicEl(b,a);k.add(a)}).update(function(b,a){var c=r.getItemGraphicEl(a);c.updateData(g,b);c.off("click");w&&c.on("click",p);k.add(c);g.setItemGraphicEl(b,c)}).remove(function(b){b=r.getItemGraphicEl(b);k.remove(b)}).execute();b&&t&&0<g.count()&&"scale"!==l&&(b=g.getItemLayout(0),d=Math.max(d.getWidth(),d.getHeight())/2,c=f.bind(k.removeClipPath,k),k.setClipPath(this._createClipPath(b.cx,b.cy,d,b.startAngle,b.clockwise,c,a)));this._data=g}},dispose:function(){},_createClipPath:function(a,b,d,c,g,f,k){a=new l.Sector({shape:{cx:a,cy:b,r0:0,r:d,startAngle:c,endAngle:c,clockwise:g}});l.initProps(a,{shape:{endAngle:c+(g?1:-1)*Math.PI*2}},k,f);return a},containPoint:function(a,b){var d=b.getData().getItemLayout(0);if(d){var c=a[0]-d.cx,g=a[1]-d.cy,c=Math.sqrt(c*c+g*g);return c<=d.r&&c>=d.r0}}});q.exports=a},function(q,n,a){var m=a(1),p=a(4);q.exports=function(a,l){p.each(l,function(f){f.update="updateView";m.registerAction(f,function(e,b){var d={};b.eachComponent({mainType:"series",subType:a,query:e},function(b){if(b[f.method])b[f.method](e.name,e.dataIndex);var a=b.getData();a.each(function(e){e=a.getName(e);d[e]=b.isSelected(e)||!1})});return{name:e.name,selected:d}})})}},function(q,n){q.exports=function(a,m){var p={};m.eachRawSeriesByType(a,function(a){var l=a.getRawData(),f={};if(!m.isSeriesFiltered(a)){var e=a.getData();e.each(function(b){var a=e.getRawIndex(b);f[a]=b});l.each(function(b){var d=f[b],c=null!=d&&e.getItemVisual(d,"color",!0);c?l.setItemVisual(b,"color",c):(c=l.getItemModel(b).get("itemStyle.normal.color")||a.getColorFromPalette(l.getName(b),p),l.setItemVisual(b,"color",c),null!=d&&e.setItemVisual(d,"color",c))})}})}},function(q,n,a){var m=a(7),p=m.parsePercent,h=a(156),l=a(4),f=2*Math.PI,e=Math.PI/180;q.exports=function(b,a,c,g){a.eachSeriesByType(b,function(b){var a=b.get("center"),d=b.get("radius");l.isArray(d)||(d=[0,d]);l.isArray(a)||(a=[a,a]);var g=c.getWidth(),x=c.getHeight(),w=Math.min(g,x),u=p(a[0],g),v=p(a[1],x),n=p(d[0],w/2),E=p(d[1],w/2),z=b.getData(),q=-b.get("startAngle")*e,H=b.get("minAngle")*e,F=0;z.each("value",function(b){!isNaN(b)&&F++});var D=z.getSum("value"),C=Math.PI/(D||F)*2,I=b.get("clockwise"),J=b.get("roseType"),L=b.get("stillShowZeroSum"),N=z.getDataExtent("value");N[0]=0;var O=f,K=0,G=q,R=I?1:-1;z.each("value",function(b,a){var c;if(isNaN(b))z.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:I,cx:u,cy:v,r0:n,r:J?NaN:E});else{c="area"!==J?0===D&&L?C:b*C:f/F;c<H?(c=H,O-=H):K+=b;var d=G+R*c;z.setItemLayout(a,{angle:c,startAngle:G,endAngle:d,clockwise:I,cx:u,cy:v,r0:n,r:J?m.linearMap(b,N,[n,E]):E});G=d}},!0);if(O<f&&F)if(.001>=O){var P=f/F;z.each("value",function(b,a){if(!isNaN(b)){var c=z.getItemLayout(a);c.angle=P;c.startAngle=q+R*a*P;c.endAngle=q+R*(a+1)*P}})}else C=O/K,G=q,z.each("value",function(b,a){if(!isNaN(b)){var c=z.getItemLayout(a),d=c.angle===H?H:b*C;c.startAngle=G;c.endAngle=G+R*d;G+=R*d}});h(b,E,g,x)})}},function(q,n,a){function m(a,f,e,b,d,c,g){function r(b,c,d,g){for(g=b;g<c;g++)if(a[g].y+=d,g>b&&g+1<c&&a[g+1].y>a[g].y+a[g].height){k(g,d/2);return}k(c-1,d/2)}function k(b,c){for(var d=b;0<=d&&!(a[d].y-=c,0<d&&a[d].y>a[d-1].y+a[d-1].height);d--);}function t(b,a,c,d,g,e){for(var k=a?Number.MAX_VALUE:0,f=0,r=b.length;f<r;f++)if("center"!==b[f].position){var t=Math.abs(b[f].y-d),h=b[f].len,l=b[f].len2,t=t<g+h?Math.sqrt((g+h+l)*(g+h+l)-t*t):Math.abs(b[f].x-c);a&&t>=k&&(t=k-10);!a&&t<=k&&(t=k+10);b[f].x=c+t*e;k=t}}a.sort(function(b,a){return b.y-a.y});var h=0;c=a.length;for(var m=[],p=[],u=0;u<c;u++)h=a[u].y-h,0>h&&r(u,c,-h,d),h=a[u].y+a[u].height;0>g-h&&k(c-1,h-g);for(u=0;u<c;u++)a[u].y>=e?p.push(a[u]):m.push(a[u]);t(m,!1,f,e,b,d);t(p,!0,f,e,b,d)}function p(a,f,e,b,d,c){for(var g=[],r=[],k=0;k<a.length;k++)a[k].x<f?g.push(a[k]):r.push(a[k]);m(r,f,e,b,1,d,c);m(g,f,e,b,-1,d,c);for(k=0;k<a.length;k++)if(e=a[k].linePoints)b=e[1][0]-e[2][0],e[2][0]=a[k].x<f?a[k].x+3:a[k].x-3,e[1][1]=e[2][1]=a[k].y,e[1][0]=e[2][0]+b}var h=a(8);q.exports=function(a,f,e,b){var d=a.getData(),c=[],g,r,k=!1;d.each(function(b){var e=d.getItemLayout(b),m=d.getItemModel(b),p=m.getModel("label.normal"),u=p.get("position")||m.get("label.emphasis.position"),v=m.getModel("labelLine.normal"),m=v.get("length"),v=v.get("length2"),n=(e.startAngle+e.endAngle)/2,q=Math.cos(n),z=Math.sin(n),B,H,F,D;g=e.cx;r=e.cy;var C="inside"===u||"inner"===u;if("center"===u)B=e.cx,H=e.cy,D="center";else{D=(C?(e.r+e.r0)/2*q:e.r*q)+g;var I=(C?(e.r+e.r0)/2*z:e.r*z)+r;B=D+3*q;H=I+3*z;if(!C){F=D+q*(m+f-e.r);var z=I+z*(m+f-e.r),J=F+(0>q?-1:1)*v;B=J+(0>q?-5:5);H=z;F=[[D,I],[F,z],[J,z]]}D=C?"center":0<q?"left":"right"}I=p.getFont();p=p.get("rotate")?0>q?-n+Math.PI:-n:0;b=a.getFormattedLabel(b,"normal")||d.getName(b);b=h.getBoundingRect(b,I,D,"top");k=!!p;e.label={x:B,y:H,position:u,height:b.height,len:m,len2:v,linePoints:F,textAlign:D,verticalAlign:"middle",rotation:p,inside:C};C||c.push(e.label)});!k&&a.get("avoidLabelOverlap")&&p(c,g,r,f,e,b)}},function(q,n){q.exports=function(a,m){var p=m.findComponents({mainType:"legend"});p&&p.length&&m.eachSeriesByType(a,function(a){var l=a.getData();l.filterSelf(function(a){a=l.getName(a);for(var e=0;e<p.length;e++)if(!p[e].isSelected(a))return!1;return!0},this)},this)}},function(q,n,a){q=a(4);n=a(1);a(159);a(160);n.registerVisual(q.curry(a(124),"scatter","circle",null));n.registerLayout(q.curry(a(125),"scatter"));a(127)},function(q,n,a){var m=a(112);n=a(81);q.exports=n.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,h){return m(a.data,this,h)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2E3,itemStyle:{normal:{opacity:.8}}}})},function(q,n,a){var m=a(119),p=a(161);a(1).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new m;this._largeSymbolDraw=new p},render:function(a,l,f){l=a.getData();f=this._largeSymbolDraw;var e=this._normalSymbolDraw,b=this.group;this._symbolDraw=a=a.get("large")&&l.count()>a.get("largeThreshold")?f:e;a.updateData(l);b.add(a.group);b.remove(a===f?e.group:f.group)},updateLayout:function(a){this._symbolDraw.updateLayout(a)},remove:function(a,l){this._symbolDraw&&this._symbolDraw.remove(l,!0)},dispose:function(){}})},function(q,n,a){function m(){this.group=new p.Group;this._symbolEl=new l({})}var p=a(20),h=a(114),l=p.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(a,e){for(var b=e.points,d=e.sizes,c=this.symbolProxy,g=c.shape,r=0;r<b.length;r++){var k=b[r];if(!isNaN(k[0])&&!isNaN(k[1])){var t=d[r];4>t[0]?a.rect(k[0]-t[0]/2,k[1]-t[1]/2,t[0],t[1]):(g.x=k[0]-t[0]/2,g.y=k[1]-t[1]/2,g.width=t[0],g.height=t[1],c.buildPath(a,g,!0))}}},findDataIndex:function(a,e){for(var b=this.shape,d=b.points,b=b.sizes,c=d.length-1;0<=c;c--){var g=d[c],r=b[c],k=g[0]-r[0]/2,g=g[1]-r[1]/2;if(a>=k&&e>=g&&a<=k+r[0]&&e<=g+r[1])return c}return-1}});n=m.prototype;n.updateData=function(a){this.group.removeAll();var e=this._symbolEl,b=a.hostModel;e.setShape({points:a.mapArray(a.getItemLayout),sizes:a.mapArray(function(b){b=a.getItemVisual(b,"symbolSize");b instanceof Array||(b=[b,b]);return b})});e.symbolProxy=h.createSymbol(a.getVisual("symbol"),0,0,0,0);e.setColor=e.symbolProxy.setColor;e.useStyle(b.getModel("itemStyle.normal").getItemStyle(["color"]));var d=a.getVisual("color");d&&e.setColor(d);e.seriesIndex=b.seriesIndex;e.on("mousemove",function(b){e.dataIndex=null;b=e.findDataIndex(b.offsetX,b.offsetY);0<=b&&(e.dataIndex=b)});this.group.add(e)};n.updateLayout=function(a){a=a.getData();this._symbolEl.setShape({points:a.mapArray(a.getItemLayout)})};n.remove=function(){this.group.removeAll()};q.exports=m},function(q,n,a){q=a(4);n=a(1);a(163);a(168);a(169);n.registerVisual(q.curry(a(154),"radar"));n.registerVisual(q.curry(a(124),"radar","circle",null));n.registerLayout(a(170));n.registerProcessor(q.curry(a(157),"radar"));n.registerPreprocessor(a(171))},function(q,n,a){a(164);a(166);a(167)},function(q,n,a){function m(b,a,c){this._model=b;this.dimensions=[];this._indicatorAxes=p.map(b.getIndicatorModels(),function(b,a){var c="indicator_"+a,d=new h(c,new l);d.name=b.get("name");d.model=b;b.axis=d;this.dimensions.push(c);return d},this);this.resize(b,c)}var p=a(4),h=a(165),l=a(107),f=a(7),e=a(104);m.prototype.getIndicatorAxes=function(){return this._indicatorAxes};m.prototype.dataToPoint=function(b,a){return this.coordToPoint(this._indicatorAxes[a].dataToCoord(b),a)};m.prototype.coordToPoint=function(b,a){var c=this._indicatorAxes[a].angle;return[this.cx+b*Math.cos(c),this.cy-b*Math.sin(c)]};m.prototype.pointToData=function(b){var a=b[0]-this.cx,c=b[1]-this.cy;b=Math.sqrt(a*a+c*c);for(var a=Math.atan2(-(c/b),a/b),c=Infinity,g,e=-1,k=0;k<this._indicatorAxes.length;k++){var f=this._indicatorAxes[k],h=Math.abs(a-f.angle);h<c&&(g=f,e=k,c=h)}return[e,+(g&&g.coodToData(b))]};m.prototype.resize=function(b,a){var c=b.get("center"),g=a.getWidth(),e=a.getHeight(),k=Math.min(g,e)/2;this.cx=f.parsePercent(c[0],g);this.cy=f.parsePercent(c[1],e);this.startAngle=b.get("startAngle")*Math.PI/180;this.r=f.parsePercent(b.get("radius"),k);p.each(this._indicatorAxes,function(b,a){b.setExtent(0,this.r);var c=this.startAngle+a*Math.PI*2/this._indicatorAxes.length,c=Math.atan2(Math.sin(c),Math.cos(c));b.angle=c},this)};m.prototype.update=function(b,a){function c(b){var a=Math.pow(10,Math.floor(Math.log(b)/Math.LN10));b/=a;return(2===b?5:2*b)*a}var g=this._indicatorAxes,r=this._model;p.each(g,function(b){b.scale.setExtent(Infinity,-Infinity)});b.eachSeriesByType("radar",function(a,c){if("radar"===a.get("coordinateSystem")&&b.getComponent("radar",a.get("radarIndex"))===r){var d=a.getData();p.each(g,function(b){b.scale.unionExtentFromData(d,b.dim)})}},this);var k=r.get("splitNumber");p.each(g,function(b,a){var d=e.getScaleExtent(b.scale,b.model);e.niceScaleExtent(b.scale,b.model);var g=b.model,r=b.scale,h=g.getMin(),l=g.getMax(),g=r.getInterval();if(null!=h&&null!=l)r.setExtent(+h,+l),r.setInterval((l-h)/k);else if(null!=h){do l=h+g*k,r.setExtent(+h,l),r.setInterval(g),g=c(g);while(l<d[1]&&isFinite(l)&&isFinite(d[1]))}else if(null!=l){do h=l-g*k,r.setExtent(h,+l),r.setInterval(g),g=c(g);while(h>d[0]&&isFinite(h)&&isFinite(d[0]))}else r.getTicks().length-1>k&&(g=c(g)),d=Math.round((d[0]+d[1])/2/g)*g,h=Math.round(k/2),r.setExtent(f.round(d-h*g),f.round(d+(k-h)*g)),r.setInterval(g)})};m.dimensions=[];m.create=function(b,a){var c=[];b.eachComponent("radar",function(g){var e=new m(g,b,a);c.push(e);g.coordinateSystem=e});b.eachSeriesByType("radar",function(b){"radar"===b.get("coordinateSystem")&&(b.coordinateSystem=c[b.get("radarIndex")||0])});return c};a(79).register("radar",m);q.exports=m},function(q,n,a){function m(a,l,f){p.call(this,a,l,f);this.type="value";this.angle=0;this.name=""}n=a(4);var p=a(103);n.inherits(m,p);q.exports=m},function(q,n,a){n=a(135).valueAxis;var m=a(14),p=a(4),h=a(115);a=a(1).extendComponentModel({type:"radar",optionUpdated:function(){var a=this.get("boundaryGap"),f=this.get("splitNumber"),e=this.get("scale"),b=this.get("axisLine"),d=this.get("axisTick"),c=this.get("axisLabel"),g=this.get("name"),r=this.get("name.show"),k=this.get("name.formatter"),t=this.get("nameGap"),A=this.get("triggerEvent"),x=p.map(this.get("indicator")||[],function(w){null!=w.max&&0<w.max&&!w.min?w.min=0:null!=w.min&&0>w.min&&!w.max&&(w.max=0);var u=g;null!=w.color&&(u=p.defaults({color:w.color},g));w=p.merge(p.clone(w),{boundaryGap:a,splitNumber:f,scale:e,axisLine:b,axisTick:d,axisLabel:c,name:w.text,nameLocation:"end",nameGap:t,nameTextStyle:u,triggerEvent:A},!1);r||(w.name="");"string"===typeof k?(u=w.name,w.name=k.replace("{value}",null!=u?u:"")):"function"===typeof k&&(w.name=k(w.name,w));w=p.extend(new m(w,null,this.ecModel),h);w.mainType="radar";w.componentIndex=this.componentIndex;return w},this);this.getIndicatorModels=function(){return x}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:p.merge({lineStyle:{color:"#bbb"}},n.axisLine),axisLabel:p.defaults({show:!1},n.axisLabel),axisTick:p.defaults({show:!1},n.axisTick),splitLine:p.defaults({show:!0},n.splitLine),splitArea:p.defaults({show:!0},n.splitArea),indicator:[]}});q.exports=a},function(q,n,a){var m=a(138),p=a(4),h=a(20),l=["axisLine","axisLabel","axisTick","axisName"];q.exports=a(1).extendComponentView({type:"radar",render:function(a,e,b){this.group.removeAll();this._buildAxes(a);this._buildSplitLineAndArea(a)},_buildAxes:function(a){var e=a.coordinateSystem;a=e.getIndicatorAxes();a=p.map(a,function(b){return new m(b.model,{position:[e.cx,e.cy],rotation:b.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});p.each(a,function(b){p.each(l,b.add,b);this.group.add(b.getGroup())},this)},_buildSplitLineAndArea:function(a){function e(b,a,c){a=c%a.length;b[a]=b[a]||[];return a}var b=a.coordinateSystem,d=b.getIndicatorAxes();if(d.length){var c=a.get("shape"),g=a.getModel("splitLine"),r=a.getModel("splitArea");a=g.getModel("lineStyle");var k=r.getModel("areaStyle"),g=g.get("show"),r=r.get("show"),t=a.get("color"),l=k.get("color"),t=p.isArray(t)?t:[t],l=p.isArray(l)?l:[l],m=[],w=[];if("circle"===c)for(var d=d[0].getTicksCoords(),u=b.cx,v=b.cy,c=0;c<d.length;c++){if(g){var n=e(m,t,c);m[n].push(new h.Circle({shape:{cx:u,cy:v,r:d[c]}}))}r&&c<d.length-1&&(n=e(w,l,c),w[n].push(new h.Ring({shape:{cx:u,cy:v,r0:d[c],r:d[c+1]}})))}else for(var q,u=p.map(d,function(a,c){var d=a.getTicksCoords();q=null==q?d.length-1:Math.min(d.length-1,q);return p.map(d,function(a){return b.coordToPoint(a,c)})}),v=[],c=0;c<=q;c++){for(var z=[],n=0;n<d.length;n++)z.push(u[n][c]);z[0]?z.push(z[0].slice()):console.error("Can't draw value axis "+c);g&&(n=e(m,t,c),m[n].push(new h.Polyline({shape:{points:z}})));r&&v&&(n=e(w,l,c-1),w[n].push(new h.Polygon({shape:{points:z.concat(v)}})));v=z.slice().reverse()}var B=a.getLineStyle(),H=k.getAreaStyle();p.each(w,function(b,a){this.group.add(h.mergePath(b,{style:p.defaults({stroke:"none",fill:l[a%l.length]},H),silent:!0}))},this);p.each(m,function(b,a){this.group.add(h.mergePath(b,{style:p.defaults({fill:"none",stroke:t[a%t.length]},B),silent:!0}))},this)}}})},function(q,n,a){n=a(81);var m=a(101),p=a(113),h=a(4),l=a(6).encodeHTML,f=n.extend({type:"series.radar",dependencies:["radar"],init:function(a){f.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(a,b){var d=a.data||[],c=p([],d,{extraPrefix:"indicator_",extraFromZero:!0}),c=new m(c,this);c.initData(d);return c},formatTooltip:function(a){var b=this.getRawValue(a),d=this.coordinateSystem.getIndicatorAxes();a=this.getData().getName(a);return l(""===a?this.name:a)+"\x3cbr/\x3e"+h.map(d,function(a,d){return l(a.name+" : "+b[d])}).join("\x3cbr /\x3e")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});q.exports=f},function(q,n,a){var m=a(20),p=a(4),h=a(114);q.exports=a(1).extendChartView({type:"radar",render:function(a,f,e){function b(b,c,d,g,e,k){d.removeAll();for(var f=0;f<c.length-1;f++){var r;var n=g,q=e;r=n.getItemVisual(q,"symbol")||"circle";var H=n.getItemVisual(q,"color");"none"===r?r=void 0:(n=n.getItemVisual(q,"symbolSize"),p.isArray(n)||(n=[+n,+n]),r=h.createSymbol(r,-1,-1,2,2,H),r.attr({style:{strokeNoScale:!0},z2:100,scale:[n[0]/2,n[1]/2]}));r&&(r.__dimIdx=f,b[f]?(r.attr("position",b[f]),m[k?"initProps":"updateProps"](r,{position:c[f]},a,e)):r.attr("position",c[f]),d.add(r))}}function d(b){return p.map(b,function(b){return[c.cx,c.cy]})}var c=a.coordinateSystem,g=this.group,r=a.getData(),k=this._data;r.diff(k).add(function(c){var g=r.getItemLayout(c);if(g){var e=new m.Polygon,k=new m.Polyline,f={shape:{points:g}};e.shape.points=d(g);k.shape.points=d(g);m.initProps(e,f,a,c);m.initProps(k,f,a,c);var f=new m.Group,h=new m.Group;f.add(k);f.add(e);f.add(h);b(k.shape.points,g,h,r,c,!0);r.setItemGraphicEl(c,f)}}).update(function(c,d){var g=k.getItemGraphicEl(d),e=g.childAt(0),f=g.childAt(1),h=g.childAt(2),p={shape:{points:r.getItemLayout(c)}};p.shape.points&&(b(e.shape.points,p.shape.points,h,r,c,!1),m.updateProps(e,p,a),m.updateProps(f,p,a),r.setItemGraphicEl(c,g))}).remove(function(b){g.remove(k.getItemGraphicEl(b))}).execute();r.eachItemGraphicEl(function(b,c){function d(){h.attr("ignore",F)}function e(){h.attr("ignore",H)}var k=r.getItemModel(c),f=b.childAt(0),h=b.childAt(1),n=b.childAt(2),q=r.getItemVisual(c,"color");g.add(b);f.useStyle(p.defaults(k.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:q}));f.hoverStyle=k.getModel("lineStyle.emphasis").getLineStyle();var f=k.getModel("areaStyle.normal"),B=k.getModel("areaStyle.emphasis"),H=f.isEmpty()&&f.parentModel.isEmpty(),F=B.isEmpty()&&B.parentModel.isEmpty(),F=F&&H;h.ignore=H;h.useStyle(p.defaults(f.getAreaStyle(),{fill:q,opacity:.7}));h.hoverStyle=B.getAreaStyle();var D=k.getModel("itemStyle.normal").getItemStyle(["color"]),C=k.getModel("itemStyle.emphasis").getItemStyle(),I=k.getModel("label.normal"),J=k.getModel("label.emphasis");n.eachChild(function(b){b.setStyle(D);b.hoverStyle=p.clone(C);var d=r.get(r.dimensions[b.__dimIdx],c);m.setText(b.style,I,q);b.setStyle({text:I.get("show")?p.retrieve(a.getFormattedLabel(c,"normal",null,b.__dimIdx),d):null});m.setText(b.hoverStyle,J,!0);b.hoverStyle.text=J.get("show")?a.getFormattedLabel(c,"emphasis",null,b.__dimIdx):null});b.off("mouseover").off("mouseout").off("normal").off("emphasis");b.on("emphasis",d).on("mouseover",d).on("normal",e).on("mouseout",e);m.setHoverStyle(b)});this._data=r},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}})},function(q,n){q.exports=function(a){a.eachSeriesByType("radar",function(a){function p(b,a){l[a]=l[a]||[];l[a][e]=f.dataToPoint(b,e)}var h=a.getData(),l=[],f=a.coordinateSystem;if(f){for(var e=0;e<f.getIndicatorAxes().length;e++)h.each(h.dimensions[e],p);h.each(function(b){l[b][0]&&l[b].push(l[b][0].slice());h.setItemLayout(b,l[b])})}})}},function(q,n,a){var m=a(4);q.exports=function(a){var h=a.polar;if(h){m.isArray(h)||(h=[h]);var l=[];m.each(h,function(f,e){f.indicator?(f.type&&!f.shape&&(f.shape=f.type),a.radar=a.radar||[],m.isArray(a.radar)||(a.radar=[a.radar]),a.radar.push(f)):l.push(f)});a.polar=l}m.each(a.series,function(a){"radar"===a.type&&a.polarIndex&&(a.radarIndex=a.polarIndex)})}},function(q,n,a){q=a(1);n=q.PRIORITY;a(173);a(184);a(190);a(174);q.registerLayout(a(192));q.registerVisual(a(193));q.registerProcessor(n.PROCESSOR.STATISTIC,a(194));q.registerPreprocessor(a(195));a(153)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(q,n,a){var m=a(101);n=a(81);var p=a(4),h=a(113),l=a(6),f=l.encodeHTML,e=l.addCommas,l=a(151),b=a(174),d=n.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(b){this.option=b=this._fillOption(b,this.getMapType());d.superApply(this,"init",arguments);this.updateSelectedMap(b.data)},getInitialData:function(b){var a=h(["value"],b.data||[]),a=new m(a,this);a.initData(b.data);return a},mergeOption:function(b){b.data&&(b=this._fillOption(b,this.getMapType()));d.superCall(this,"mergeOption",b);this.updateSelectedMap(this.option.data)},getHostGeoModel:function(){var b=this.option.geoIndex;return null!=b?this.dependentModels.geo[b]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(a,d){a=p.extend({},a);a.data=b.getFilledRegions(a.data,d,a.nameMap);return a},getRawValue:function(b){return this.getData().get("value",b)},getRegionModel:function(b){var a=this.getData();return a.getItemModel(a.indexOfName(b))},formatTooltip:function(b){var a=this.getData(),d=e(this.getRawValue(b));b=a.getName(b);for(var a=this.seriesGroup,k=[],h=0;h<a.length;h++){var l=a[h].originalData.indexOfName(b);isNaN(a[h].originalData.get("value",l))||k.push(f(a[h].name))}return k.join(", ")+"\x3cbr /\x3e"+f(b+" : "+d)},getTooltipPosition:function(b){if(null!=b){var a=this.getData().getName(b);b=this.coordinateSystem;return(a=b.getRegion(a))&&b.dataToPoint(a.center)}},setZoom:function(b){this.option.zoom=b},setCenter:function(b){this.option.center=b},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:"#000"},emphasis:{show:!0,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});p.mixin(d,l);q.exports=d},function(q,n,a){function m(b,a){var c=b.get("boundingCoords");if(null!=c){var d=c[0],c=c[1];isNaN(d[0])||isNaN(d[1])||isNaN(c[0])||isNaN(c[1])?console.error("Invalid boundingCoords"):this.setBoundingRect(d[0],d[1],c[0]-d[0],c[1]-d[1])}var f=this.getBoundingRect(),d=b.get("layoutCenter"),c=b.get("layoutSize"),h=a.getWidth(),m=a.getHeight(),u=b.get("aspectScale")||.75,f=f.width/f.height*u,u=!1;d&&c&&(d=[e.parsePercent(d[0],h),e.parsePercent(d[1],m)],c=e.parsePercent(c,Math.min(h,m)),isNaN(d[0])||isNaN(d[1])||isNaN(c)?console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead."):u=!0);u?(h={},1<f?(h.width=c,h.height=c/f):(h.height=c,h.width=c*f),h.y=d[1]-h.height/2,h.x=d[0]-h.width/2):(d=b.getBoxLayoutParams(),d.aspect=f,h=l.getLayoutRect(d,{width:h,height:m}));this.setViewRect(h.x,h.y,h.width,h.height);this.setCenter(b.get("center"));this.setZoom(b.get("zoom"))}function p(b,a){f.each(a.get("geoCoord"),function(a,c){b.addGeoCoord(c,a)})}var h=a(175),l=a(74),f=a(4),e=a(7),b={},d=function(b){console.error("Map "+b+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")},c={dimensions:h.prototype.dimensions,create:function(a,c){var e=[];a.eachComponent("geo",function(a,g){var f=a.get("map"),t=b[f];t||d(f);f=new h(f+g,f,t&&t.geoJson,t&&t.specialAreas,a.get("nameMap"));f.zoomLimit=a.get("scaleLimit");e.push(f);p(f,a);a.coordinateSystem=f;f.model=a;f.resize=m;f.resize(a,c)});a.eachSeries(function(b){if("geo"===b.get("coordinateSystem")){var a=b.get("geoIndex")||0;b.coordinateSystem=e[a]}});var t={};a.eachSeriesByType("map",function(b){if(!b.getHostGeoModel()){var a=b.getMapType();t[a]=t[a]||[];t[a].push(b)}});f.each(t,function(a,g){var t=b[g];t||d(a[0].get("map"));var l=f.map(a,function(b){return b.get("nameMap")}),v=new h(g,g,t&&t.geoJson,t&&t.specialAreas,f.mergeAll(l));v.zoomLimit=f.retrieve.apply(null,f.map(a,function(b){return b.get("scaleLimit")}));e.push(v);v.resize=m;v.resize(a[0],c);f.each(a,function(b){b.coordinateSystem=v;p(v,b)})});return e},registerMap:function(a,c,d){c.geoJson&&!c.features&&(d=c.specialAreas,c=c.geoJson);"string"===typeof c&&(c="undefined"!==typeof JSON&&JSON.parse?JSON.parse(c):(new Function("return ("+c+");"))());b[a]={geoJson:c,specialAreas:d}},getMap:function(a){return b[a]},getFilledRegions:function(b,a,e){var h=(b||[]).slice();e=e||{};var l=c.getMap(a),l=l&&l.geoJson;if(!l)return d(a),b;b=f.createHashMap();a=l.features;for(l=0;l<h.length;l++)b.set(h[l].name,h[l]);for(l=0;l<a.length;l++){var m=a[l].properties.name;b.get(m)||(e.hasOwnProperty(m)&&(m=e[m]),h.push({name:m}))}return h}};n=a(1);n.registerMap=c.registerMap;n.getMap=c.getMap;n.parseGeoJSON=a(176);n.loadMap=function(){};n.registerCoordinateSystem("geo",c);q.exports=c},function(q,n,a){function m(b,a,g,f,k){e.call(this,b);this.map=a;this._nameCoordMap=l.createHashMap();this.loadGeoJson(g,f,k)}function p(b,a,g,e){a=g.geoModel;g=g.seriesModel;g=a?a.coordinateSystem:g?g.coordinateSystem||(g.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return g===this?g[b](e):null}var h=a(176),l=a(4),f=a(9),e=a(179),b=[a(180),a(181),a(182),a(183)];m.prototype={constructor:m,type:"geo",dimensions:["lng","lat"],containCoord:function(b){for(var a=this.regions,g=0;g<a.length;g++)if(a[g].contain(b))return!0;return!1},loadGeoJson:function(a,c,g){try{this.regions=a?h(a):[]}catch(e){throw"Invalid geoJson format\n"+e.message;}c=c||{};g=g||{};a=this.regions;for(var f=l.createHashMap(),k=0;k<a.length;k++){var t=a[k].name,t=g.hasOwnProperty(t)?g[t]:t;a[k].name=t;f.set(t,a[k]);this.addGeoCoord(t,a[k].center);(t=c[t])&&a[k].transformTo(t.left,t.top,t.width,t.height)}this._regionsMap=f;this._rect=null;l.each(b,function(b){b(this)},this)},transformTo:function(b,a,g,e){var k=this.getBoundingRect(),k=k.clone();k.y=-k.y-k.height;var h=this._viewTransform;h.transform=k.calculateTransform(new f(b,a,g,e));h.decomposeTransform();b=h.scale;b[1]=-b[1];h.updateTransform();this._updateTransform()},getRegion:function(b){return this._regionsMap.get(b)},getRegionByCoord:function(b){for(var a=this.regions,g=0;g<a.length;g++)if(a[g].contain(b))return a[g]},addGeoCoord:function(b,a){this._nameCoordMap.set(b,a)},getGeoCoord:function(b){return this._nameCoordMap.get(b)},getBoundingRect:function(){if(this._rect)return this._rect;for(var b,a=this.regions,g=0;g<a.length;g++){var e=a[g].getBoundingRect();b=b||e.clone();b.union(e)}return this._rect=b||new f(0,0,0,0)},dataToPoint:function(b){"string"===typeof b&&(b=this.getGeoCoord(b));if(b)return e.prototype.dataToPoint.call(this,b)},convertToPixel:l.curry(p,"dataToPoint"),convertFromPixel:l.curry(p,"pointToData")};l.mixin(m,e);q.exports=m},function(q,n,a){function m(a){if(!a.UTF8Encoding)return a;var e=a.UTF8Scale;null==e&&(e=1024);for(var b=a.features,d=0;d<b.length;d++)for(var c=b[d].geometry,g=c.coordinates,r=c.encodeOffsets,k=0;k<g.length;k++){var h=g[k];if("Polygon"===c.type)g[k]=p(h,r[k],e);else if("MultiPolygon"===c.type)for(var l=0;l<h.length;l++)h[l]=p(h[l],r[k][l],e)}a.UTF8Encoding=!1;return a}function p(a,e,b){var d=[],c=e[0];e=e[1];for(var g=0;g<a.length;g+=2){var r=a.charCodeAt(g)-64,k=a.charCodeAt(g+1)-64,r=r>>1^-(r&1),k=k>>1^-(k&1),r=r+c,k=k+e,c=r;e=k;d.push([r/b,k/b])}return d}var h=a(4),l=a(177);q.exports=function(a){m(a);return h.map(h.filter(a.features,function(a){return a.geometry&&a.properties&&0<a.geometry.coordinates.length}),function(a){var b=a.properties;a=a.geometry;var d=a.coordinates,c=[];"Polygon"===a.type&&c.push({type:"polygon",exterior:d[0],interiors:d.slice(1)});"MultiPolygon"===a.type&&h.each(d,function(b){b[0]&&c.push({type:"polygon",exterior:b[0],interiors:b.slice(1)})});a=new l(b.name,c,b.cp);a.properties=b;return a})}},function(q,n,a){function m(a,b,d){this.name=a;this.geometries=b;d?d=[d[0],d[1]]:(a=this.getBoundingRect(),d=[a.x+a.width/2,a.y+a.height/2]);this.center=d}var p=a(178),h=a(9),l=a(41),f=a(10);m.prototype={constructor:m,properties:null,getBoundingRect:function(){var a=this._rect;if(a)return a;for(var b=Number.MAX_VALUE,a=[b,b],b=[-b,-b],d=[],c=[],g=this.geometries,r=0;r<g.length;r++)"polygon"===g[r].type&&(l.fromPoints(g[r].exterior,d,c),f.min(a,a,d),f.max(b,b,c));0===r&&(a[0]=a[1]=b[0]=b[1]=0);return this._rect=new h(a[0],a[1],b[0]-a[0],b[1]-a[1])},contain:function(a){var b=this.getBoundingRect(),d=this.geometries;if(!b.contain(a[0],a[1]))return!1;var b=0,c=d.length;a:for(;b<c;b++)if("polygon"===d[b].type){var g=d[b].interiors;if(p.contain(d[b].exterior,a[0],a[1])){for(var f=0;f<(g?g.length:0);f++)if(p.contain(g[f]))continue a;return!0}}return!1},transformTo:function(a,b,d,c){var g=this.getBoundingRect(),r=g.width/g.height;d?c||(c=d/r):d=r*c;a=new h(a,b,d,c);g=g.calculateTransform(a);b=this.geometries;for(d=0;d<b.length;d++)if("polygon"===b[d].type){var k=b[d].exterior;c=b[d].interiors;for(r=0;r<k.length;r++)f.applyTransform(k[r],k[r],g);for(k=0;k<(c?c.length:0);k++)for(r=0;r<c[k].length;r++)f.applyTransform(c[k][r],c[k][r],g)}g=this._rect;g.copy(a);this.center=[g.x+g.width/2,g.y+g.height/2]}};q.exports=m},function(q,n,a){var m=a(48);q.exports={contain:function(a,h,l){var f=0,e=a[0];if(!e)return!1;for(var b=1;b<a.length;b++)var d=a[b],f=f+m(e[0],e[1],d[0],d[1],h,l),e=d;a=a[0];1E-8>Math.abs(e[0]-a[0])&&1E-8>Math.abs(e[1]-a[1])||(f+=m(e[0],e[1],a[0],a[1],h,l));return 0!==f}}},function(q,n,a){function m(){e.call(this)}function p(b){this.name=b;e.call(this);this._roamTransform=new m;this._viewTransform=new m;this._center;this._zoom}function h(b,a,d,e){a=(a=d.seriesModel)?a.coordinateSystem:null;return a===this?a[b](e):null}var l=a(10),f=a(11),e=a(30);n=a(4);var b=a(9),d=l.applyTransform;n.mixin(m,e);p.prototype={constructor:p,type:"view",dimensions:["x","y"],setBoundingRect:function(a,d,e,k){return this._rect=new b(a,d,e,k)},getBoundingRect:function(){return this._rect},setViewRect:function(a,d,e,k){this.transformTo(a,d,e,k);this._viewRect=new b(a,d,e,k)},transformTo:function(a,d,e,k){var f=this.getBoundingRect(),h=this._viewTransform;h.transform=f.calculateTransform(new b(a,d,e,k));h.decomposeTransform();this._updateTransform()},setCenter:function(b){b&&(this._center=b,this._updateCenterAndZoom())},setZoom:function(b){b=b||1;var a=this.zoomLimit;a&&(null!=a.max&&(b=Math.min(a.max,b)),null!=a.min&&(b=Math.max(a.min,b)));this._zoom=b;this._updateCenterAndZoom()},getDefaultCenter:function(){var b=this.getBoundingRect();return[b.x+b.width/2,b.y+b.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var b=this._viewTransform.getLocalTransform(),a=this._roamTransform,d=this.getDefaultCenter(),e=this.getCenter(),f=this.getZoom(),e=l.applyTransform([],e,b),d=l.applyTransform([],d,b);a.origin=e;a.position=[d[0]-e[0],d[1]-e[1]];a.scale=[f,f];this._updateTransform()},_updateTransform:function(){var b=this._roamTransform,a=this._viewTransform;a.parent=b;b.updateTransform();a.updateTransform();a.transform&&f.copy(this.transform||(this.transform=[]),a.transform);this.transform?(this.invTransform=this.invTransform||[],f.invert(this.invTransform,this.transform)):this.invTransform=null;this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var b=this.getBoundingRect().clone();b.applyTransform(this.transform);return b},dataToPoint:function(b){var a=this.transform;return a?d([],b,a):[b[0],b[1]]},pointToData:function(b){var a=this.invTransform;return a?d([],b,a):[b[0],b[1]]},convertToPixel:n.curry(h,"dataToPoint"),convertFromPixel:n.curry(h,"pointToData"),containPoint:function(b){return this.getViewRectAfterRoam().contain(b[0],b[1])}};n.mixin(p,e);q.exports=p},function(q,n,a){var m=a(177),p=a(4),h=[126,25],l=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(n=0;n<l.length;n++)for(a=0;a<l[n].length;a++)l[n][a][0]/=10.5,l[n][a][1]/=-14,l[n][a][0]+=h[0],l[n][a][1]+=h[1];q.exports=function(a){"china"===a.map&&a.regions.push(new m("\u5357\u6d77\u8bf8\u5c9b",p.map(l,function(a){return{type:"polygon",exterior:a}}),h))}},function(q,n,a){var m=a(4),p={"\u5357\u6d77\u8bf8\u5c9b":[32,80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]};q.exports=function(a){m.each(a.regions,function(a){var f=p[a.name];f&&(a=a.center,a[0]+=f[0]/10.5,a[1]+=-f[1]/14)})}},function(q,n,a){var m=a(4),p={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};q.exports=function(a){m.each(a.regions,function(a){var f=p[a.name];f&&(a=a.center,a[0]=f[0],a[1]=f[1])})}},function(q,n,a){a(177);a(4);var m=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];q.exports=function(a){if("china"===a.map)for(var h=0,l=a.regions.length;h<l;++h)"\u53f0\u6e7e"===a.regions[h].name&&a.regions[h].geometries.push({type:"polygon",exterior:m[0]})}},function(q,n,a){var m=a(20),p=a(4),h=a(185);a(1).extendChartView({type:"map",render:function(a,f,e,b){if(!b||"mapToggleSelect"!==b.type||b.from!==this.uid){var d=this.group;d.removeAll();if(!a.getHostGeoModel()){if(b&&"geoRoam"===b.type&&"series"===b.componentType&&b.seriesId===a.id)(c=this._mapDraw)&&d.add(c.group);else if(a.needsDrawMap){var c=this._mapDraw||new h(e,!0);d.add(c.group);c.draw(a,f,e,this,b);this._mapDraw=c}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;a.get("showLegendSymbol")&&f.getComponent("legend")&&this._renderSymbols(a,f,e)}}},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null},_renderSymbols:function(a,f,e){var b=a.originalData,d=this.group;b.each("value",function(c,g){if(!isNaN(c)){var e=b.getItemLayout(g);if(e&&e.point){var k=e.point,e=e.offset,f=new m.Circle({style:{fill:a.getData().getVisual("color")},shape:{cx:k[0]+9*e,cy:k[1],r:3},silent:!0,z2:e?8:10});if(!e){var k=a.mainSeries.getData(),h=b.getName(g),e=k.indexOfName(h),x=b.getItemModel(g),w=x.getModel("label.normal"),u=x.getModel("label.emphasis"),x=function(){var b=m.setTextStyle({},u,{text:u.get("show")?p.retrieve3(a.getFormattedLabel(g,"emphasis"),a.getFormattedLabel(g,"normal"),h):null},{isRectText:!0,forMerge:!0});f.style.extendFrom(b);f.__mapOriginalZ2=f.z2;f.z2+=1},v=function(){m.setTextStyle(f.style,w,{text:w.get("show")?p.retrieve2(a.getFormattedLabel(g,"normal"),h):null,textPosition:w.getShallow("position")||"bottom"},{isRectText:!0});null!=f.__mapOriginalZ2&&(f.z2=f.__mapOriginalZ2,f.__mapOriginalZ2=null)};k.getItemGraphicEl(e).on("mouseover",x).on("mouseout",v).on("emphasis",x).on("normal",v);v()}d.add(f)}}})}})},function(q,n,a){function m(b,a){var c=b.getItemStyle(),d=b.get("areaColor");null!=d&&(c.fill=d);return c}function p(b,a,d,e,f){d.off("click");d.off("mousedown");a.get("selectedMode")&&(d.on("mousedown",function(){b._mouseDownFlag=!0}),d.on("click",function(l){if(b._mouseDownFlag){b._mouseDownFlag=!1;for(l=l.target;!l.__regions;)l=l.parent;l&&(l={type:("geo"===a.mainType?"geo":"map")+"ToggleSelect",batch:c.map(l.__regions,function(b){return{name:b.name,from:f.uid}})},l[a.mainType+"Id"]=a.id,e.dispatchAction(l),h(a,d))}}))}function h(b,a){a.eachChild(function(a){c.each(a.__regions,function(c){a.trigger(b.isSelected(c.name)?"emphasis":"normal")})})}function l(b,a){var c=new d.Group;this._controller=new f(b.getZr());this._controllerHost={target:a?c:null};this.group=c;this._updateGroup=a}var f=a(186),e=a(188),b=a(189),d=a(20),c=a(4);l.prototype={constructor:l,draw:function(b,a,e,f,l){var x="geo"===b.mainType,w=b.getData&&b.getData();x&&a.eachComponent({mainType:"series",subType:"map"},function(a){w||a.getHostGeoModel()!==b||(w=a.getData())});var u=b.coordinateSystem,v=this.group,n=u.scale,q={position:u.position,scale:n};!v.childAt(0)||l?v.attr(q):d.updateProps(v,q,b);v.removeAll();var z=["itemStyle","normal"],B=["itemStyle","emphasis"],H=["label","normal"],F=["label","emphasis"],D=c.createHashMap();c.each(u.regions,function(a){var e=D.get(a.name)||D.set(a.name,new d.Group),k=new d.CompoundPath({shape:{paths:[]}});e.add(k);var f=b.getRegionModel(a.name)||b,r=f.getModel(z),h=f.getModel(B),l=m(r,n),h=m(h,n),r=f.getModel(H),f=f.getModel(F),t;if(w){t=w.indexOfName(a.name);var u=w.getItemVisual(t,"color",!0);u&&(l.fill=u)}c.each(a.geometries,function(b){if("polygon"===b.type){k.shape.paths.push(new d.Polygon({shape:{points:b.exterior}}));for(var a=0;a<(b.interiors?b.interiors.length:0);a++)k.shape.paths.push(new d.Polygon({shape:{points:b.interiors[a]}}))}});k.setStyle(l);k.style.strokeNoScale=!0;k.culling=!0;var l=r.get("show"),u=f.get("show"),p=w&&isNaN(w.get("value",t)),A=w&&w.getItemLayout(t);if(x||p&&(l||u)||A&&A.showLabel){var p=w?t:a.name,q,E;if(!w||0<=t)q=b.getFormattedLabel(p,"normal"),E=b.getFormattedLabel(p,"emphasis");p=new d.Text({position:a.center.slice(),scale:[1/n[0],1/n[1]],z2:10,silent:!0});d.setTextStyle(p.style,r,{text:l?q||a.name:null,textAlign:"center",textVerticalAlign:"middle"});d.setTextStyle(p.hoverStyle={},f,{text:u?E||q||a.name:null},{forMerge:!0});e.add(p)}w?w.setItemGraphicEl(t,e):(f=b.getRegionModel(a.name),k.eventData={componentType:"geo",geoIndex:b.componentIndex,name:a.name,region:f&&f.option||{}});(e.__regions||(e.__regions=[])).push(a);d.setHoverStyle(e,h,{hoverSilentOnTouch:!!b.get("selectedMode")});v.add(e)});this._updateController(b,a,e);p(this,b,v,e,f);h(b,v)},remove:function(){this.group.removeAll();this._controller.dispose();this._controllerHost={}},_updateController:function(a,d,k){function f(){var b={type:"geoRoam",componentType:m};b[m+"Id"]=a.id;return b}var h=a.coordinateSystem;d=this._controller;var l=this._controllerHost;l.zoomLimit=a.get("scaleLimit");l.zoom=h.getZoom();d.enable(a.get("roam")||!1);var m=a.mainType;d.off("pan").on("pan",function(b,a){this._mouseDownFlag=!1;e.updateViewOnPan(l,b,a);k.dispatchAction(c.extend(f(),{dx:b,dy:a}))},this);d.off("zoom").on("zoom",function(b,a,d){this._mouseDownFlag=!1;e.updateViewOnZoom(l,b,a,d);k.dispatchAction(c.extend(f(),{zoom:b,originX:a,originY:d}));if(this._updateGroup){b=this.group;var g=b.scale;b.traverse(function(b){"text"===b.type&&b.attr("scale",[1/g[0],1/g[1]])})}},this);d.setPointerChecker(function(c,d,e){return h.getViewRectAfterRoam().contain(d,e)&&!b.onIrrelevantElement(c,k,a)})}};q.exports=l},function(q,n,a){function m(b){this._zr=b;this._opt={};var a=c.bind,g=a(p,this),r=a(h,this),m=a(l,this),u=a(f,this),v=a(e,this);d.call(this);this.setPointerChecker=function(b){this.pointerChecker=b};this.enable=function(a,d){this.disable();this._opt=c.defaults(c.clone(d)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0});null==a&&(a=!0);if(!0===a||"move"===a||"pan"===a)b.on("mousedown",g),b.on("mousemove",r),b.on("mouseup",m);if(!0===a||"scale"===a||"zoom"===a)b.on("mousewheel",u),b.on("pinch",v)};this.dispose=this.disable=function(){b.off("mousedown",g);b.off("mousemove",r);b.off("mouseup",m);b.off("mousewheel",u);b.off("pinch",v)};this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}function p(b){if(!b.target||!b.target.draggable){var a=b.offsetX,c=b.offsetY;this.pointerChecker&&this.pointerChecker(b,a,c)&&(this._x=a,this._y=c,this._dragging=!0)}}function h(a){if(b(this,"moveOnMouseMove",a)&&this._dragging&&"pinch"!==a.gestureEvent&&!r.isTaken(this._zr,"globalPan")){var c=a.offsetX,d=a.offsetY,e=this._x,f=this._y,h=c-e,l=d-f;this._x=c;this._y=d;this._opt.preventDefaultMouseMove&&g.stop(a.event);this.trigger("pan",h,l,e,f,c,d)}}function l(b){this._dragging=!1}function f(a){if(b(this,"zoomOnMouseWheel",a)&&0!==a.wheelDelta){var c=0<a.wheelDelta?1.1:1/1.1,d=a.offsetX,e=a.offsetY;this.pointerChecker&&this.pointerChecker(a,d,e)&&(g.stop(a.event),this.trigger("zoom",c,d,e))}}function e(b){if(!r.isTaken(this._zr,"globalPan")){var a=1<b.pinchScale?1.1:1/1.1,c=b.pinchX,d=b.pinchY;this.pointerChecker&&this.pointerChecker(b,c,d)&&(g.stop(b.event),this.trigger("zoom",a,c,d))}}function b(b,a,d){return(b=b._opt[a])&&(!c.isString(b)||d.event[b+"Key"])}var d=a(29),c=a(4),g=a(91),r=a(187);c.mixin(m,d);q.exports=m},function(q,n,a){a(1).registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});q.exports={take:function(a,p,h){(a["\x00_ec_interaction_mutex"]||(a["\x00_ec_interaction_mutex"]={}))[p]=h},release:function(a,p,h){a=a["\x00_ec_interaction_mutex"]||(a["\x00_ec_interaction_mutex"]={});a[p]===h&&(a[p]=null)},isTaken:function(a,p){return!!(a["\x00_ec_interaction_mutex"]||(a["\x00_ec_interaction_mutex"]={}))[p]}}},function(q,n){q.exports={updateViewOnPan:function(a,m,p){a=a.target;var h=a.position;h[0]+=m;h[1]+=p;a.dirty()},updateViewOnZoom:function(a,m,p,h){var l=a.target,f=a.zoomLimit,e=l.position,b=l.scale,d=a.zoom=a.zoom||1,d=d*m;f&&(d=Math.max(Math.min(f.max||Infinity,d),f.min||0));m=d/a.zoom;a.zoom=d;e[0]-=(p-e[0])*(m-1);e[1]-=(h-e[1])*(m-1);b[0]*=m;b[1]*=m;l.dirty()}}},function(q,n){var a={},m={axisPointer:1,tooltip:1,brush:1};a.onIrrelevantElement=function(a,h,l){h=(a=h.getComponentByElement(a.topTarget))&&a.coordinateSystem;return a&&a!==l&&!m[a.mainType]&&h&&h.model!==l};q.exports=a},function(q,n,a){var m=a(4),p=a(191);a(1).registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(a,l){var f=a.componentType||"series";l.eachComponent({mainType:f,query:a},function(e){var b=e.coordinateSystem;if("geo"===b.type){var d=p.updateCenterAndZoom(b,a,e.get("scaleLimit"));e.setCenter&&e.setCenter(d.center);e.setZoom&&e.setZoom(d.zoom);"series"===f&&m.each(e.seriesGroup,function(b){b.setCenter(d.center);b.setZoom(d.zoom)})}})})},function(q,n){q.exports={updateCenterAndZoom:function(a,m,p){var h=a.getZoom(),l=a.getCenter(),f=m.zoom,e=a.dataToPoint(l);null!=m.dx&&null!=m.dy&&(e[0]-=m.dx,e[1]-=m.dy,l=a.pointToData(e),a.setCenter(l));null!=f&&(p&&(f=Math.max(Math.min(h*f,p.max||Infinity),p.min||0)/h),a.scale[0]*=f,a.scale[1]*=f,p=a.position,l=(m.originY-p[1])*(f-1),p[0]-=(m.originX-p[0])*(f-1),p[1]-=l,a.updateTransform(),l=a.pointToData(e),a.setCenter(l),a.setZoom(f*h));return{center:a.getCenter(),zoom:a.getZoom()}}}},function(q,n,a){var m=a(4);q.exports=function(a){var h={};a.eachSeriesByType("map",function(l){var f=l.getMapType();if(!l.getHostGeoModel()&&!h[f]){var e={};m.each(l.seriesGroup,function(b){var c=b.coordinateSystem,g=b.originalData;b.get("showLegendSymbol")&&a.getComponent("legend")&&g.each("value",function(b,a){var d=g.getName(a),f=c.getRegion(d);if(f&&!isNaN(b)){var h=e[d]||0,f=c.dataToPoint(f.center);e[d]=h+1;g.setItemLayout(a,{point:f,offset:h})}})});var b=l.getData();b.each(function(a){var c=b.getName(a),g=b.getItemLayout(a)||{};g.showLabel=!e[c];b.setItemLayout(a,g)});h[f]=!0}})}},function(q,n){q.exports=function(a){a.eachSeriesByType("map",function(a){var p=a.get("color"),h=a.getModel("itemStyle.normal"),l=h.get("areaColor"),p=h.get("color")||p[a.seriesIndex%p.length];a.getData().setVisual({areaColor:l,color:p})})}},function(q,n,a){function m(a,l){var f={},e=["value"];p.each(a,function(b){b.each(e,function(a,c){var g="ec-"+b.getName(c);f[g]=f[g]||[];isNaN(a)||f[g].push(a)})});return a[0].map(e,function(b,d){for(var c="ec-"+a[0].getName(d),g=0,e=Infinity,k=-Infinity,t=f[c].length,m=0;m<t;m++)e=Math.min(e,f[c][m]),k=Math.max(k,f[c][m]),g+=f[c][m];c="min"===l?e:"max"===l?k:"average"===l?g/t:g;return 0===t?NaN:c})}var p=a(4);q.exports=function(a){var l={};a.eachSeriesByType("map",function(a){var e=a.getHostGeoModel(),e=e?"o"+e.id:"i"+a.getMapType();(l[e]=l[e]||[]).push(a)});p.each(l,function(a,e){for(var b=m(p.map(a,function(b){return b.getData()}),a[0].get("mapValueCalculation")),d=0;d<a.length;d++)a[d].originalData=a[d].getData();for(d=0;d<a.length;d++)a[d].seriesGroup=a,a[d].needsDrawMap=0===d&&!a[d].getHostGeoModel(),a[d].setData(b.cloneShallow()),a[d].mainSeries=a[0]})}},function(q,n,a){var m=a(4);q.exports=function(a){var h=[];m.each(a.series,function(a){"map"===a.type&&h.push(a)});m.each(h,function(a){a.map=a.map||a.mapType;m.defaults(a,a.mapLocation)})}},function(q,n,a){q=a(1);a(197);a(201);a(204);q.registerVisual(a(205));q.registerLayout(a(207))},function(q,n,a){function m(b){var a=0;f.each(b.children,function(b){m(b);b=b.value;f.isArray(b)&&(b=b[0]);a+=b});var c=b.value;f.isArray(c)&&(c=c[0]);if(null==c||isNaN(c))c=a;0>c&&(c=0);f.isArray(b.value)?b.value[0]=c:b.value=c}function p(b,a){var c=a.get("color");if(c){b=b||[];var d;f.each(b,function(b){b=new e(b);var a=b.get("color");if(b.get("itemStyle.normal.color")||a&&"none"!==a)d=!0});d||((b[0]||(b[0]={})).color=c.slice());return b}}var h=a(81),l=a(198),f=a(4),e=a(14);n=a(6);var b=a(200),d=n.encodeHTML,c=n.addCommas;q.exports=h.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:Infinity,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0}},upperLabel:{normal:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},emphasis:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(b,a){var c={name:b.name,children:b.data};m(c);var d=b.levels||[],d=b.levels=p(d,a);return l.createTree(c,this,d).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(b){var a=this.getData(),e=this.getRawValue(b),e=f.isArray(e)?c(e[0]):c(e);b=a.getName(b);return d(b+": "+e)},getDataParams:function(a){var c=h.prototype.getDataParams.apply(this,arguments),d=this.getData().tree.getNodeByDataIndex(a);c.treePathInfo=b.wrapTreePathInfo(d,this);return c},setLayoutInfo:function(b){this.layoutInfo=this.layoutInfo||{};f.extend(this.layoutInfo,b)},mapIdToIndex:function(b){var a=this._idIndexMap;a||(a=this._idIndexMap=f.createHashMap(),this._idIndexMapCount=0);var c=a.get(b);null==c&&a.set(b,c=this._idIndexMapCount++);return c},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(b){b?this._viewRoot=b:b=this._viewRoot;var a=this.getData().tree.root;if(!b||b!==a&&!a.contains(b))this._viewRoot=a}})},function(q,n,a){function m(b,a){this._nodes=[];this.hostModel=b;this.levelModels=p.map(a||[],function(a){return new h(a,b,b.ecModel)})}var p=a(4),h=a(14),l=a(101),f=a(199),e=a(113),b=function(b,a){this.name=b||"";this.height=this.depth=0;this.parentNode=null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=a};b.prototype={constructor:b,isRemoved:function(){return 0>this.dataIndex},eachNode:function(b,a,g){"function"===typeof b&&(g=a,a=b,b=null);b=b||{};p.isString(b)&&(b={order:b});var e=b.order||"preorder",k=this[b.attr||"children"],f;"preorder"===e&&(f=a.call(g,this));for(var h=0;!f&&h<k.length;h++)k[h].eachNode(b,a,g);"postorder"===e&&a.call(g,this)},updateDepthAndHeight:function(b){var a=0;this.depth=b;for(var g=0;g<this.children.length;g++){var e=this.children[g];e.updateDepthAndHeight(b+1);e.height>a&&(a=e.height)}this.height=a+1},getNodeById:function(b){if(this.getId()===b)return this;for(var a=0,g=this.children,e=g.length;a<e;a++){var k=g[a].getNodeById(b);if(k)return k}},contains:function(b){if(b===this)return!0;for(var a=0,g=this.children,e=g.length;a<e;a++){var k=g[a].contains(b);if(k)return k}},getAncestors:function(b){var a=[];for(b=b?this:this.parentNode;b;)a.push(b),b=b.parentNode;a.reverse();return a},getValue:function(b){var a=this.hostTree.data;return a.get(a.getDimension(b||"value"),this.dataIndex)},setLayout:function(b,a){0<=this.dataIndex&&this.hostTree.data.setItemLayout(this.dataIndex,b,a)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(b){if(!(0>this.dataIndex)){var a=this.hostTree,g=a.data.getItemModel(this.dataIndex),e=this.getLevelModel();return g.getModel(b,(e||a.hostModel).getModel(b))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(b,a){0<=this.dataIndex&&this.hostTree.data.setItemVisual(this.dataIndex,b,a)},getVisual:function(b,a){return this.hostTree.data.getItemVisual(this.dataIndex,b,a)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}};m.prototype={constructor:m,type:"tree",eachNode:function(b,a,g){this.root.eachNode(b,a,g)},getNodeByDataIndex:function(b){b=this.data.getRawIndex(b);return this._nodes[b]},getNodeByName:function(b){return this.root.getNodeByName(b)},update:function(){for(var b=this.data,a=this._nodes,g=0,e=a.length;g<e;g++)a[g].dataIndex=-1;g=0;for(e=b.count();g<e;g++)a[b.getRawIndex(g)].dataIndex=g},clearLayouts:function(){this.data.clearItemLayouts()}};m.createTree=function(a,c,g){function h(a,c){var d=a.value;n=Math.max(n,p.isArray(d)?d.length:1);t.push(a);d=new b(a.name,k);if(c){var g=c.children;d.parentNode!==c&&(g.push(d),d.parentNode=c)}else k.root=d;k._nodes.push(d);if(g=a.children)for(var e=0;e<g.length;e++)h(g[e],d)}var k=new m(c,g),t=[],n=1;h(a);k.root.updateDepthAndHeight(0);a=e([{name:"value"}],t,{dimCount:n});c=new l(a,c);c.initData(t);f({mainData:c,struct:k,structAttr:"tree"});k.update();return k};q.exports=m},function(q,n,a){function m(a,d){if(this["\x00__link_mainData"]===this){var h=b.extend({},this["\x00__link_datas"]);h[this.dataType]=d;f(d,h,a)}else e(d,this.dataType,this["\x00__link_mainData"],a);return d}function p(b,a){b.struct&&b.struct.update(this);return a}function h(b,a){d(a["\x00__link_datas"],function(d,k){d!==a&&e(d.cloneShallow(),k,a,b)});return a}function l(b){var a=this["\x00__link_mainData"];return null==b||null==a?a:a["\x00__link_datas"][b]}function f(b,a,f){b["\x00__link_datas"]={};d(a,function(a,d){e(a,d,b,f)})}function e(b,a,d,e){d["\x00__link_datas"][a]=b;b["\x00__link_mainData"]=d;b.dataType=a;e.struct&&(b[e.structAttr]=e.struct,e.struct[e.datasAttr[a]]=b);b.getLinkedData=l}var b=a(4),d=b.each;q.exports=function(a){var g=a.mainData,e=a.datas;e||(e={main:g},a.datasAttr={main:"data"});a.datas=a.mainData=null;f(g,e,a);d(e,function(e){d(g.TRANSFERABLE_METHODS,function(d){e.wrapMethod(d,b.curry(m,a))})});g.wrapMethod("cloneShallow",b.curry(h,a));d(g.CHANGABLE_METHODS,function(d){g.wrapMethod(d,b.curry(p,a))});b.assert(e[g.dataType]===g)}},function(q,n,a){var m=a(4),p={retrieveTargetInfo:function(a,l){if(a&&("treemapZoomToNode"===a.type||"treemapRootToNode"===a.type)){var f=l.getData().tree.root,e=a.targetNode;if(e&&f.contains(e))return{node:e};var b=a.targetNodeId;if(null!=b&&(e=f.getNodeById(b)))return{node:e}}},getPathToRoot:function(a){for(var l=[];a;)(a=a.parentNode)&&l.push(a);return l.reverse()},aboveViewRoot:function(a,l){var f=p.getPathToRoot(a);return 0<=m.indexOf(f,l)},wrapTreePathInfo:function(a,l){for(var f=[];a;){var e=a.dataIndex;f.push({name:a.name,dataIndex:e,value:l.getRawValue(e)});a=a.parentNode}f.reverse();return f}};q.exports=p},function(q,n,a){function m(){return{nodeGroup:[],background:[],content:[]}}function p(b,a,c,d,g,e,k,f,r,m){function p(a,c,d){c.dataIndex=k.dataIndex;c.seriesIndex=b.seriesIndex;c.setShape({x:0,y:0,width:Q,height:M});var g=k.getVisual("borderColor",!0),e=X.get("borderColor");x(c,function(){var b={fill:g},a={fill:e};if(d){var k=Q-2*S;q(b,a,g,k,Z,{x:S,y:0,width:k,height:Z})}else b.text=a.text=null;c.setStyle(b);l.setHoverStyle(c,a)});a.add(c)}function n(a,c){c.dataIndex=k.dataIndex;c.seriesIndex=b.seriesIndex;var d=Math.max(Q-2*S,0),g=Math.max(M-2*S,0);c.culling=!0;c.setShape({x:S,y:S,width:d,height:g});var e=k.getVisual("color",!0);x(c,function(){var b={fill:e},a=X.getItemStyle();q(b,a,e,d,g);c.setStyle(b);l.setHoverStyle(c,a)});a.add(c)}function x(b,a){Y?!b.invisible&&e.push(b):(a(),b.__tmWillVisible||(b.invisible=!1))}function q(a,c,d,g,e,f){var r=k.getModel(),t=h.retrieve(b.getFormattedLabel(k.dataIndex,"normal",null,null,f?"upperLabel":"label"),r.get("name"));if(!f&&P.isLeafRoot)var m=b.get("drillDownIcon",!0),t=m?m+" "+t:t;m=r.getModel(f?v:w);l.setText(a,m,d);f&&(a.textRect=h.clone(f));m.getShallow("show")?(a.text=t,a.truncate=m.get("ellipsis")?{outerWidth:g,outerHeight:e,minChar:2}:null):a.text=a.truncate=null;a=r.getModel(f?y:u);l.setText(c,a,!1)}function R(b,e,f,r){var l=null!=T&&c[b][T],t=g[b];l?(c[b][T]=null,e=l,(t[V]={}).old="nodeGroup"===b?e.position.slice():h.extend({},e.shape)):Y||(l=10*f+r,l=new e({z:(l-1)/l}),l.__tmDepth=f,l.__tmStorageName=b,t=t[V]={},!(r=k.parentNode)||d&&"drillDown"!==d.direction||(f=e=0,r=g.background[r.getRawIndex()],!d&&r&&r.old&&(e=r.old.width,f=r.old.height),t.old="nodeGroup"===b?[0,f]:{x:e,y:f,width:0,height:0}),t.fadein="nodeGroup"!==b);return a[b][V]=l}if(k){var P=k.getLayout();if(P&&P.isInView){var Q=P.width,M=P.height,S=P.borderWidth,Y=P.invisible,V=k.getRawIndex(),T=f&&f.getRawIndex();f=k.viewChildren;var Z=P.upperHeight,W=f&&f.length,X=k.getModel("itemStyle.emphasis");if(f=R("nodeGroup",t)){r.add(f);f.attr("position",[P.x||0,P.y||0]);f.__tmNodeWidth=Q;f.__tmNodeHeight=M;if(P.isAboveViewRoot)return f;(r=R("background",A,m,1))&&p(f,r,W&&P.upperHeight);W||(m=R("content",A,m,2))&&n(f,m);return f}}}}var h=a(4),l=a(20),f=a(102),e=a(200),b=a(202),d=a(186),c=a(9),g=a(11),r=a(203),k=h.bind,t=l.Group,A=l.Rect,x=h.each,w=["label","normal"],u=["label","emphasis"],v=["upperLabel","normal"],y=["upperLabel","emphasis"];q.exports=a(1).extendChartView({type:"treemap",init:function(b,a){this._storage=m();this._state="ready"},render:function(b,a,c,d){var g=a.findComponents({mainType:"series",subType:"treemap",query:d});if(!(0>h.indexOf(g,b))){this.seriesModel=b;this.api=c;this.ecModel=a;a=e.retrieveTargetInfo(d,b);var g=d&&d.type,k=b.layoutInfo,f=!this._oldTree,r=this._storage;d="treemapRootToNode"===g&&a&&r?{rootNodeGroup:r.nodeGroup[a.node.getRawIndex()],direction:d.direction}:null;k=this._giveContainerGroup(k);r=this._doRender(k,b,d);f||g&&"treemapZoomToNode"!==g&&"treemapRootToNode"!==g?r.renderFinally():this._doAnimation(k,r,b,d);this._resetController(c);this._renderBreadcrumb(b,c,a)}},_giveContainerGroup:function(b){var a=this._containerGroup;a||(a=this._containerGroup=new t,this._initEvents(a),this.group.add(a));a.attr("position",[b.x,b.y]);return a},_doRender:function(b,a,c){function d(b,a,c,g,e){function k(b){return b.getId()}function r(k,f){var h=null!=k?b[k]:null,l=null!=f?a[f]:null,t=u(h,l,c,e);t&&d(h&&h.viewChildren||[],l&&l.viewChildren||[],t,g,e+1)}g?(a=b,x(b,function(b,a){!b.isRemoved()&&r(a,a)})):(new f(a,b,k,k)).add(r).update(r).remove(h.curry(r,null)).execute()}var g=a.getData().tree,e=this._oldTree,k=m(),r=m(),l=this._storage,t=[],u=h.curry(p,a,r,l,c,k,t);d(g.root?[g.root]:[],e&&e.root?[e.root]:[],b,g===e||!e,0);var v=function(b){var a=m();b&&x(b,function(b,c){var d=a[c];x(b,function(b){b&&(d.push(b),b.__tmWillDelete=1)})});return a}(l);this._oldTree=g;this._storage=r;return{lastsForAnimation:k,willDeleteEls:v,renderFinally:function(){x(v,function(b){x(b,function(b){b.parent&&b.parent.remove(b)})});x(t,function(b){b.invisible=!0;b.dirty()})}}},_doAnimation:function(b,a,c,d){if(c.get("animation")){var g=c.get("animationDurationUpdate"),e=c.get("animationEasing"),f=r.createWrap();x(a.willDeleteEls,function(b,a){x(b,function(b,c){if(!b.invisible){var k=b.parent;if(d&&"drillDown"===d.direction)k=k===d.rootNodeGroup?{shape:{x:0,y:0,width:k.__tmNodeWidth,height:k.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var h=0,r=0;k.__tmWillDelete||(h=k.__tmNodeWidth/2,r=k.__tmNodeHeight/2);k="nodeGroup"===a?{position:[h,r],style:{opacity:0}}:{shape:{x:h,y:r,width:0,height:0},style:{opacity:0}}}k&&f.add(b,k,g,e)}})});x(this._storage,function(b,c){x(b,function(b,d){var k=a.lastsForAnimation[c][d],r={};k&&("nodeGroup"===c?k.old&&(r.position=b.position.slice(),b.attr("position",k.old)):(k.old&&(r.shape=h.extend({},b.shape),b.setShape(k.old)),k.fadein?(b.setStyle("opacity",0),r.style={opacity:1}):1!==b.style.opacity&&(r.style={opacity:1})),f.add(b,r,g,e))})},this);this._state="animating";f.done(k(function(){this._state="ready";a.renderFinally()},this)).start()}},_resetController:function(b){var a=this._controller;a||(a=this._controller=new d(b.getZr()),a.enable(this.seriesModel.get("roam")),a.on("pan",k(this._onPan,this)),a.on("zoom",k(this._onZoom,this)));var g=new c(0,0,b.getWidth(),b.getHeight());a.setPointerChecker(function(b,a,c){return g.contain(a,c)})},_clearController:function(){var b=this._controller;b&&b.dispose()},_onPan:function(b,a){this._mayClick=!1;if("animating"!==this._state&&(3<Math.abs(b)||3<Math.abs(a))){var c=this.seriesModel.getData().tree.root;c&&(c=c.getLayout())&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:c.x+b,y:c.y+a,width:c.width,height:c.height}})}},_onZoom:function(b,a,d){this._mayClick=!1;if("animating"!==this._state){var e=this.seriesModel.getData().tree.root;if(e&&(e=e.getLayout())){var e=new c(e.x,e.y,e.width,e.height),k=this.seriesModel.layoutInfo;a-=k.x;d-=k.y;k=g.create();g.translate(k,k,[-a,-d]);g.scale(k,k,[b,b]);g.translate(k,k,[a,d]);e.applyTransform(k);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:e.x,y:e.y,width:e.width,height:e.height}})}}},_initEvents:function(b){b.on("mousedown",function(b){"ready"===this._state&&(this._mayClick=!0)},this);b.on("mouseup",function(b){if(this._mayClick&&(this._mayClick=!1,"ready"===this._state)){var a=this.seriesModel.get("nodeClick",!0);if(a&&(b=this.findTarget(b.offsetX,b.offsetY))){var c=b.node;c.getLayout().isLeafRoot?this._rootToNode(b):"zoomToNode"===a?this._zoomToNode(b):"link"===a&&(b=c.hostTree.data.getItemModel(c.dataIndex),a=b.get("link",!0),b=b.get("target",!0)||"blank",a&&window.open(a,b))}}},this)},_renderBreadcrumb:function(a,c,d){d||(d=null!=a.get("leafDepth",!0)?{node:a.getViewRoot()}:this.findTarget(c.getWidth()/2,c.getHeight()/2))||(d={node:a.getData().tree.root});(this._breadcrumb||(this._breadcrumb=new b(this.group))).render(a,c,d.node,k(function(b){"animating"!==this._state&&(e.aboveViewRoot(a.getViewRoot(),b)?this._rootToNode({node:b}):this._zoomToNode({node:b}))},this))},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=m();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(b){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:b.node})},_rootToNode:function(b){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:b.node})},findTarget:function(b,a){var c;this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(d){var g=this._storage.background[d.getRawIndex()];if(g){var e=g.transformCoordToLocal(b,a),g=g.shape;if(g.x<=e[0]&&e[0]<=g.x+g.width&&g.y<=e[1]&&e[1]<=g.y+g.height)c={node:d,offsetX:e[0],offsetY:e[1]};else return!1}},this);return c}})},function(q,n,a){function m(a){this.group=new p.Group;a.add(this.group)}var p=a(20),h=a(74),l=a(4),f=a(200);m.prototype={constructor:m,render:function(a,b,d,c){var g=a.getModel("breadcrumb"),f=this.group;f.removeAll();if(g.get("show")&&d){var k=g.getModel("itemStyle.normal"),l=k.getModel("textStyle");b={pos:{left:g.get("left"),right:g.get("right"),top:g.get("top"),bottom:g.get("bottom")},box:{width:b.getWidth(),height:b.getHeight()},emptyItemWidth:g.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(d,b,l);this._renderContent(a,b,k,l,c);h.positionElement(f,b.pos,b.box)}},_prepare:function(a,b,d){for(;a;a=a.parentNode){var c=a.getModel().get("name"),g=d.getTextRect(c),g=Math.max(g.width+16,b.emptyItemWidth);b.totalWidth+=g+8;b.renderList.push({node:a,text:c,width:g})}},_renderContent:function(a,b,d,c,g){var r=0,k=b.emptyItemWidth,t=a.get("breadcrumb.height"),m=h.getAvailableSize(b.pos,b.box),n=b.totalWidth;b=b.renderList;for(var w=b.length-1;0<=w;w--){var u=b[w],v=u.node,y=u.width,u=u.text;n>m.width&&(n-=y-k,y=k,u=null);var q=p.Polygon,z=r,B=t,H=w===b.length-1,F=[[H?z:z-5,0],[z+y,0],[z+y,0+B],[H?z:z-5,0+B]];0!==w&&F.splice(2,0,[z+y+5,0+B/2]);!H&&F.push([z,0+B/2]);u=new q({shape:{points:F},style:l.defaults(d.getItemStyle(),{lineJoin:"bevel",text:u,textFill:c.getTextColor(),textFont:c.getFont()}),z:10,onclick:l.curry(g,v)});this.group.add(u);u.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:a.componentIndex,seriesName:a.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:v&&v.dataIndex,name:v&&v.name},treePathInfo:v&&f.wrapTreePathInfo(v,a)};r+=y+8}},remove:function(){this.group.removeAll()}};q.exports=m},function(q,n,a){var m=a(4);q.exports={createWrap:function(){var a=[],h={},l;return{add:function(f,e,b,d,c){m.isString(d)&&(c=d,d=0);if(h[f.id])return!1;h[f.id]=1;a.push({el:f,target:e,time:b,delay:d,easing:c});return!0},done:function(a){l=a;return this},start:function(){function f(){e--;e||(a.length=0,h={},l&&l())}for(var e=a.length,b=0,d=a.length;b<d;b++){var c=a[b];c.el.animateTo(c.target,c.time,c.delay,c.easing,f)}return this}}}}},function(q,n,a){q=a(1);var m=a(200);a=function(){};n=["treemapZoomToNode","treemapRender","treemapMove"];for(var p=0;p<n.length;p++)q.registerAction({type:n[p],update:"updateView"},a);q.registerAction({type:"treemapRootToNode",update:"updateView"},function(a,l){l.eachComponent({mainType:"series",subType:"treemap",query:a},function(f,e){var b=m.retrieveTargetInfo(a,f);if(b){var d=f.getViewRoot();d&&(a.direction=m.aboveViewRoot(d,b.node)?"rollUp":"drillDown");f.resetViewRoot(b.node)}})})},function(q,n,a){function m(b,a,g,e,l,w){var u=b.getModel(),v=b.getLayout();if(v&&!v.invisible&&v.isInView){var n=b.getModel("itemStyle.normal"),q=p(n,a,g[b.depth],e),z=n.get("borderColor");a=n.get("borderColorSaturation");null!=a&&(z=h(q,b),z=null!=z?d.modifyHSL(z,null,null,a):null);b.setVisual("borderColor",z);if((a=b.viewChildren)&&a.length){var B=f(b,u,v,n,q,a);c.each(a,function(b,a){if(b.depth>=l.length||b===l[b.depth]){var d=c.extend({},q);if(B){var k=B.type,f="color"===k&&B.__drColorMappingBy,f="index"===f?a:"id"===f?w.mapIdToIndex(b.getId()):b.getValue(u.get("visualDimension"));d[k]=B.mapValueToVisual(f)}m(b,d,g,e,l,w)}})}else z=h(q,b),b.setVisual("color",z)}}function p(b,a,d,g){var e=c.extend({},a);c.each(["color","colorAlpha","colorSaturation"],function(c){var f=b.get(c,!0);null==f&&d&&(f=d[c]);null==f&&(f=a[c]);null==f&&(f=g.get(c));null!=f&&(e[c]=f)});return e}function h(b){var a=l(b,"color");if(a){var c=l(b,"colorAlpha");(b=l(b,"colorSaturation"))&&(a=d.modifyHSL(a,null,null,b));c&&(a=d.modifyAlpha(a,c));return a}}function l(b,a){var c=b[a];if(null!=c&&"none"!==c)return c}function f(a,c,d,g,f,h){if(h&&h.length&&(a=e(c,"color")||null!=f.color&&"none"!==f.color&&(e(c,"colorAlpha")||e(c,"colorSaturation"))))return g=c.get("visualMin"),f=c.get("visualMax"),d=d.dataExtent.slice(),null!=g&&g<d[0]&&(d[0]=g),null!=f&&f>d[1]&&(d[1]=f),c=c.get("colorMappingBy"),d={type:a.name,dataExtent:d,visual:a.range},"color"!==d.type||"index"!==c&&"id"!==c?d.mappingMethod="linear":(d.mappingMethod="category",d.loop=!0),d=new b(d),d.__drColorMappingBy=c,d}function e(b,a){var c=b.get(a);return g(c)&&c.length?{name:a,range:c}:null}var b=a(206),d=a(35),c=a(4),g=c.isArray;q.exports=function(b,a,d){b.eachComponent({mainType:"series",subType:"treemap",query:d},function(b){var a=b.getData().tree,d=a.root,g=b.getModel("itemStyle.normal");d.isRemoved()||(a=c.map(a.levelModels,function(b){return b?b.get("itemStyle.normal"):null}),m(d,{},a,g,b.getViewRoot().getAncestors(),b))})}},function(q,n,a){function m(b){var a=b.pieceList;b.hasSpecialVisual=!1;t.each(a,function(a,c){a.originIndex=c;null!=a.visual&&(b.hasSpecialVisual=!0)})}function p(b){var a=b.categories,c=b.visual,d=b.categoryMap={};w(a,function(b,a){d[b]=a});if(!t.isArray(c)){var g=[];t.isObject(c)?w(c,function(b,a){var c=d[a];g[null!=c?c:-1]=b}):g[-1]=c;c=r(b,g)}for(b=a.length-1;0<=b;b--)null==c[b]&&(delete d[a[b]],a.pop())}function h(b,a){var c=b.visual,d=[];t.isObject(c)?w(c,function(b){d.push(b)}):null!=c&&d.push(c);c={color:1,symbol:1};a||1!==d.length||c.hasOwnProperty(b.type)||(d[1]=d[0]);r(b,d)}function l(b){return{applyVisual:function(a,c,d){a=this.mapValueToVisual(a);d("color",b(c("color"),a))},_doMap:c([0,1])}}function f(b){var a=this.option.visual;return a[Math.round(x(b,[0,1],[0,a.length-1],!0))]||{}}function e(b){return function(a,c,d){d(b,this.mapValueToVisual(a))}}function b(b){var a=this.option.visual;return a[this.option.loop&&-1!==b?b%a.length:b]}function d(){return this.option.visual[0]}function c(a){return{linear:function(b){return x(b,a,this.option.visual,!0)},category:b,piecewise:function(b,c){var d=g.call(this,c);null==d&&(d=x(b,a,this.option.visual,!0));return d},fixed:d}}function g(b){var a=this.option,c=a.pieceList;if(a.hasSpecialVisual&&(b=v.findPieceIndex(b,c),(c=c[b])&&c.visual))return c.visual[this.type]}function r(b,a){b.visual=a;"color"===b.type&&(b.parsedVisual=t.map(a,function(b){return A.parse(b)}));return a}function k(b,a,c){return b?a<=c:a<c}var t=a(4),A=a(35),x=a(7).linearMap,w=t.each,u=t.isObject,v=function(b){var a=b.mappingMethod,c=b.type;b=this.option=t.clone(b);this.type=c;this.mappingMethod=a;this._normalizeData=E[a];c=y[c];this.applyVisual=c.applyVisual;this.getColorMapper=c.getColorMapper;this._doMap=c._doMap[a];"piecewise"===a?(h(b),m(b)):"category"===a?b.categories?p(b):h(b,!0):(t.assert("linear"!==a||b.dataExtent),h(b))};v.prototype={constructor:v,mapValueToVisual:function(b){var a=this._normalizeData(b);return this._doMap(a,b)},getNormalizer:function(){return t.bind(this._normalizeData,this)}};var y=v.visualHandlers={color:{applyVisual:e("color"),getColorMapper:function(){var a=this.option;return t.bind("category"===a.mappingMethod?function(a,c){!c&&(a=this._normalizeData(a));return b.call(this,a)}:function(b,c,d){var g=!!d;!c&&(b=this._normalizeData(b));d=A.fastMapToColor(b,a.parsedVisual,d);return g?d:A.stringify(d,"rgba")},this)},_doMap:{linear:function(b){return A.stringify(A.fastMapToColor(b,this.option.parsedVisual),"rgba")},category:b,piecewise:function(b,a){var c=g.call(this,a);null==c&&(c=A.stringify(A.fastMapToColor(b,this.option.parsedVisual),"rgba"));return c},fixed:d}},colorHue:l(function(b,a){return A.modifyHSL(b,a)}),colorSaturation:l(function(b,a){return A.modifyHSL(b,null,a)}),colorLightness:l(function(b,a){return A.modifyHSL(b,null,null,a)}),colorAlpha:l(function(b,a){return A.modifyAlpha(b,a)}),opacity:{applyVisual:e("opacity"),_doMap:c([0,1])},symbol:{applyVisual:function(b,a,c){b=this.mapValueToVisual(b);if(t.isString(b))c("symbol",b);else if(u(b))for(var d in b)b.hasOwnProperty(d)&&c(d,b[d])},_doMap:{linear:f,category:b,piecewise:function(b,a){var c=g.call(this,a);null==c&&(c=f.call(this,b));return c},fixed:d}},symbolSize:{applyVisual:e("symbolSize"),_doMap:c([0,1])}},E={linear:function(b){return x(b,this.option.dataExtent,[0,1],!0)},piecewise:function(b){var a=this.option.pieceList;b=v.findPieceIndex(b,a,!0);if(null!=b)return x(b,[0,a.length-1],[0,1],!0)},category:function(b){b=this.option.categories?this.option.categoryMap[b]:b;return null==b?-1:b},fixed:t.noop};v.listVisualTypes=function(){var b=[];t.each(y,function(a,c){b.push(c)});return b};v.addVisualHandler=function(b,a){y[b]=a};v.isValidType=function(b){return y.hasOwnProperty(b)};v.eachVisual=function(b,a,c){t.isObject(b)?t.each(b,a,c):a.call(c,b)};v.mapVisual=function(b,a,c){var d,g=t.isArray(b)?[]:t.isObject(b)?{}:(d=!0,null);v.eachVisual(b,function(b,e){var k=a.call(c,b,e);d?g=k:g[e]=k});return g};v.retrieveVisuals=function(b){var a={},c;b&&w(y,function(d,g){b.hasOwnProperty(g)&&(a[g]=b[g],c=!0)});return c?a:null};v.prepareVisualTypes=function(b){if(u(b)){var a=[];w(b,function(b,c){a.push(c)});b=a}else if(t.isArray(b))b=b.slice();else return[];b.sort(function(b,a){return"color"===a&&"color"!==b&&0===b.indexOf("color")?1:-1});return b};v.dependsOn=function(b,a){return"color"===a?!(!b||0!==b.indexOf(a)):b===a};v.findPieceIndex=function(b,a,c){function d(a,c){var k=Math.abs(a-b);k<e&&(e=k,g=c)}for(var g,e=Infinity,f=0,h=a.length;f<h;f++){var r=a[f].value;if(null!=r){if(r===b||"string"===typeof r&&r===b+"")return f;c&&d(r,f)}}f=0;for(h=a.length;f<h;f++){var l=a[f],r=l.interval,l=l.close;if(r){if(-Infinity===r[0]){if(k(l[1],b,r[1]))return f}else if(Infinity===r[1]){if(k(l[0],r[0],b))return f}else if(k(l[0],r[0],b)&&k(l[1],b,r[1]))return f;c&&d(r[0],f);c&&d(r[1],f)}}if(c)return Infinity===b?a.length-1:-Infinity===b?0:g};q.exports=v},function(q,n,a){function m(b,a,c,d){var k,f;if(!b.isRemoved()){var h=b.getLayout();k=h.width;f=h.height;var h=b.getModel(),r=h.get(z),l=h.get(B)/2,t=g(h),v=Math.max(r,t),n=r-l,x=v-l,h=b.getModel();b.setLayout({borderWidth:r,upperHeight:v,upperLabelHeight:t},!0);k=w(k-2*n,0);f=w(f-n-x,0);r=k*f;b=p(b,h,r,a,c,d);if(b.length){n={x:n,y:x,width:k,height:f};k=u(k,f);f=Infinity;x=[];t=x.area=0;for(v=b.length;t<v;){var A=b[t];x.push(A);x.area+=A.getLayout().area;for(var y=x,q=k,E=a.squareRatio,A=0,H=Infinity,F=0,X=void 0,ba=y.length;F<ba;F++)if(X=y[F].getLayout().area)X<H&&(H=X),X>A&&(A=X);y=y.area*y.area;q=q*q*E;A=y?w(q*A/y,y/(q*H)):Infinity;A<=f?(t++,f=A):(x.area-=x.pop().getLayout().area,e(x,k,n,l,!1),k=u(n.width,n.height),x.length=x.area=0,f=Infinity)}x.length&&e(x,k,n,l,!0);c||(h=h.get("childrenVisibleMin"),null!=h&&r<h&&(c=!0));t=0;for(v=b.length;t<v;t++)m(b[t],a,c,d+1)}}}function p(b,a,c,d,g,e){var k=b.children||[],t=d.sort;"asc"!==t&&"desc"!==t&&(t=null);d=null!=d.leafDepth&&d.leafDepth<=e;if(g&&!d)return b.viewChildren=[];k=r.filter(k,function(b){return!b.isRemoved()});l(k,t);g=f(a,k,t);if(0===g.sum)return b.viewChildren=[];g.sum=h(a,c,g.sum,t,k);if(0===g.sum)return b.viewChildren=[];a=0;for(t=k.length;a<t;a++)e=k[a].getValue()/g.sum*c,k[a].setLayout({area:e});d&&(k.length&&b.setLayout({isLeafRoot:!0},!0),k.length=0);b.viewChildren=k;b.setLayout({dataExtent:g.dataExtent},!0);return k}function h(b,a,c,d,g){if(!d)return c;b=b.get("visibleMin");for(var e=g.length,k=e,f=e-1;0<=f;f--){var h=g["asc"===d?e-f-1:f].getValue();h/c*a<b&&(k=f,c-=h)}"asc"===d?g.splice(0,e-k):g.splice(k,e-k);return c}function l(b,a){a&&b.sort(function(b,c){var d="asc"===a?b.getValue()-c.getValue():c.getValue()-b.getValue();return 0===d?"asc"===a?b.dataIndex-c.dataIndex:c.dataIndex-b.dataIndex:d});return b}function f(b,a,c){for(var d=0,g=0,e=a.length;g<e;g++)d+=a[g].getValue();var k=b.get("visualDimension"),f;a&&a.length?"value"===k&&c?(f=[a[a.length-1].getValue(),a[0].getValue()],"asc"===c&&f.reverse()):(f=[Infinity,-Infinity],E(a,function(b){b=b.getValue(k);b<f[0]&&(f[0]=b);b>f[1]&&(f[1]=b)})):f=[NaN,NaN];return{sum:d,dataExtent:f}}function e(b,a,c,d,g){var e=a===c.width?0:1,k=1-e,f=["x","y"],h=["width","height"],r=c[f[e]];a=a?b.area/a:0;if(g||a>c[h[k]])a=c[h[k]];g=0;for(var l=b.length;g<l;g++){var t=b[g],m={},v=a?t.getLayout().area/a:0,p=m[h[k]]=w(a-2*d,0),n=c[f[e]]+c[h[e]]-r,v=g===l-1||n<v?n:v,n=m[h[e]]=w(v-2*d,0);m[f[k]]=c[f[k]]+u(d,p/2);m[f[e]]=r+u(d,n/2);r+=v;t.setLayout(m,!0)}c[f[k]]+=a;c[h[k]]-=a}function b(b,a,c,d,e){var f=(a||{}).node;a=[d,e];if(!f||f===c)return a;c=d*e;for(var h=c*b.option.zoomToNodeRatio;b=f.parentNode;){for(var r=0,l=b.children,t=0,m=l.length;t<m;t++)r+=l[t].getValue();f=f.getValue();if(0===f)return a;h*=r/f;r=b.getModel();f=r.get(z);r=Math.max(f,g(r,f));h+=4*f*f+(3*f+r)*Math.pow(h,.5);h>k.MAX_SAFE_INTEGER&&(h=k.MAX_SAFE_INTEGER);f=b}h<c&&(h=c);a=Math.pow(h/c,.5);return[d*a,e*a]}function d(b,a,c){if(a)return{x:a.x,y:a.y};a={x:0,y:0};if(!c)return a;c=c.node;var d=c.getLayout();if(!d)return a;for(a=[d.width/2,d.height/2];c;)d=c.getLayout(),a[0]+=d.x,a[1]+=d.y,c=c.parentNode;return{x:b.width/2-a[0],y:b.height/2-a[1]}}function c(b,a,d,g,e){var k=b.getLayout(),f=d[e],h=f&&f===b;if(!(f&&!h||e===d.length&&b!==g)){b.setLayout({isInView:!0,invisible:!h&&!a.intersect(k),isAboveViewRoot:h},!0);var r=new x(a.x-k.x,a.y-k.y,a.width,a.height);E(b.viewChildren||[],function(b){c(b,r,d,g,e+1)})}}function g(b){return b.get(H)?b.get(F):0}var r=a(4),k=a(7),t=a(74),A=a(200),x=a(9),A=a(200),w=Math.max,u=Math.min,v=k.parsePercent,y=r.retrieve,E=r.each,z=["itemStyle","normal","borderWidth"],B=["itemStyle","normal","gapWidth"],H=["upperLabel","normal","show"],F=["upperLabel","normal","height"];q.exports=function(a,g,e){a.eachComponent({mainType:"series",subType:"treemap",query:e},function(a){var k=g.getWidth(),f=g.getHeight(),h=a.option,l=t.getLayoutRect(a.getBoxLayoutParams(),{width:g.getWidth(),height:g.getHeight()}),p=h.size||[],u=v(y(l.width,p[0]),k),w=v(y(l.height,p[1]),f),n=e&&e.type,p=A.retrieveTargetInfo(e,a),q="treemapRender"===n||"treemapMove"===n?e.rootRect:null,z=a.getViewRoot(),B=A.getPathToRoot(z);if("treemapMove"!==n){u="treemapZoomToNode"===n?b(a,p,z,u,w):q?[q.width,q.height]:[u,w];(w=h.sort)&&"asc"!==w&&"desc"!==w&&(w="desc");h={squareRatio:h.squareRatio,sort:w,leafDepth:h.leafDepth};z.hostTree.clearLayouts();var H={x:0,y:0,width:u[0],height:u[1],area:u[0]*u[1]};z.setLayout(H);m(z,h,!1,0);H=z.getLayout();E(B,function(b,a){var c=(B[a+1]||z).getValue();b.setLayout(r.extend({dataExtent:[c,c],borderWidth:0,upperHeight:0},H))})}h=a.getData().tree.root;h.setLayout(d(l,q,p),!0);a.setLayoutInfo(l);c(h,new x(-l.x,-l.y,k,f),B,z,0)})}},function(q,n,a){q=a(1);n=a(4);a(209);a(212);a(217);q.registerProcessor(a(218));q.registerVisual(n.curry(a(124),"graph","circle",null));q.registerVisual(a(219));q.registerVisual(a(220));q.registerLayout(a(221));q.registerLayout(a(224));q.registerLayout(a(226));q.registerCoordinateSystem("graphView",{create:a(228)})},function(q,n,a){var m=a(101),p=a(4),h=a(5),l=a(14),f=a(6),e=a(210),b=a(1).extendSeriesModel({type:"series.graph",init:function(a){b.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this.fillDataTextStyle(a.edges||a.links);this._updateCategoriesData()},mergeOption:function(a){b.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(a.edges||a.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(a){b.superApply(this,"mergeDefaultAndTheme",arguments);h.defaultEmphasis(a.edgeLabel,["show"])},getInitialData:function(b,a){function g(b,d){function g(b){return(b=this.parsePath(b))&&"label"===b[0]?k:this.parentModel}b.wrapMethod("getItemModel",function(b){var a=h._categoriesModels,c=b.getShallow("category");if(a=a[c])a.parentModel=b.parentModel,b.parentModel=a;return b});var e=h.getModel("edgeLabel"),k=new l({label:e.option},e.parentModel,a);d.wrapMethod("getItemModel",function(b){b.customizeGetParent(g);return b})}var f=b.edges||b.links||[],k=b.data||b.nodes||[],h=this;if(k&&f)return e(k,f,this,!0,g).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(a,c,g){if("edge"===g){var e=this.getData(),k=this.getDataParams(a,g),h=e.graph.getEdgeByIndex(a),l=e.getName(h.node1.dataIndex),e=e.getName(h.node2.dataIndex),h=[];null!=l&&h.push(l);null!=e&&h.push(e);h=f.encodeHTML(h.join(" \x3e "));k.value&&(h+=" : "+f.encodeHTML(k.value));return h}return b.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var b=p.map(this.option.categories||[],function(b){return null!=b.value?b:p.extend({value:0},b)}),a=new m(["value"],this);a.initData(b);this._categoriesData=a;this._categoriesModels=a.mapArray(function(b){return a.getItemModel(b,!0)})},setZoom:function(b){this.option.zoom=b},setCenter:function(b){this.option.center=b},isAnimationEnabled:function(){return b.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});q.exports=b},function(q,n,a){var m=a(101),p=a(211),h=a(199),l=a(113),f=a(79),e=a(4),b=a(112);q.exports=function(a,c,g,r,k){r=new p(r);for(var t=0;t<a.length;t++)r.addNode(e.retrieve(a[t].id,a[t].name,t),t);for(var n=[],x=[],w=0,t=0;t<c.length;t++){var u=c[t],v=u.source,q=u.target;r.addEdge(v,q,w)&&(x.push(u),n.push(e.retrieve(u.id,v+" \x3e "+q)),w++)}c=g.get("coordinateSystem");"cartesian2d"===c||"polar"===c?c=b(a,g,g.ecModel):(c=f.get(c),c=l((c&&"view"!==c.type?c.dimensions||[]:[]).concat(["value"]),a),c=new m(c,g),c.initData(a));a=new m(["value"],g);a.initData(x,n);k&&k(c,a);h({mainData:c,struct:r,structAttr:"graph",datas:{node:c,edge:a},datasAttr:{node:"data",edge:"edgeData"}});r.update();return r}},function(q,n,a){function m(a,f){this.id=null==a?"":a;this.inEdges=[];this.outEdges=[];this.edges=[];this.dataIndex=null==f?-1:f}function p(a,f,e){this.node1=a;this.node2=f;this.dataIndex=null==e?-1:e}n=a(4);var h=function(a){this._directed=a||!1;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={}};a=h.prototype;a.type="graph";a.isDirected=function(){return this._directed};a.addNode=function(a,f){a=a||""+f;var e=this._nodesMap;if(e["_EC_"+a])console.error("Graph nodes have duplicate name or id");else{var b=new m(a,f);b.hostGraph=this;this.nodes.push(b);return e["_EC_"+a]=b}};a.getNodeByIndex=function(a){a=this.data.getRawIndex(a);return this.nodes[a]};a.getNodeById=function(a){return this._nodesMap["_EC_"+a]};a.addEdge=function(a,f,e){var b=this._nodesMap,d=this._edgesMap;"number"===typeof a&&(a=this.nodes[a]);"number"===typeof f&&(f=this.nodes[f]);a instanceof m||(a=b["_EC_"+a]);f instanceof m||(f=b["_EC_"+f]);if(a&&f&&(b=a.id+"-"+f.id,!d[b]))return e=new p(a,f,e),e.hostGraph=this,this._directed&&(a.outEdges.push(e),f.inEdges.push(e)),a.edges.push(e),a!==f&&f.edges.push(e),this.edges.push(e),d[b]=e};a.getEdgeByIndex=function(a){a=this.edgeData.getRawIndex(a);return this.edges[a]};a.getEdge=function(a,f){a instanceof m&&(a=a.id);f instanceof m&&(f=f.id);var e=this._edgesMap;return this._directed?e[a+"-"+f]:e[a+"-"+f]||e[f+"-"+a]};a.eachNode=function(a,f){for(var e=this.nodes,b=e.length,d=0;d<b;d++)0<=e[d].dataIndex&&a.call(f,e[d],d)};a.eachEdge=function(a,f){for(var e=this.edges,b=e.length,d=0;d<b;d++)0<=e[d].dataIndex&&0<=e[d].node1.dataIndex&&0<=e[d].node2.dataIndex&&a.call(f,e[d],d)};a.breadthFirstTraverse=function(a,f,e,b){f instanceof m||(f=this._nodesMap["_EC_"+f]);if(f){e="out"===e?"outEdges":"in"===e?"inEdges":"edges";for(var d=0;d<this.nodes.length;d++)this.nodes[d].__visited=!1;if(!a.call(b,f,null))for(f=[f];f.length;)for(var c=f.shift(),g=c[e],d=0;d<g.length;d++){var h=g[d],h=h.node1===c?h.node2:h.node1;if(!h.__visited){if(a.call(b,h,c))return;f.push(h);h.__visited=!0}}}};a.update=function(){for(var a=this.data,f=this.edgeData,e=this.nodes,b=this.edges,d=0,c=e.length;d<c;d++)e[d].dataIndex=-1;d=0;for(c=a.count();d<c;d++)e[a.getRawIndex(d)].dataIndex=d;f.filterSelf(function(a){a=b[f.getRawIndex(a)];return 0<=a.node1.dataIndex&&0<=a.node2.dataIndex});d=0;for(c=b.length;d<c;d++)b[d].dataIndex=-1;d=0;for(c=f.count();d<c;d++)b[f.getRawIndex(d)].dataIndex=d};a.clone=function(){for(var a=new h(this._directed),f=this.nodes,e=this.edges,b=0;b<f.length;b++)a.addNode(f[b].id,f[b].dataIndex);for(b=0;b<e.length;b++)f=e[b],a.addEdge(f.node1.id,f.node2.id,f.dataIndex);return a};m.prototype={constructor:m,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(a){if(!(0>this.dataIndex))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(a)}};p.prototype.getModel=function(a){if(!(0>this.dataIndex))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(a)};a=function(a,f){return{getValue:function(e){var b=this[a][f];return b.get(b.getDimension(e||"value"),this.dataIndex)},setVisual:function(e,b){0<=this.dataIndex&&this[a][f].setItemVisual(this.dataIndex,e,b)},getVisual:function(e,b){return this[a][f].getItemVisual(this.dataIndex,e,b)},setLayout:function(e,b){0<=this.dataIndex&&this[a][f].setItemLayout(this.dataIndex,e,b)},getLayout:function(){return this[a][f].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][f].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][f].getRawIndex(this.dataIndex)}}};n.mixin(m,a("hostGraph","data"));n.mixin(p,a("hostGraph","edgeData"));h.Node=m;h.Edge=p;q.exports=h},function(q,n,a){function m(b,a){return b.getVisual("opacity")||b.getModel().get(a)}var p=a(119),h=a(213),l=a(186),f=a(188),e=a(189),b=a(20),d=a(216),c=a(4),g=["itemStyle","normal","opacity"],r=["lineStyle","normal","opacity"];a(1).extendChartView({type:"graph",init:function(b,a){var c=new p,d=new h,g=this.group;this._controller=new l(a.getZr());this._controllerHost={target:g};g.add(c.group);g.add(d.group);this._symbolDraw=c;this._lineDraw=d;this._firstRender=!0},render:function(a,c,g){var e=a.coordinateSystem;this._model=a;this._nodeScaleRatio=a.get("nodeScaleRatio");var f=this._symbolDraw,h=this._lineDraw,r=this.group;"view"===e.type&&(e={position:e.position,scale:e.scale},this._firstRender?r.attr(e):b.updateProps(r,e,a));d(a.getGraph(),this._getNodeGlobalScale(a));var l=a.getData();f.updateData(l);f=a.getEdgeData();h.updateData(f);this._updateNodeAndLinkScale();this._updateController(a,c,g);clearTimeout(this._layoutTimeout);var m=a.forceLayout,p=a.get("force.layoutAnimation");m&&this._startForceLayoutIteration(m,p);l.eachItemGraphicEl(function(b,c){var d=l.getItemModel(c);b.off("drag").off("dragend");var e=l.getItemModel(c).get("draggable");if(e)b.on("drag",function(){m&&(m.warmUp(),!this._layouting&&this._startForceLayoutIteration(m,p),m.setFixed(c),l.setItemLayout(c,b.position))},this).on("dragend",function(){m&&m.setUnfixed(c)},this);b.setDraggable(e&&m);b.off("mouseover",b.__focusNodeAdjacency);b.off("mouseout",b.__unfocusNodeAdjacency);d.get("focusNodeAdjacency")&&(b.on("mouseover",b.__focusNodeAdjacency=function(){g.dispatchAction({type:"focusNodeAdjacency",seriesId:a.id,dataIndex:b.dataIndex})}),b.on("mouseout",b.__unfocusNodeAdjacency=function(){g.dispatchAction({type:"unfocusNodeAdjacency",seriesId:a.id})}))},this);var n="circular"===a.get("layout")&&a.get("circular.rotateLabel"),q=l.getLayout("cx"),F=l.getLayout("cy");l.eachItemGraphicEl(function(b,a){var c=b.getSymbolPath();if(n){var d=l.getItemLayout(a),g=Math.atan2(d[1]-F,d[0]-q);0>g&&(g=2*Math.PI+g);(d=d[0]<q)&&(g-=Math.PI);d=d?"left":"right";c.setStyle({textRotation:-g,textPosition:d,textOrigin:"center"});c.hoverStyle&&(c.hoverStyle.textPosition=d)}else c.setStyle({textRotation:0})});this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose();this._controllerHost={}},focusNodeAdjacency:function(b,a,d,e){function f(b,a){var c=m(b,a),d=b.getGraphicEl();null==c&&(c=1);d.traverse(function(b){b.trigger("normal");"group"!==b.type&&b.setStyle("opacity",.1*c)})}function h(b,a){var c=m(b,a);b.getGraphicEl().traverse(function(b){b.trigger("emphasis");"group"!==b.type&&b.setStyle("opacity",c)})}b=this._model.getData();e=e.dataIndex;if(a=b.getItemGraphicEl(e))b=b.graph,a=a.dataType,null!==e&&"edge"!==a&&(b.eachNode(function(b){f(b,g)}),b.eachEdge(function(b){f(b,r)}),e=b.getNodeByIndex(e),h(e,g),c.each(e.edges,function(b){0>b.dataIndex||(h(b,r),h(b.node1,g),h(b.node2,g))}))},unfocusNodeAdjacency:function(b,a,c,d){b=this._model.getData().graph;b.eachNode(function(b){var a=m(b,g);b.getGraphicEl().traverse(function(b){b.trigger("normal");"group"!==b.type&&b.setStyle("opacity",a)})});b.eachEdge(function(b){var a=m(b,r);b.getGraphicEl().traverse(function(b){b.trigger("normal");"group"!==b.type&&b.setStyle("opacity",a)})})},_startForceLayoutIteration:function(b,a){var c=this;(function w(){b.step(function(b){c.updateLayout(c._model);(c._layouting=!b)&&(a?c._layoutTimeout=setTimeout(w,16):w())})})()},_updateController:function(b,a,c){a=this._controller;var g=this._controllerHost,h=this.group;a.setPointerChecker(function(a,d,g){var f=h.getBoundingRect();f.applyTransform(h.transform);return f.contain(d,g)&&!e.onIrrelevantElement(a,c,b)});"view"!==b.coordinateSystem.type?a.disable():(a.enable(b.get("roam")),g.zoomLimit=b.get("scaleLimit"),g.zoom=b.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(a,d){f.updateViewOnPan(g,a,d);c.dispatchAction({seriesId:b.id,type:"graphRoam",dx:a,dy:d})}).on("zoom",function(a,e,h){f.updateViewOnZoom(g,a,e,h);c.dispatchAction({seriesId:b.id,type:"graphRoam",zoom:a,originX:e,originY:h});this._updateNodeAndLinkScale();d(b.getGraph(),this._getNodeGlobalScale(b));this._lineDraw.updateLayout()},this))},_updateNodeAndLinkScale:function(){var b=this._model,a=b.getData(),b=this._getNodeGlobalScale(b),c=[b,b];a.eachItemGraphicEl(function(b,a){b.attr("scale",c)})},_getNodeGlobalScale:function(b){b=b.coordinateSystem;if("view"!==b.type)return 1;var a=this._nodeScaleRatio,c=b.scale,c=c&&c[0]||1;return((b.getZoom()-1)*a+1)/c},updateLayout:function(b){d(b.getGraph(),this._getNodeGlobalScale(b));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(b,a){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}})},function(q,n,a){function m(a){return isNaN(a[0])||isNaN(a[1])}function p(a){return!m(a[0])&&!m(a[1])}function h(a){this._ctor=a||f;this.group=new l.Group}var l=a(20),f=a(214);n=h.prototype;n.updateData=function(a){var b=this._lineData,d=this.group,c=this._ctor,g=a.hostModel,f={lineStyle:g.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:g.getModel("lineStyle.emphasis").getLineStyle(),labelModel:g.getModel("label.normal"),hoverLabelModel:g.getModel("label.emphasis")};a.diff(b).add(function(b){if(p(a.getItemLayout(b))){var g=new c(a,b,f);a.setItemGraphicEl(b,g);d.add(g)}}).update(function(g,h){var l=b.getItemGraphicEl(h);p(a.getItemLayout(g))?(l?l.updateData(a,g,f):l=new c(a,g,f),a.setItemGraphicEl(g,l),d.add(l)):d.remove(l)}).remove(function(a){d.remove(b.getItemGraphicEl(a))}).execute();this._lineData=a};n.updateLayout=function(){var a=this._lineData;a.eachItemGraphicEl(function(b,d){b.updateLayout(a,d)},this)};n.remove=function(){this.group.removeAll()};q.exports=h},function(q,n,a){function m(b,a,d){var g=a.getItemVisual(d,"color"),e=a.getItemVisual(d,b);a=a.getItemVisual(d,b+"Size");if(e&&"none"!==e)return c.isArray(a)||(a=[a,a]),g=f.createSymbol(e,-a[0]/2,-a[1]/2,a[0],a[1],g),g.name=b,g}function p(a){var c=new b({name:"line"});h(c.shape,a);return c}function h(b,a){var c=a[0],d=a[1],g=a[2];b.x1=c[0];b.y1=c[1];b.x2=d[0];b.y2=d[1];b.percent=1;g?(b.cpx1=g[0],b.cpy1=g[1]):(b.cpx1=NaN,b.cpy1=NaN)}function l(b,a,c){d.Group.call(this);this._createLine(b,a,c)}var f=a(114),e=a(10),b=a(215),d=a(20),c=a(4),g=a(7),r=["fromSymbol","toSymbol"];n=l.prototype;n.beforeUpdate=function(){var b=this.childOfName("fromSymbol"),a=this.childOfName("toSymbol"),c=this.childOfName("label");if(b||a||!c.ignore){for(var d=1,g=this.parent;g;)g.scale&&(d/=g.scale[0]),g=g.parent;var f=this.childOfName("line");if(this.__dirty||f.__dirty){var h=f.shape.percent,g=f.pointAt(0),r=f.pointAt(h),l=e.sub([],r,g);e.normalize(l,l);if(b){b.attr("position",g);var m=f.tangentAt(0);b.attr("rotation",Math.PI/2-Math.atan2(m[1],m[0]));b.attr("scale",[d*h,d*h])}a&&(a.attr("position",r),m=f.tangentAt(1),a.attr("rotation",-Math.PI/2-Math.atan2(m[1],m[0])),a.attr("scale",[d*h,d*h]));c.ignore||(c.attr("position",r),b=5*d,"end"===c.__position?(f=[l[0]*b+r[0],l[1]*b+r[1]],b=.8<l[0]?"left":-.8>l[0]?"right":"center",l=.8<l[1]?"top":-.8>l[1]?"bottom":"middle"):"middle"===c.__position?(a=h/2,m=f.tangentAt(a),l=[m[1],-m[0]],f=f.pointAt(a),0<l[1]&&(l[0]=-l[0],l[1]=-l[1]),f=[f[0]+l[0]*b,f[1]+l[1]*b],b="center",l="bottom",m=-Math.atan2(m[1],m[0]),r[0]<g[0]&&(m=Math.PI+m),c.attr("rotation",m)):(f=[-l[0]*b+g[0],-l[1]*b+g[1]],b=.8<l[0]?"right":-.8>l[0]?"left":"center",l=.8<l[1]?"bottom":-.8>l[1]?"top":"middle"),c.attr({style:{textVerticalAlign:c.__verticalAlign||l,textAlign:c.__textAlign||b},position:f,scale:[d,d]}))}}};n._createLine=function(b,a,g){var e=b.hostModel,f=b.getItemLayout(a),f=p(f);f.shape.percent=0;d.initProps(f,{shape:{percent:1}},e,a);this.add(f);e=new d.Text({name:"label"});this.add(e);c.each(r,function(c){var d=m(c,b,a);this.add(d);this["_"+c+"Type"]=b.getItemVisual(a,c)},this);this._updateCommonStl(b,a,g)};n.updateData=function(b,a,g){var e=b.hostModel,f=this.childOfName("line"),l=b.getItemLayout(a),p={shape:{}};h(p.shape,l);d.updateProps(f,p,e,a);c.each(r,function(c){var d=b.getItemVisual(a,c),g="_"+c+"Type";this[g]!==d&&(this.remove(this.childOfName(c)),c=m(c,b,a),this.add(c));this[g]=d},this);this._updateCommonStl(b,a,g)};n._updateCommonStl=function(b,a,e){var f=b.hostModel,h=this.childOfName("line"),l=e&&e.lineStyle,m=e&&e.hoverLineStyle,p=e&&e.labelModel,n=e&&e.hoverLabelModel;if(!e||b.hasItemOption)n=b.getItemModel(a),l=n.getModel("lineStyle.normal").getLineStyle(),m=n.getModel("lineStyle.emphasis").getLineStyle(),p=n.getModel("label.normal"),n=n.getModel("label.emphasis");var q=b.getItemVisual(a,"color"),B=c.retrieve3(b.getItemVisual(a,"opacity"),l.opacity,1);h.useStyle(c.defaults({strokeNoScale:!0,fill:"none",stroke:q,opacity:B},l));h.hoverStyle=m;c.each(r,function(b){if(b=this.childOfName(b))b.setColor(q),b.setStyle({opacity:B})},this);var h=p.getShallow("show"),l=n.getShallow("show"),m=this.childOfName("label"),H,F;if(h||l)H=f.getRawValue(a),F=null==H?F=b.getName(a):isFinite(H)?g.round(H):H,H=q||"#000";h?(H=d.setTextStyle(m.style,p,{text:c.retrieve2(f.getFormattedLabel(a,"normal",b.dataType),F)},{defaultTextColor:H,autoColor:H}),m.__textAlign=H.textAlign,m.__verticalAlign=H.textVerticalAlign,m.__position=p.get("position")||"middle"):m.setStyle("text",null);m.hoverStyle=l?{text:c.retrieve2(f.getFormattedLabel(a,"emphasis",b.dataType),F),textFill:n.getTextColor(!0),fontStyle:n.getShallow("fontStyle"),fontWeight:n.getShallow("fontWeight"),fontSize:n.getShallow("fontSize"),fontFamily:n.getShallow("fontFamily")}:{text:null};m.ignore=!h&&!l;d.setHoverStyle(this)};n.updateLayout=function(b,a){this.setLinePoints(b.getItemLayout(a))};n.setLinePoints=function(b){var a=this.childOfName("line");h(a.shape,b);a.dirty()};c.inherits(l,d.Group);q.exports=l},function(q,n,a){function m(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}n=a(20);var p=a(10),h=n.Line.prototype,l=n.BezierCurve.prototype;q.exports=n.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,e){(m(e)?h:l).buildPath(a,e)},pointAt:function(a){return m(this.shape)?h.pointAt.call(this,a):l.pointAt.call(this,a)},tangentAt:function(a){var e=this.shape;a=m(e)?[e.x2-e.x1,e.y2-e.y1]:l.tangentAt.call(this,a);return p.normalize(a,a)}})},function(q,n,a){function m(a,h,k){var t=a[0],m=a[1];a=a[2];var p=Infinity,n;k*=k;for(var u=.1,v=.1;.9>=v;v+=.1){l[0]=b(t[0],m[0],a[0],v);l[1]=b(t[1],m[1],a[1],v);var q=c(d(l,h)-k);q<p&&(p=q,n=v)}for(p=0;32>p;p++){q=n+u;f[0]=b(t[0],m[0],a[0],n);f[1]=b(t[1],m[1],a[1],n);e[0]=b(t[0],m[0],a[0],q);e[1]=b(t[1],m[1],a[1],q);q=d(f,h)-k;if(.01>c(q))break;v=d(e,h)-k;u/=2;n=0>q?0<=v?n+u:n-u:0<=v?n-u:n+u}return n}var p=a(40),h=a(10),l=[],f=[],e=[],b=p.quadraticAt,d=h.distSquare,c=Math.abs;q.exports=function(b,a){function c(b){b=b.getVisual("symbolSize");b instanceof Array&&(b=(b[0]+b[1])/2);return b}var d=[],e=p.quadraticSubdivide,f=[[],[],[]],l=[[],[]],u=[];a/=2;b.eachEdge(function(b,g){var p=b.getLayout(),n=b.getVisual("fromSymbol"),q=b.getVisual("toSymbol");p.__original||(p.__original=[h.clone(p[0]),h.clone(p[1])],p[2]&&p.__original.push(h.clone(p[2])));var H=p.__original;null!=p[2]?(h.copy(f[0],H[0]),h.copy(f[1],H[2]),h.copy(f[2],H[1]),n&&"none"!=n&&(n=c(b.node1),n=m(f,H[0],n*a),e(f[0][0],f[1][0],f[2][0],n,d),f[0][0]=d[3],f[1][0]=d[4],e(f[0][1],f[1][1],f[2][1],n,d),f[0][1]=d[3],f[1][1]=d[4]),q&&"none"!=q&&(n=c(b.node2),n=m(f,H[1],n*a),e(f[0][0],f[1][0],f[2][0],n,d),f[1][0]=d[1],f[2][0]=d[2],e(f[0][1],f[1][1],f[2][1],n,d),f[1][1]=d[1],f[2][1]=d[2]),h.copy(p[0],f[0]),h.copy(p[1],f[2]),h.copy(p[2],f[1])):(h.copy(l[0],H[0]),h.copy(l[1],H[1]),h.sub(u,l[1],l[0]),h.normalize(u,u),n&&"none"!=n&&(n=c(b.node1),h.scaleAndAdd(l[0],l[0],u,n*a)),q&&"none"!=q&&(n=c(b.node2),h.scaleAndAdd(l[1],l[1],u,-n*a)),h.copy(p[0],l[0]),h.copy(p[1],l[1]))})}},function(q,n,a){q=a(1);var m=a(191);q.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(a,h){h.eachComponent({mainType:"series",query:a},function(h){var f=m.updateCenterAndZoom(h.coordinateSystem,a);h.setCenter&&h.setCenter(f.center);h.setZoom&&h.setZoom(f.zoom)})});q.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){});q.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){})},function(q,n){q.exports=function(a){var m=a.findComponents({mainType:"legend"});m&&m.length&&a.eachSeriesByType("graph",function(a){var h=a.getCategoriesData(),l=a.getGraph().data,f=h.mapArray(h.getName);l.filterSelf(function(a){a=l.getItemModel(a).getShallow("category");if(null!=a){"number"===typeof a&&(a=f[a]);for(var b=0;b<m.length;b++)if(!m[b].isSelected(a))return!1}return!0})},this)}},function(q,n){q.exports=function(a){var m={};a.eachSeriesByType("graph",function(a){var h=a.getCategoriesData(),l=a.getData(),f={};h.each(function(e){var b=h.getName(e);f["ec-"+b]=e;b=h.getItemModel(e).get("itemStyle.normal.color")||a.getColorFromPalette(b,m);h.setItemVisual(e,"color",b)});h.count()&&l.each(function(a){var b=l.getItemModel(a).getShallow("category");null!=b&&("string"===typeof b&&(b=f["ec-"+b]),l.getItemVisual(a,"color",!0)||l.setItemVisual(a,"color",h.getItemVisual(b,"color")))})})}},function(q,n){function a(a){a instanceof Array||(a=[a,a]);return a}q.exports=function(m){m.eachSeriesByType("graph",function(m){var h=m.getGraph(),l=m.getEdgeData(),f=a(m.get("edgeSymbol")),e=a(m.get("edgeSymbolSize")),b=["lineStyle","normal","color"],d=["lineStyle","normal","opacity"];l.setVisual("fromSymbol",f&&f[0]);l.setVisual("toSymbol",f&&f[1]);l.setVisual("fromSymbolSize",e&&e[0]);l.setVisual("toSymbolSize",e&&e[1]);l.setVisual("color",m.get(b));l.setVisual("opacity",m.get(d));l.each(function(c){var g=l.getItemModel(c);c=h.getEdgeByIndex(c);var e=a(g.getShallow("symbol",!0)),f=a(g.getShallow("symbolSize",!0)),t=g.get(b),g=g.get(d);switch(t){case "source":t=c.node1.getVisual("color");break;case "target":t=c.node2.getVisual("color")}e[0]&&c.setVisual("fromSymbol",e[0]);e[1]&&c.setVisual("toSymbol",e[1]);f[0]&&c.setVisual("fromSymbolSize",f[0]);f[1]&&c.setVisual("toSymbolSize",f[1]);c.setVisual("color",t);c.setVisual("opacity",g)})})}},function(q,n,a){var m=a(222),p=a(223);q.exports=function(a,l){a.eachSeriesByType("graph",function(a){var e=a.get("layout"),b=a.coordinateSystem;if(b&&"view"!==b.type){var d=a.getData(),c=b.dimensions;d.each(c,function(){for(var a,e=arguments,f=[],h=0;h<c.length;h++)isNaN(e[h])||(a=!0),f.push(e[h]);e=e[e.length-1];a?d.setItemLayout(e,b.dataToPoint(f)):d.setItemLayout(e,[NaN,NaN])});p(d.graph)}else e&&"none"!==e||m(a)})}},function(q,n,a){var m=a(223);q.exports=function(a){var h=a.coordinateSystem;h&&"view"!==h.type||(a=a.getGraph(),a.eachNode(function(a){var f=a.getModel();a.setLayout([+f.get("x"),+f.get("y")])}),m(a))}},function(q,n,a){var m=a(10);q.exports=function(a){a.eachEdge(function(a){var l=a.getModel().get("lineStyle.normal.curveness")||0,f=m.clone(a.node1.getLayout()),e=m.clone(a.node2.getLayout()),b=[f,e];+l&&b.push([(f[0]+e[0])/2-(f[1]-e[1])*l,(f[1]+e[1])/2-(e[0]-f[0])*l]);a.setLayout(b)})}},function(q,n,a){var m=a(225);q.exports=function(a){a.eachSeriesByType("graph",function(a){"circular"===a.get("layout")&&m(a)})}},function(q,n,a){var m=a(10);q.exports=function(a){var h=a.coordinateSystem;if(!h||"view"===h.type){h=h.getBoundingRect();a=a.getData();var l=a.graph,f=0,e=a.getSum("value"),b=2*Math.PI/(e||a.count()),d=h.width/2+h.x,c=h.height/2+h.y,g=Math.min(h.width,h.height)/2;l.eachNode(function(a){var k=a.getValue("value");f+=b*(e?k:1)/2;a.setLayout([g*Math.cos(f)+d,g*Math.sin(f)+c]);f+=b*(e?k:1)/2});a.setLayout({cx:d,cy:c});l.eachEdge(function(a){var b=a.getModel().get("lineStyle.normal.curveness")||0,g=m.clone(a.node1.getLayout()),e=m.clone(a.node2.getLayout()),f,h=(g[0]+e[0])/2,l=(g[1]+e[1])/2;+b&&(b*=3,f=[d*b+h*(1-b),c*b+l*(1-b)]);a.setLayout([g,e,f])})}}},function(q,n,a){var m=a(227),p=a(7),h=a(222),l=a(225),f=a(10),e=a(4);q.exports=function(a){a.eachSeriesByType("graph",function(a){var b=a.coordinateSystem;if(!b||"view"===b.type)if("force"===a.get("layout")){var g=a.preservedPoints||{},r=a.getGraph(),k=r.data,t=r.edgeData,n=a.getModel("force"),b=n.get("initLayout");a.preservedPoints?k.each(function(a){var b=k.getId(a);k.setItemLayout(a,g[b]||[NaN,NaN])}):b&&"none"!==b?"circular"===b&&l(a):h(a);var x=k.getDataExtent("value"),w=t.getDataExtent("value"),u=n.get("repulsion"),v=n.get("edgeLength");e.isArray(u)||(u=[u,u]);e.isArray(v)||(v=[v,v]);var v=[v[1],v[0]],q=k.mapArray("value",function(a,b){var c=k.getItemLayout(b),d=p.linearMap(a,x,u);isNaN(d)&&(d=(u[0]+u[1])/2);return{w:d,rep:d,fixed:k.getItemModel(b).get("fixed"),p:!c||isNaN(c[0])||isNaN(c[1])?null:c}}),t=t.mapArray("value",function(a,b){var c=r.getEdgeByIndex(b),d=p.linearMap(a,w,v);isNaN(d)&&(d=(v[0]+v[1])/2);return{n1:q[c.node1.dataIndex],n2:q[c.node2.dataIndex],d:d,curveness:c.getModel().get("lineStyle.normal.curveness")||0}}),b=a.coordinateSystem,b=b.getBoundingRect(),n=m(q,t,{rect:b,gravity:n.get("gravity")}),E=n.step;n.step=function(a){for(var b=0,c=q.length;b<c;b++)q[b].fixed&&f.copy(q[b].p,r.getNodeByIndex(b).getLayout());E(function(b,c,d){for(var e=0,h=b.length;e<h;e++)b[e].fixed||r.getNodeByIndex(e).setLayout(b[e].p),g[k.getId(e)]=b[e].p;e=0;for(h=c.length;e<h;e++){b=c[e];var l=r.getEdgeByIndex(e),t=b.n1.p,m=b.n2.p,p=l.getLayout(),p=p?p.slice():[];p[0]=p[0]||[];p[1]=p[1]||[];f.copy(p[0],t);f.copy(p[1],m);+b.curveness&&(p[2]=[(t[0]+m[0])/2-(t[1]-m[1])*b.curveness,(t[1]+m[1])/2-(m[0]-t[0])*b.curveness]);l.setLayout(p)}a&&a(d)})};a.forceLayout=n;a.preservedPoints=g;n.step()}else a.forceLayout=null})}},function(q,n,a){var m=a(10),p=m.scaleAndAdd;q.exports=function(a,l,f){var e=f.rect,b=e.width,d=e.height,c=[e.x+b/2,e.y+d/2],g=null==f.gravity?.1:f.gravity;for(f=0;f<a.length;f++)e=a[f],e.p||(e.p=m.create(b*(Math.random()-.5)+c[0],d*(Math.random()-.5)+c[1])),e.pp=m.clone(e.p),e.edges=null;var r=.6;return{warmUp:function(){r=.5},setFixed:function(b){a[b].fixed=!0},setUnfixed:function(b){a[b].fixed=!1},step:function(b){for(var d=[],e=a.length,f=0;f<l.length;f++){var n=l[f],u=n.n1,v=n.n2;m.sub(d,v.p,u.p);var n=m.len(d)-n.d,q=v.w/(u.w+v.w);m.normalize(d,d);!u.fixed&&p(u.p,u.p,d,q*n*r);!v.fixed&&p(v.p,v.p,d,-(1-q)*n*r)}for(f=0;f<e;f++)u=a[f],u.fixed||(m.sub(d,c,u.p),m.scaleAndAdd(u.p,u.p,d,g*r));for(f=0;f<e;f++)for(u=a[f],q=f+1;q<e;q++)v=a[q],m.sub(d,v.p,u.p),n=m.len(d),0===n&&(m.set(d,Math.random()-.5,Math.random()-.5),n=1),n=(u.rep+v.rep)/n/n,!u.fixed&&p(u.pp,u.pp,d,n),!v.fixed&&p(v.pp,v.pp,d,-n);d=[];for(f=0;f<e;f++)u=a[f],u.fixed||(m.sub(d,u.p,u.pp),m.scaleAndAdd(u.p,u.p,d,r),m.copy(u.pp,u.p));r*=.992;b&&b(a,l,.01>r)}}}},function(q,n,a){function m(a,e,b){a=a.getBoxLayoutParams();a.aspect=b;return h.getLayoutRect(a,{width:e.getWidth(),height:e.getHeight()})}var p=a(179),h=a(74),l=a(41);q.exports=function(a,e){var b=[];a.eachSeriesByType("graph",function(a){var c=a.get("coordinateSystem");if(!c||"view"===c){var g=a.getData(),f=g.mapArray(function(a){a=g.getItemModel(a);return[+a.get("x"),+a.get("y")]}),c=[],k=[];l.fromPoints(f,c,k);0===k[0]-c[0]&&(k[0]+=1,--c[0]);0===k[1]-c[1]&&(k[1]+=1,--c[1]);var h=(k[0]-c[0])/(k[1]-c[1]),f=m(a,e,h);isNaN(h)&&(c=[f.x,f.y],k=[f.x+f.width,f.y+f.height]);var h=k[0]-c[0],k=k[1]-c[1],n=f.width,x=f.height,w=a.coordinateSystem=new p;w.zoomLimit=a.get("scaleLimit");w.setBoundingRect(c[0],c[1],h,k);w.setViewRect(f.x,f.y,n,x);w.setCenter(a.get("center"));w.setZoom(a.get("zoom"));b.push(w)}});return b}},function(q,n,a){a(230);a(231)},function(q,n,a){var m=a(101);n=a(81);var p=a(4);a=n.extend({type:"series.gauge",getInitialData:function(a,l){var f=new m(["value"],this),e=a.data||[];p.isArray(e)||(e=[e]);f.initData(e);return f},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});q.exports=a},function(q,n,a){function m(a,d){d&&("string"===typeof d?a=d.replace("{value}",null!=a?a:""):"function"===typeof d&&(a=d(a)));return a}var p=a(232),h=a(20),l=a(7),f=l.parsePercent,e=2*Math.PI;n=a(83).extend({type:"gauge",render:function(a,d,c){this.group.removeAll();var g=a.get("axisLine.lineStyle.color"),e=a.get("center"),k=c.getWidth(),h=c.getHeight(),h=Math.min(k,h),k=f(e[0],c.getWidth()),e=f(e[1],c.getHeight()),h=f(a.get("radius"),h/2);this._renderMain(a,d,c,g,{cx:k,cy:e,r:h})},dispose:function(){},_renderMain:function(a,d,c,g,f){for(var k=this.group,l=a.getModel("axisLine").getModel("lineStyle"),m=a.get("clockwise"),p=-a.get("startAngle")/180*Math.PI,n=-a.get("endAngle")/180*Math.PI,u=(n-p)%e,v=p,q=l.get("width"),E=0;E<g.length;E++)n=p+u*Math.min(Math.max(g[E][0],0),1),v=new h.Sector({shape:{startAngle:v,endAngle:n,cx:f.cx,cy:f.cy,clockwise:m,r0:f.r-q,r:f.r},silent:!0}),v.setStyle({fill:g[E][1]}),v.setStyle(l.getLineStyle(["color","borderWidth","borderColor"])),k.add(v),v=n;k=function(a){if(0>=a)return g[0][1];for(var b=0;b<g.length;b++)if(g[b][0]>=a&&(0===b?0:g[b-1][0])<a)return g[b][1];return g[b-1][1]};m||(l=p,p=n,n=l);this._renderTicks(a,d,c,k,f,p,n,m);this._renderPointer(a,d,c,k,f,p,n,m);this._renderTitle(a,d,c,k,f);this._renderDetail(a,d,c,k,f)},_renderTicks:function(a,d,c,g,e,k,t,p){d=this.group;c=e.cx;p=e.cy;e=e.r;var n=+a.get("min"),w=+a.get("max"),u=a.getModel("splitLine"),v=a.getModel("axisTick"),q=a.getModel("axisLabel");a=a.get("splitNumber");var E=v.get("splitNumber"),z=f(u.get("length"),e),B=f(v.get("length"),e),H=k;k=(t-k)/a;t=k/E;for(var F=u.getModel("lineStyle").getLineStyle(),D=v.getModel("lineStyle").getLineStyle(),C=0;C<=a;C++){var I=Math.cos(H),J=Math.sin(H);if(u.get("show")){var L=new h.Line({shape:{x1:I*e+c,y1:J*e+p,x2:I*(e-z)+c,y2:J*(e-z)+p},style:F,silent:!0});"auto"===F.stroke&&L.setStyle({stroke:g(C/a)});d.add(L)}if(q.get("show")){var L=m(l.round(C/a*(w-n)+n),q.get("formatter")),N=q.get("distance"),O=g(C/a);d.add(new h.Text({style:h.setTextStyle({},q,{text:L,x:I*(e-z-N)+c,y:J*(e-z-N)+p,textVerticalAlign:-.4>J?"top":.4<J?"bottom":"middle",textAlign:-.4>I?"left":.4<I?"right":"center"},{autoColor:O}),silent:!0}))}if(v.get("show")&&C!==a){for(L=0;L<=E;L++)I=Math.cos(H),J=Math.sin(H),I=new h.Line({shape:{x1:I*e+c,y1:J*e+p,x2:I*(e-B)+c,y2:J*(e-B)+p},silent:!0,style:D}),"auto"===D.stroke&&I.setStyle({stroke:g((C+L/E)/a)}),d.add(I),H+=t;H-=t}else H+=k}},_renderPointer:function(a,d,c,g,e,k,t,m){var n=this.group,w=this._data;if(a.get("pointer.show")){var u=[+a.get("min"),+a.get("max")],v=[k,t],q=a.getData();q.diff(w).add(function(c){var d=new p({shape:{angle:k}});h.initProps(d,{shape:{angle:l.linearMap(q.get("value",c),u,v,!0)}},a);n.add(d);q.setItemGraphicEl(c,d)}).update(function(c,d){var g=w.getItemGraphicEl(d);h.updateProps(g,{shape:{angle:l.linearMap(q.get("value",c),u,v,!0)}},a);n.add(g);q.setItemGraphicEl(c,g)}).remove(function(a){a=w.getItemGraphicEl(a);n.remove(a)}).execute();q.eachItemGraphicEl(function(a,b){var c=q.getItemModel(b),d=c.getModel("pointer");a.setShape({x:e.cx,y:e.cy,width:f(d.get("width"),e.r),r:f(d.get("length"),e.r)});a.useStyle(c.getModel("itemStyle.normal").getItemStyle());"auto"===a.style.fill&&a.setStyle("fill",g(l.linearMap(q.get("value",b),u,[0,1],!0)));h.setHoverStyle(a,c.getModel("itemStyle.emphasis").getItemStyle())});this._data=q}else w&&w.eachItemGraphicEl(function(a){n.remove(a)})},_renderTitle:function(a,d,c,g,e){d=a.getModel("title");if(d.get("show")){var k=d.get("offsetCenter");c=e.cx+f(k[0],e.r);e=e.cy+f(k[1],e.r);var k=+a.get("min"),t=+a.get("max"),m=a.getData().get("value",0);g=g(l.linearMap(m,[k,t],[0,1],!0));this.group.add(new h.Text({silent:!0,style:h.setTextStyle({},d,{x:c,y:e,text:a.getData().getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:g,forceRich:!0})}))}},_renderDetail:function(a,d,c,g,e){d=a.getModel("detail");var k=+a.get("min"),t=+a.get("max");if(d.get("show")){var p=d.get("offsetCenter");c=e.cx+f(p[0],e.r);var p=e.cy+f(p[1],e.r),n=f(d.get("width"),e.r);e=f(d.get("height"),e.r);a=a.getData().get("value",0);g=g(l.linearMap(a,[k,t],[0,1],!0));this.group.add(new h.Text({silent:!0,style:h.setTextStyle({},d,{x:c,y:p,text:m(a,d.get("formatter")),textWidth:isNaN(n)?null:n,textHeight:isNaN(e)?null:e,textAlign:"center",textVerticalAlign:"middle"},{autoColor:g,forceRich:!0})}))}}});q.exports=n},function(q,n,a){q.exports=a(22).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(a,p){var h=Math.cos,l=Math.sin,f=p.r,e=p.width,b=p.angle,d=p.x-h(b)*e*(e>=f/3?1:2),c=p.y-l(b)*e*(e>=f/3?1:2),b=p.angle-Math.PI/2;a.moveTo(d,c);a.lineTo(p.x+h(b)*e,p.y+l(b)*e);a.lineTo(p.x+h(p.angle)*f,p.y+l(p.angle)*f);a.lineTo(p.x-h(b)*e,p.y-l(b)*e);a.lineTo(d,c)}})},function(q,n,a){q=a(4);n=a(1);a(234);a(235);n.registerVisual(q.curry(a(154),"funnel"));n.registerLayout(a(236));n.registerProcessor(q.curry(a(157),"funnel"))},function(q,n,a){var m=a(101),p=a(5),h=a(113),l=a(1).extendSeriesModel({type:"series.funnel",init:function(a){l.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this._defaultLabelLine(a)},getInitialData:function(a,e){var b=h(["value"],a.data),b=new m(b,this);b.initData(a.data);return b},_defaultLabelLine:function(a){p.defaultEmphasis(a.labelLine,["show"]);var e=a.labelLine.normal,b=a.labelLine.emphasis;e.show=e.show&&a.label.normal.show;b.show=b.show&&a.label.emphasis.show},getDataParams:function(a){var e=this.getData(),b=l.superCall(this,"getDataParams",a),d=e.getSum("value");b.percent=d?+(e.get("value",a)/d*100).toFixed(2):0;b.$vars.push("percent");return b},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});q.exports=l},function(q,n,a){function m(a,e){function b(){g.ignore=g.hoverIgnore;h.ignore=h.hoverIgnore}function d(){g.ignore=g.normalIgnore;h.ignore=h.normalIgnore}p.Group.call(this);var c=new p.Polygon,g=new p.Polyline,h=new p.Text;this.add(c);this.add(g);this.add(h);this.updateData(a,e,!0);this.on("emphasis",b).on("normal",d).on("mouseover",b).on("mouseout",d)}var p=a(20),h=a(4);n=m.prototype;var l=["itemStyle","normal","opacity"];n.updateData=function(a,e,b){var d=this.childAt(0),c=a.hostModel,g=a.getItemModel(e),r=a.getItemLayout(e),k=a.getItemModel(e).get(l),k=null==k?1:k;d.useStyle({});b?(d.setShape({points:r.points}),d.setStyle({opacity:0}),p.initProps(d,{style:{opacity:k}},c,e)):p.updateProps(d,{style:{opacity:k},shape:{points:r.points}},c,e);b=g.getModel("itemStyle");c=a.getItemVisual(e,"color");d.setStyle(h.defaults({lineJoin:"round",fill:c},b.getModel("normal").getItemStyle(["opacity"])));d.hoverStyle=b.getModel("emphasis").getItemStyle();this._updateLabel(a,e);p.setHoverStyle(this)};n._updateLabel=function(a,e){var b=this.childAt(1),d=this.childAt(2),c=a.hostModel,g=a.getItemModel(e),l=a.getItemLayout(e).label,k=a.getItemVisual(e,"color");p.updateProps(b,{shape:{points:l.linePoints||l.linePoints}},c,e);p.updateProps(d,{style:{x:l.x,y:l.y}},c,e);d.attr({rotation:l.rotation,origin:[l.x,l.y],z2:10});var c=g.getModel("label.normal"),t=g.getModel("label.emphasis"),m=g.getModel("labelLine.normal"),g=g.getModel("labelLine.emphasis"),k=a.getItemVisual(e,"color");p.setTextStyle(d.style,c,{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign,text:h.retrieve(a.hostModel.getFormattedLabel(e,"normal"),a.getName(e))},{defaultTextColor:k,autoColor:k,checkInside:function(a,b){return l.inside}});d.ignore=d.normalIgnore=!c.get("show");d.hoverIgnore=!t.get("show");b.ignore=b.normalIgnore=!m.get("show");b.hoverIgnore=!g.get("show");b.setStyle({stroke:k});b.setStyle(m.getModel("lineStyle").getLineStyle());d.hoverStyle=p.setTextStyle({},t,{text:a.hostModel.getFormattedLabel(e,"emphasis")},{forMerge:!0});b.hoverStyle=g.getModel("lineStyle").getLineStyle()};h.inherits(m,p.Group);a=a(83).extend({type:"funnel",render:function(a,e,b){var d=a.getData(),c=this._data,g=this.group;d.diff(c).add(function(a){var b=new m(d,a);d.setItemGraphicEl(a,b);g.add(b)}).update(function(a,b){var e=c.getItemGraphicEl(b);e.updateData(d,a);g.add(e);d.setItemGraphicEl(a,e)}).remove(function(a){a=c.getItemGraphicEl(a);g.remove(a)}).execute();this._data=d},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});q.exports=a},function(q,n,a){function m(a,d){return l.getLayoutRect(a.getBoxLayoutParams(),{width:d.getWidth(),height:d.getHeight()})}function p(a,d){for(var c=a.mapArray("value",function(a){return a}),g=[],e="ascending"===d,f=0,h=a.count();f<h;f++)g[f]=f;"function"===typeof d?g.sort(d):"none"!==d&&g.sort(function(a,b){return e?c[a]-c[b]:c[b]-c[a]});return g}function h(a){a.each(function(d){var c=a.getItemModel(d),g=c.getModel("label.normal").get("position"),e=c.getModel("labelLine.normal");d=a.getItemLayout(d);var f=d.points,c="inner"===g||"inside"===g||"center"===g,h;if(c)g=(f[0][0]+f[1][0]+f[2][0]+f[3][0])/4,h=(f[0][1]+f[1][1]+f[2][1]+f[3][1])/4,f="center",e=[[g,h],[g,h]];else{var l,m=e.get("length");"left"===g?(e=(f[3][0]+f[0][0])/2,h=(f[3][1]+f[0][1])/2,l=e-m,g=l-5,f="right"):(e=(f[1][0]+f[2][0])/2,h=(f[1][1]+f[2][1])/2,l=e+m,g=l+5,f="left");m=h;e=[[e,h],[l,m]];h=m}d.label={linePoints:e,x:g,y:h,verticalAlign:"middle",textAlign:f,inside:c}})}var l=a(74),f=a(7),e=f.parsePercent;q.exports=function(a,d,c){a.eachSeriesByType("funnel",function(a){var b=a.getData(),c=a.get("sort"),l=m(a,d),n=p(b,c),q=[e(a.get("minSize"),l.width),e(a.get("maxSize"),l.width)],w=b.getDataExtent("value"),u=a.get("min"),v=a.get("max");null==u&&(u=Math.min(w[0],0));null==v&&(v=w[1]);var y=a.get("funnelAlign");a=a.get("gap");var w=(l.height-a*(b.count()-1))/b.count(),E=l.y,z=function(a,c){var d=b.get("value",a)||0,d=f.linearMap(d,[u,v],q,!0),e;switch(y){case "left":e=l.x;break;case "center":e=l.x+(l.width-d)/2;break;case "right":e=l.x+l.width-d}return[[e,c],[e+d,c]]};"ascending"===c&&(w=-w,a=-a,E+=l.height,n=n.reverse());for(c=0;c<n.length;c++){var B=n[c],H=n[c+1],F=z(B,E),H=z(H,E+w),E=E+(w+a);b.setItemLayout(B,{points:F.concat(H.slice().reverse())})}h(b)})}},function(q,n,a){q=a(1);a(238);a(251);a(252);q.registerVisual(a(253))},function(q,n,a){function m(a,e){var b=a._model;return b.get("axisExpandable")&&b.get("axisExpandTriggerOn")===e}a(239);a(243);a(245);q=a(1);var p=a(4),h=a(84);q.extendComponentView({type:"parallel",render:function(a,e,b){this._model=a;this._api=b;this._handlers||(this._handlers={},p.each(l,function(a,c){b.getZr().on(c,this._handlers[c]=p.bind(a,this))},this));h.createOrUpdate(this,"_throttledDispatchExpand",a.get("axisExpandRate"),"fixRate")},dispose:function(a,e){p.each(this._handlers,function(a,d){e.getZr().off(d,a)});this._handlers=null},_throttledDispatchExpand:function(a){this._dispatchExpand(a)},_dispatchExpand:function(a){a&&this._api.dispatchAction(p.extend({type:"parallelAxisExpand"},a))}});var l={mousedown:function(a){m(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var e=this._mouseDownPoint;if(m(this,"click")&&e){var b=[a.offsetX,a.offsetY];if(5<Math.pow(e[0]-b[0],2)+Math.pow(e[1]-b[1],2))return;a=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);"none"!==a.behavior&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(a){if(!this._mouseDownPoint&&m(this,"mousemove")){var e=this._model;a=e.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);var b=a.behavior;"jump"===b&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce"));this._throttledDispatchExpand("none"===b?null:{axisExpandWindow:a.axisExpandWindow,animation:"jump"===b?null:!1})}}};q.registerPreprocessor(a(250))},function(q,n,a){var m=a(240);a(79).register("parallel",{create:function(a,h){var l=[];a.eachComponent("parallel",function(f,e){var b=new m(f,a,h);b.name="parallel_"+e;b.resize(f,h);f.coordinateSystem=b;b.model=f;l.push(b)});a.eachSeries(function(f){if("parallel"===f.get("coordinateSystem")){var e=a.queryComponents({mainType:"parallel",index:f.get("parallelIndex"),id:f.get("parallelId")})[0];f.coordinateSystem=e.coordinateSystem}});return l}})},function(q,n,a){function m(a,c,d){this._axesMap=b.createHashMap();this._axesLayout={};this.dimensions=a.dimensions;this._model=a;this._init(a,c,d)}function p(a,b){return t(A(a,b[0]),b[1])}function h(a,b){var c=b.layoutLength/(b.axisCount-1);return{position:c*a,axisNameAvailableWidth:c,axisLabelShow:!0}}function l(a,b){var c=b.layoutLength,d=b.axisExpandWidth,e=b.axisCount,g=b.axisCollapseWidth,f=b.winInnerIndices,k=g,h=!1,l;a<f[0]?(c=a*g,l=g):a<=f[1]?(c=b.axisExpandWindow0Pos+a*d-b.axisExpandWindow[0],k=d,h=!0):(c-=(e-1-a)*g,l=g);return{position:c,axisNameAvailableWidth:k,axisLabelShow:h,nameTruncateMaxWidth:l}}var f=a(74),e=a(104),b=a(4),d=a(241),c=a(20),g=a(11);n=a(7);var r=a(242),k=b.each,t=Math.min,A=Math.max,x=Math.floor,w=Math.ceil,u=n.round,v=Math.PI;m.prototype={type:"parallel",constructor:m,_init:function(a,b,c){var g=a.parallelAxisIndex;k(a.dimensions,function(a,c){var f=g[c],k=b.getComponent("parallelAxis",f),f=this._axesMap.set(a,new d(a,e.createScaleByModel(k),[0,0],k.get("type"),f));f.onBand="category"===f.type&&k.get("boundaryGap");f.inverse=k.get("inverse");k.axis=f;f.model=k;f.coordinateSystem=k.coordinateSystem=this},this)},update:function(a,b){this._updateAxesFromSeries(this._model,a)},containPoint:function(a){var b=this._makeLayoutInfo(),c=b.axisBase,d=b.layoutBase,e=b.pixelDimIndex,g=a[1-e];a=a[e];return g>=c&&g<=c+b.axisLength&&a>=d&&a<=d+b.layoutLength},_updateAxesFromSeries:function(a,b){b.eachSeries(function(c){if(a.contains(c,b)){var d=c.getData();k(this.dimensions,function(a){var b=this._axesMap.get(a);b.scale.unionExtentFromData(d,a);e.niceScaleExtent(b.scale,b.model)},this)}},this)},resize:function(a,b){this._rect=f.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var a=this._model,b=this._rect,c=["x","y"],d=["width","height"],e=a.get("layout"),g="horizontal"===e?0:1,f=b[d[g]],k=[0,f],h=this.dimensions.length,l=p(a.get("axisExpandWidth"),k),r=p(a.get("axisExpandCount")||0,[0,h]),t=a.get("axisExpandable")&&3<h&&h>r&&1<r&&0<l&&0<f,m=a.get("axisExpandWindow");m?k=p(m[1]-m[0],k):(k=p(l*(r-1),k),m=a.get("axisExpandCenter")||x(h/2),m=[l*m-k/2]);m[1]=m[0]+k;r=(f-k)/(h-r);3>r&&(r=0);a=[x(u(m[0]/l,1))+1,w(u(m[1]/l,1))-1];return{layout:e,pixelDimIndex:g,layoutBase:b[c[g]],layoutLength:f,axisBase:b[c[1-g]],axisLength:b[d[1-g]],axisExpandable:t,axisExpandWidth:l,axisCollapseWidth:r,axisExpandWindow:m,axisCount:h,winInnerIndices:a,axisExpandWindow0Pos:r/l*m[0]}},_layoutAxes:function(){var a=this._rect,b=this._axesMap,c=this.dimensions,d=this._makeLayoutInfo(),e=d.layout;b.each(function(a){var b=[0,d.axisLength],c=a.inverse?1:0;a.setExtent(b[c],b[1-c])});k(c,function(c,f){var k=(d.axisExpandable?l:h)(f,d),r={horizontal:{x:k.position,y:d.axisLength},vertical:{x:0,y:k.position}},r=[r[e].x+a.x,r[e].y+a.y],t={horizontal:v/2,vertical:0}[e],m=g.create();g.rotate(m,m,t);g.translate(m,m,r);this._axesLayout[c]={position:r,rotation:t,transform:m,axisNameAvailableWidth:k.axisNameAvailableWidth,axisLabelShow:k.axisLabelShow,nameTruncateMaxWidth:k.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:b.get(c).getLabelInterval()}},this)},getAxis:function(a){return this._axesMap.get(a)},dataToPoint:function(a,b){return this.axisCoordToPoint(this._axesMap.get(b).dataToCoord(a),b)},eachActiveState:function(a,b,c){for(var d=this.dimensions,e=this._axesMap,g=this.hasAxisBrushed(),f=0,k=a.count();f<k;f++){var h=a.getValues(d,f),l;if(g){l="active";for(var r=0,t=d.length;r<t;r++)if("inactive"===e.get(d[r]).model.getActiveState(h[r],r)){l="inactive";break}}else l="normal";b.call(c,l,f)}},hasAxisBrushed:function(){for(var a=this.dimensions,b=this._axesMap,c=!1,d=0,e=a.length;d<e;d++)"normal"!==b.get(a[d]).model.getActiveState()&&(c=!0);return c},axisCoordToPoint:function(a,b){return c.applyTransform([a,0],this._axesLayout[b].transform)},getAxisLayout:function(a){return b.clone(this._axesLayout[a])},getSlidedAxisExpandWindow:function(a){var b=this._makeLayoutInfo(),c=b.pixelDimIndex,d=b.axisExpandWindow.slice(),e=d[1]-d[0],g=[0,b.axisExpandWidth*(b.axisCount-1)];if(!this.containPoint(a))return{behavior:"none",axisExpandWindow:d};a=a[c]-b.layoutBase-b.axisExpandWindow0Pos;var f,c="slide",k=b.axisCollapseWidth,h=this._model.get("axisExpandSlideTriggerArea");f=null!=h[0];k?(f&&k&&a<e*h[0]?(c="jump",f=a-e*h[2]):f&&k&&a>e*(1-h[0])?(c="jump",f=a-e*(1-h[2])):0<=(f=a-e*h[1])&&0>=(f=a-e*(1-h[1]))&&(f=0),(f*=b.axisExpandWidth/k)?r(f,d,g,"all"):c="none"):(e=d[1]-d[0],d=[A(0,g[1]*a/e-e/2)],d[1]=t(g[1],d[0]+e),d[0]=d[1]-e);return{axisExpandWindow:d,behavior:c}}};q.exports=m},function(q,n,a){n=a(4);var m=a(103);a=function(a,h,l,f,e){m.call(this,a,h,l);this.type=f||"value";this.axisIndex=e};a.prototype={constructor:a,model:null};n.inherits(a,m);q.exports=a},function(q,n){function a(a,h){var l=a[h]-a[1-h];return{span:Math.abs(l),sign:0<l?-1:0>l?1:h?-1:1}}function m(a,h){return Math.min(h[1],Math.max(h[0],a))}q.exports=function(p,h,l,f,e,b){h[0]=m(h[0],l);h[1]=m(h[1],l);p=p||0;var d=l[1]-l[0];null!=e&&(e=m(e,[0,d]));null!=b&&(b=Math.max(b,null!=e?e:0));"all"===f&&(e=b=Math.abs(h[1]-h[0]),f=0);d=a(h,f);h[f]+=p;p=e||0;l=l.slice();0>d.sign?l[0]+=p:l[1]-=p;h[f]=m(h[f],l);l=a(h,f);null!=e&&(l.sign!==d.sign||l.span<e)&&(h[1-f]=h[f]+d.sign*e);l=a(h,f);null!=b&&l.span>b&&(h[1-f]=h[f]+l.sign*b);return h}},function(q,n,a){var m=a(4),p=a(72);a(244);p.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){p.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(a){var l=this.option;a&&m.merge(l,a,!0);this._initDimensions()},contains:function(a,l){var f=a.get("parallelIndex");return null!=f&&l.getComponent("parallel",f)===this},setAxisExpand:function(a){m.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(l){a.hasOwnProperty(l)&&(this.option[l]=a[l])},this)},_initDimensions:function(){var a=this.dimensions=[],l=this.parallelAxisIndex=[],f=m.filter(this.dependentModels.parallelAxis,function(a){return a.get("parallelIndex")===this.componentIndex});m.each(f,function(e){a.push("dim"+e.get("dim"));l.push(e.componentIndex)})}})},function(q,n,a){var m=a(72),p=a(4),h=a(17);n=a(134);var l=a(7),m=m.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return h([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(a){if(a=this.activeIntervals=p.clone(a))for(var e=a.length-1;0<=e;e--)l.asc(a[e])},getActiveState:function(a){var e=this.activeIntervals;if(!e.length)return"normal";if(null==a)return"inactive";for(var b=0,d=e.length;b<d;b++)if(e[b][0]<=a&&a<=e[b][1])return"active";return"inactive"}});p.merge(m.prototype,a(115));n("parallel",m,function(a,e){return e.type||(e.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10});q.exports=m},function(q,n,a){a(239);a(246);a(247)},function(q,n,a){q=a(1);q.registerAction({type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"},function(a,p){p.eachComponent({mainType:"parallelAxis",query:a},function(h){h.axis.model.setActiveIntervals(a.intervals)})});q.registerAction("parallelAxisExpand",function(a,p){p.eachComponent({mainType:"parallel",query:a},function(h){h.setAxisExpand(a)})})},function(q,n,a){function m(a){var b=a.axis;return p.map(a.activeIntervals,function(a){return{brushType:"lineX",panelId:"pl",range:[b.dataToCoord(a[0],!0),b.dataToCoord(a[1],!0)]}})}var p=a(4),h=a(138),l=a(248),f=a(249),e=a(20),b=["axisLine","axisLabel","axisTick","axisName"],d=a(1).extendComponentView({type:"parallelAxis",init:function(a,b){d.superApply(this,"init",arguments);(this._brushController=new l(b.getZr())).on("brush",p.bind(this._onBrush,this))},render:function(a,d,f,k){if(!k||"axisAreaSelect"!==k.type||d.findComponents({mainType:"parallelAxis",query:k})[0]!==a){this.axisModel=a;this.api=f;this.group.removeAll();var l=this._axisGroup;this._axisGroup=new e.Group;this.group.add(this._axisGroup);if(a.get("show")){d=d.getComponent("parallel",a.get("parallelIndex"));var m=d.coordinateSystem,n=a.getAreaSelectStyle(),w=n.width,m=m.getAxisLayout(a.axis.dim),m=p.extend({strokeContainThreshold:w},m),u=new h(a,m);p.each(b,u.add,u);this._axisGroup.add(u.getGroup());this._refreshBrushController(m,n,a,d,w,f);e.groupTransition(l,this._axisGroup,k&&!1===k.animation?null:a)}}},updateVisual:function(a,b,d,e){this._brushController&&this._brushController.updateCovers(m(a))},_refreshBrushController:function(a,b,d,k,h,l){var p=d.axis.getExtent(),n=p[1]-p[0],u=Math.min(30,.1*Math.abs(n));h=e.BoundingRect.create({x:p[0],y:-h/2,width:n,height:h});h.x-=u;h.width+=2*u;this._brushController.mount({enableGlobalPan:!0,rotation:a.rotation,position:a.position}).setPanels([{panelId:"pl",clipPath:f.makeRectPanelClipPath(h),isTargetByCursor:f.makeRectIsTargetByCursor(h,l,k),getLinearBrushOtherExtent:f.makeLinearBrushOtherExtent(h,0)}]).enableBrush({brushType:"lineX",brushStyle:b,removeOnClick:!0}).updateCovers(m(d))},_onBrush:function(a,b){var d=this.axisModel,e=d.axis,f=p.map(a,function(a){return[e.coordToData(a.range[0],!0),e.coordToData(a.range[1],!0)]});(!d.option.realtime===b.isEnd||b.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:d.id,intervals:f})},dispose:function(){this._brushController.dispose()}});q.exports=d},function(q,n,a){function m(a){K.assert(a);O.call(this);this._zr=a;this.group=new G.Group;this._track=[];this._covers=[];this._mounted;this._uid="brushController_"+ba++;this._handlers={};M(ca,function(a,b){this._handlers[b]=K.bind(a,this)},this)}function p(a,b){var c=a._zr;a._enableGlobalPan||R.take(c,"globalPan",a._uid);M(a._handlers,function(a,b){c.on(b,a)});a._brushType=b.brushType;a._brushOption=K.merge(K.clone(X),b,!0)}function h(a){var b=a._zr;R.release(b,"globalPan",a._uid);M(a._handlers,function(a,c){b.off(c,a)});a._brushType=a._brushOption=null}function l(a,b){var c=aa[b.brushType].createCover(a,b);c.__brushOption=b;e(c,b);a.group.add(c);return c}function f(a,b){var c=aa[b.__brushOption.brushType];c.endCreating&&(c.endCreating(a,b),e(b,b.__brushOption));return b}function e(a,b){var c=b.z;null==c&&(c=1E4);a.traverse(function(a){a.z=c;a.z2=c})}function b(a,b){aa[b.__brushOption.brushType].updateCommon(a,b);var c=b.__brushOption;aa[b.__brushOption.brushType].updateCoverShape(a,b,c.range,c)}function d(a,b,c){var d=a._panels;if(!d)return!0;var e,g=a._transform;M(d,function(a){a.isTargetByCursor(b,c,g)&&(e=a)});return e}function c(a,b){var c=a._panels;if(!c)return!0;var d=b.__brushOption.panelId;return null!=d?c[d]:!0}function g(a){var b=a._covers,c=b.length;M(b,function(b){a.group.remove(b)},a);b.length=0;return!!c}function r(a,b){var c=S(a._covers,function(a){a=a.__brushOption;var b=K.clone(a.range);return{brushType:a.brushType,panelId:a.panelId,range:b}});a.trigger("brush",c,{isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function k(a){var b=a.length-1;0>b&&(b=0);return[a[0],a[b]]}function t(a,b,c,d){var e=new G.Group;e.add(new G.Rect({name:"main",style:u(c),silent:!0,draggable:!0,cursor:"move",drift:Q(a,b,e,"nswe"),ondragend:Q(r,b,{isEnd:!0})}));M(d,function(c){e.add(new G.Rect({name:c,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Q(a,b,e,c),ondragend:Q(r,b,{isEnd:!0})}))});return e}function A(a,b,c,d){var e=d.brushStyle.lineWidth||0,g=V(e,6),f=c[0][0],k=c[1][0],h=f-e/2,l=k-e/2,r=c[0][1],t=c[1][1];c=r-g+e/2;var m=t-g+e/2,r=r-f,t=t-k,p=r+e,e=t+e;w(a,b,"main",f,k,r,t);d.transformable&&(w(a,b,"w",h,l,g,e),w(a,b,"e",c,l,g,e),w(a,b,"n",h,l,p,g),w(a,b,"s",h,m,p,g),w(a,b,"nw",h,l,g,g),w(a,b,"ne",c,l,g,g),w(a,b,"sw",h,m,g,g),w(a,b,"se",c,m,g,g))}function x(a,b){var c=b.__brushOption,d=c.transformable,e=b.childAt(0);e.useStyle(u(c));e.attr({silent:!d,cursor:d?"move":"default"});M("w e n s se sw ne nw".split(" "),function(c){var e=b.childOfName(c);c=y(a,c);e&&e.attr({silent:!d,invisible:!d,cursor:d?W[c]+"-resize":null})})}function w(a,b,c,d,e,g,f){(c=b.childOfName(c))&&c.setShape(F(H(a,b,[[d,e],[d+g,e+f]])))}function u(a){return K.defaults({strokeNoScale:!0},a.brushStyle)}function v(a,b,c,d){var e=[Y(a,c),Y(b,d)];a=[V(a,c),V(b,d)];return[[e[0],a[0]],[e[1],a[1]]]}function y(a,b){if(1<b.length){b=b.split("");var c=[y(a,b[0]),y(a,b[1])];"e"!==c[0]&&"w"!==c[0]||c.reverse();return c.join("")}c=G.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[b],G.getTransform(a.group));return{left:"w",right:"e",top:"n",bottom:"s"}[c]}function E(a,c,d,e,g,f,k,h){h=e.__brushOption;var l=a(h.range),t=B(d,f,k);M(g.split(""),function(a){a=Z[a];l[a[0]][a[1]]+=t[a[0]]});h.range=c(v(l[0][0],l[1][0],l[0][1],l[1][1]));b(d,e);r(d,{isEnd:!1})}function z(a,c,d,e,g){g=c.__brushOption.range;var f=B(a,d,e);M(g,function(a){a[0]+=f[0];a[1]+=f[1]});b(a,c);r(a,{isEnd:!1})}function B(a,b,c){a=a.group;b=a.transformCoordToLocal(b,c);c=a.transformCoordToLocal(0,0);return[b[0]-c[0],b[1]-c[1]]}function H(a,b,d){return(b=c(a,b))&&!0!==b?b.clipPath(d,a._transform):K.clone(d)}function F(a){var b=Y(a[0][0],a[1][0]),c=Y(a[0][1],a[1][1]),d=V(a[0][0],a[1][0]);a=V(a[0][1],a[1][1]);return{x:b,y:c,width:d-b,height:a-c}}function D(a){a=a.event;a.preventDefault&&a.preventDefault()}function C(a,b,c){return a.childOfName("main").contain(b,c)}function I(a,b,c,e){var k=a._creatingCover,h=a._creatingPanel,r=a._brushOption,t;a._track.push(c.slice());var m;var p=a._track;if(p.length){m=p[p.length-1];var n=p[0],p=m[0]-n[0];m=m[1]-n[1];m=6<T(p*p+m*m,.5)}else m=!1;m||k?(h&&!k&&("single"===r.brushMode&&g(a),k=K.clone(r),k.brushType=J(k.brushType,h),k.panelId=!0===h?null:h.panelId,k=a._creatingCover=l(a,k),a._covers.push(k)),k&&(h=aa[J(a._brushType,h)],k.__brushOption.range=h.getCreatingRange(H(a,k,a._track)),e&&(f(a,k),h.updateCommon(a,k)),h=k.__brushOption,aa[k.__brushOption.brushType].updateCoverShape(a,k,h.range,h),t={isEnd:e})):e&&"single"===r.brushMode&&r.removeOnClick&&d(a,b,c)&&g(a)&&(t={isEnd:e,removeOnClick:!0});return t}function J(a,b){return"auto"===a?(K.assert(b&&b.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"'),b.defaultBrushType):a}function L(a){if(this._dragging){D(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);a=I(this,a,b,!0);this._dragging=!1;this._track=[];this._creatingCover=null;a&&r(this,a)}}function N(a){return{createCover:function(b,c){return t(Q(E,function(b){b=[b,[0,100]];a&&b.reverse();return b},function(b){return b[a]}),b,c,[["w","e"],["n","s"]][a])},getCreatingRange:function(b){var c=k(b);b=Y(c[0][a],c[1][a]);c=V(c[0][a],c[1][a]);return[b,c]},updateCoverShape:function(b,d,e,g){var f;f=c(b,d);!0!==f&&f.getLinearBrushOtherExtent?f=f.getLinearBrushOtherExtent(a,b._transform):(f=b._zr,f=[0,[f.getWidth(),f.getHeight()][1-a]]);e=[e,f];a&&e.reverse();A(b,d,e,g)},updateCommon:x,contain:C}}var O=a(29),K=a(4),G=a(20),R=a(187),P=a(102),Q=K.curry,M=K.each,S=K.map,Y=Math.min,V=Math.max,T=Math.pow,Z={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},W={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},X={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},ba=0;m.prototype={constructor:m,enableBrush:function(a){K.assert(this._mounted);this._brushType&&h(this);a.brushType&&p(this,a);return this},setPanels:function(a){if(a&&a.length){var b=this._panels={};K.each(a,function(a){b[a.panelId]=K.clone(a)})}else this._panels=null;return this},mount:function(a){a=a||{};this._mounted=!0;this._enableGlobalPan=a.enableGlobalPan;var b=this.group;this._zr.add(b);b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]});this._transform=b.getLocalTransform();return this},eachCover:function(a,b){M(this._covers,a,b)},updateCovers:function(a){function c(a,b){return(null!=a.id?a.id:"\x00-brush-index-"+b)+"-"+a.brushType}function d(c,r){var t=a[c];null!=r&&e[r]===h?g[c]=e[r]:(t=g[c]=null!=r?(e[r].__brushOption=t,e[r]):f(k,l(k,t)),b(k,t))}K.assert(this._mounted);a=K.map(a,function(a){return K.merge(K.clone(X),a,!0)});var e=this._covers,g=this._covers=[],k=this,h=this._creatingCover;(new P(e,a,function(a,b){return c(a.__brushOption,b)},c)).add(d).update(d).remove(function(a){e[a]!==h&&k.group.remove(e[a])}).execute();return this},unmount:function(){if(this._mounted)return this.enableBrush(!1),g(this),this._zr.remove(this.group),this._mounted=!1,this},dispose:function(){this.unmount();this.off()}};K.mixin(m,O);var ca={mousedown:function(a){if(this._dragging)L.call(this,a);else if(!a.target||!a.target.draggable){D(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;if(this._creatingPanel=d(this,a,b))this._dragging=!0,this._track=[b.slice()]}},mousemove:function(a){var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);a:if(this._brushType){var c=this._zr,e=this._covers,g=d(this,a,b);if(!this._dragging)for(var f=0;f<e.length;f++){var k=e[f].__brushOption;if(g&&(!0===g||k.panelId===g.panelId)&&aa[k.brushType].contain(e[f],b[0],b[1]))break a}g&&c.setCursorStyle("crosshair")}this._dragging&&(D(a),(a=I(this,a,b,!1))&&r(this,a))},mouseup:L},aa={lineX:N(0),lineY:N(1),rect:{createCover:function(a,b){return t(Q(E,function(a){return a},function(a){return a}),a,b,"w e n s se sw ne nw".split(" "))},getCreatingRange:function(a){a=k(a);return v(a[1][0],a[1][1],a[0][0],a[0][1])},updateCoverShape:function(a,b,c,d){A(a,b,c,d)},updateCommon:x,contain:C},polygon:{createCover:function(a,b){var c=new G.Group;c.add(new G.Polyline({name:"main",style:u(b),silent:!0}));return c},getCreatingRange:function(a){return a},endCreating:function(a,b){b.remove(b.childAt(0));b.add(new G.Polygon({name:"main",draggable:!0,drift:Q(z,a,b),ondragend:Q(r,a,{isEnd:!0})}))},updateCoverShape:function(a,b,c,d){b.childAt(0).setShape({points:H(a,b,c)})},updateCommon:x,contain:C}};q.exports=m},function(q,n,a){var m=a(189),p=a(9),h=a(20);q.exports={makeRectPanelClipPath:function(a){a=p.create(a);return function(f,e){return h.clipPointsByRect(f,a)}},makeLinearBrushOtherExtent:function(a,f){a=p.create(a);return function(e){var b=(e=null!=f?f:e)?a.x:a.y;return[b,b+((e?a.width:a.height)||0)]}},makeRectIsTargetByCursor:function(a,f,e){a=p.create(a);return function(b,d,c){return a.contain(d[0],d[1])&&!m.onIrrelevantElement(b,f,e)}}}},function(q,n,a){function m(a){if(!a.parallel){var e=!1;h.each(a.series,function(a){a&&"parallel"===a.type&&(e=!0)});e&&(a.parallel=[{}])}}function p(a){var e=l.normalizeToArray(a.parallelAxis);h.each(e,function(b){if(h.isObject(b)){var d=b.parallelIndex||0;(d=l.normalizeToArray(a.parallel)[d])&&d.parallelAxisDefault&&h.merge(b,d.parallelAxisDefault,!1)}})}var h=a(4),l=a(5);q.exports=function(a){m(a);p(a)}},function(q,n,a){function m(a,b,d){var c=a.get("data"),g=+b.replace("dim","");c&&c.length&&l.each(d,function(a){if(a){var b=l.indexOf(c,a[g]);a[g]=0<=b?b:NaN}})}function p(a,b){var d=0;l.each(a,function(a){a=+a.replace("dim","");a>d&&(d=a)});var c=b[0];c&&c.length-1>d&&(d=c.length-1);for(var c=[],g=0;g<=d;g++)c.push("dim"+g);return c}var h=a(101),l=a(4);n=a(81);var f=a(113);q.exports=n.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.normal.color",getInitialData:function(a,b){var d=b.getComponent("parallel",this.get("parallelIndex")),c=d.parallelAxisIndex,g=a.data,r=d.dimensions,d=p(r,g),d=l.map(d,function(a,d){var e=l.indexOf(r,a),h=0<=e&&b.getComponent("parallelAxis",c[e]);return h&&"category"===h.get("type")?(m(h,a,g),{name:a,type:"ordinal"}):0>e?f.guessOrdinal(g,d)?{name:a,type:"ordinal"}:a:a}),d=new h(d,this);d.initData(g);this.option.progressive&&(this.option.animation=!1);return d},getRawIndicesByActiveState:function(a){var b=this.coordinateSystem,d=this.getData(),c=[];b.eachActiveState(d,function(b,f){a===b&&c.push(d.getRawIndex(f))});return c},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}})},function(q,n,a){function m(a,b,d){var c=a.model;a=a.getRect();var g=new l.Rect({shape:{x:a.x,y:a.y,width:a.width,height:a.height}}),c="horizontal"===c.get("layout")?"width":"height";g.setShape(c,0);l.initProps(g,{shape:{width:a.width,height:a.height}},b,d);return g}function p(a,b,d,c){for(var g=[],f=0;f<d.length;f++){var k=d[f],h=a.get(k,b);("category"===c.getAxis(k).type?null==h:null==h||isNaN(h))||g.push(c.dataToPoint(h,k))}return g}function h(a,b){var d=a.hostModel.getModel("lineStyle.normal"),c=d.getLineStyle();a.eachItemGraphicEl(function(g,h){a.hasItemOption&&(c=a.getItemModel(h).getModel("lineStyle.normal",d).getLineStyle(["color","stroke"]));g.useStyle(f.extend(c,{fill:null,stroke:a.getItemVisual(h,"color"),opacity:a.getItemVisual(h,"opacity")}));g.shape.smooth=b})}var l=a(20),f=a(4);n=a(83).extend({type:"parallel",init:function(){this._dataGroup=new l.Group;this.group.add(this._dataGroup)},render:function(a,b,d,c){this._renderForNormal(a,c)},dispose:function(){},_renderForNormal:function(a,b){var d=this._dataGroup,c=a.getData(),g=this._data,f=a.coordinateSystem,k=f.dimensions,t=a.option.smooth?.3:null;c.diff(g).add(function(a){var b=p(c,a,k,f),b=new l.Polyline({shape:{points:b},silent:!0,z2:10});d.add(b);c.setItemGraphicEl(a,b)}).update(function(d,h){var t=g.getItemGraphicEl(h),m=p(c,d,k,f);c.setItemGraphicEl(d,t);l.updateProps(t,{shape:{points:m}},b&&!1===b.animation?null:a,d)}).remove(function(a){a=g.getItemGraphicEl(a);d.remove(a)}).execute();h(c,t);this._data||(t=m(f,a,function(){setTimeout(function(){d.removeClipPath()})}),d.setClipPath(t));this._data=c},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});q.exports=n},function(q,n){var a=["lineStyle","normal","opacity"];q.exports=function(m){m.eachSeriesByType("parallel",function(p){var h=p.getModel("itemStyle.normal"),l=p.getModel("lineStyle.normal"),f=m.get("color"),h=l.get("color")||h.get("color")||f[p.seriesIndex%f.length],l=p.get("inactiveOpacity"),f=p.get("activeOpacity"),e=p.getModel("lineStyle.normal").getLineStyle(),b=p.coordinateSystem,d=p.getData(),c={normal:e.opacity,active:f,inactive:l};b.eachActiveState(d,function(b,e){var f=d.getItemModel(e),h=c[b];"normal"===b&&(f=f.get(a,!0),null!=f&&(h=f));d.setItemVisual(e,"opacity",h)});d.setVisual("color",h)})}},function(q,n,a){q=a(1);a(255);a(256);q.registerLayout(a(257));q.registerVisual(a(259))},function(q,n,a){n=a(81);var m=a(210),p=a(6).encodeHTML,h=n.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(a){var f=a.edges||a.links;if((a=a.data||a.nodes)&&f)return m(a,f,this,!0).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(a,f,e){return"edge"===e?(a=this.getDataParams(a,e),f=a.data,f=f.source+" -- "+f.target,a.value&&(f+=" : "+a.value),p(f)):h.superCall(this,"formatTooltip",a,f)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",color:"#000",fontSize:12},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1E3}});q.exports=h},function(q,n,a){function m(a,e,b){var d=new p.Rect({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});p.initProps(d,{shape:{width:a.width+20,height:a.height+20}},e,b);return d}var p=a(20),h=a(4),l=p.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(a,e){var b=e.extent/2;a.moveTo(e.x1,e.y1-b);a.bezierCurveTo(e.cpx1,e.cpy1-b,e.cpx2,e.cpy2-b,e.x2,e.y2-b);a.lineTo(e.x2,e.y2+b);a.bezierCurveTo(e.cpx2,e.cpy2+b,e.cpx1,e.cpy1+b,e.x1,e.y1+b);a.closePath()}});q.exports=a(1).extendChartView({type:"sankey",_model:null,render:function(a,e,b){e=a.getGraph();var d=this.group;b=a.layoutInfo;var c=a.getData(),g=a.getData("edge");this._model=a;d.removeAll();d.position=[b.x,b.y];e.eachEdge(function(b){var c=new l;c.dataIndex=b.dataIndex;c.seriesIndex=a.seriesIndex;c.dataType="edge";var e=b.getModel("lineStyle.normal"),h=e.get("curveness"),m=b.node1.getLayout(),n=b.node2.getLayout(),u=b.getLayout();c.shape.extent=Math.max(1,u.dy);var v=m.x+m.dx,m=m.y+u.sy+u.dy/2,q=n.x,n=n.y+u.ty+u.dy/2;c.setShape({x1:v,y1:m,x2:q,y2:n,cpx1:v*(1-h)+q*h,cpy1:m,cpx2:v*h+q*(1-h),cpy2:n});c.setStyle(e.getItemStyle());switch(c.style.fill){case "source":c.style.fill=b.node1.getVisual("color");break;case "target":c.style.fill=b.node2.getVisual("color")}p.setHoverStyle(c,b.getModel("lineStyle.emphasis").getItemStyle());d.add(c);g.setItemGraphicEl(b.dataIndex,c)});e.eachNode(function(b){var e=b.getLayout(),g=b.getModel(),l=g.getModel("label.normal"),m=g.getModel("label.emphasis"),e=new p.Rect({shape:{x:e.x,y:e.y,width:b.getLayout().dx,height:b.getLayout().dy},style:g.getModel("itemStyle.normal").getItemStyle()});p.setTextStyle(e.style,l,{text:l.get("show")?a.getFormattedLabel(b.dataIndex,"normal")||b.id:null},{isRectText:!0});e.setStyle("fill",b.getVisual("color"));l=b.getModel("itemStyle.emphasis").getItemStyle();p.setHoverStyle(e,h.extend(p.setTextStyle(l,m,{text:m.get("show")?a.getFormattedLabel(b.dataIndex,"emphasis"):null},{isRectText:!0,forMerge:!0})));d.add(e);c.setItemGraphicEl(b.dataIndex,e);e.dataType="node"});!this._data&&a.get("animation")&&d.setClipPath(m(d.getBoundingRect(),a,function(){d.removeClipPath()}));this._data=a.getData()},dispose:function(){}})},function(q,n,a){function m(a,b){return z.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function p(a,b,c,d,g,k,h){for(var r=a,m=null,p=0;r.length;){for(var m=[],n=0,v=r.length;n<v;n++){var u=r[n];u.setLayout({x:p},!0);u.setLayout({dx:c},!0);for(var w=0,q=u.outEdges.length;w<q;w++)m.push(u.outEdges[w].node2)}r=m;++p}l(a,p);f(a,(g-c)/(p-1));e(a,b,k,d,h);t(a)}function h(a){H.each(a,function(a){var b=w(a.outEdges,E),c=w(a.inEdges,E);a.setLayout({value:Math.max(b,c)},!0)})}function l(a,b){H.each(a,function(a){a.outEdges.length||a.setLayout({x:b-1},!0)})}function f(a,b){H.each(a,function(a){var c=a.getLayout().x*b;a.setLayout({x:c},!0)})}function e(a,e,g,f,k){var h=B().key(function(a){return a.getLayout().x}).sortKeys(y).entries(a).map(function(a){return a.values});b(a,h,e,g,f);d(h,f,g);for(a=1;0<k;k--)a*=.99,c(h,a),d(h,f,g),r(h,a),d(h,f,g)}function b(a,b,c,d,e){var g=[];H.each(b,function(a){var b=a.length,c=0;H.each(a,function(a){c+=a.getLayout().value});g.push((d-(b-1)*e)/c)});g.sort(function(a,b){return a-b});var f=g[0];H.each(b,function(a){H.each(a,function(a,b){a.setLayout({y:b},!0);var c=a.getLayout().value*f;a.setLayout({dy:c},!0)})});H.each(c,function(a){var b=+a.getValue()*f;a.setLayout({dy:b},!0)})}function d(a,b,c){H.each(a,function(a){var d,e;e=0;var g=a.length,f;a.sort(v);for(f=0;f<g;f++)d=a[f],e-=d.getLayout().y,0<e&&(e=d.getLayout().y+e,d.setLayout({y:e},!0)),e=d.getLayout().y+d.getLayout().dy+b;e=e-b-c;if(0<e)for(e=d.getLayout().y-e,d.setLayout({y:e},!0),e=d.getLayout().y,f=g-2;0<=f;--f)d=a[f],e=d.getLayout().y+d.getLayout().dy+b-e,0<e&&(e=d.getLayout().y-e,d.setLayout({y:e},!0)),e=d.getLayout().y})}function c(a,b){H.each(a.slice().reverse(),function(a){H.each(a,function(a){if(a.outEdges.length){var c=w(a.outEdges,g)/w(a.outEdges,E),c=a.getLayout().y+(c-u(a))*b;a.setLayout({y:c},!0)}})})}function g(a){return u(a.node2)*a.getValue()}function r(a,b){H.each(a,function(a){H.each(a,function(a){if(a.inEdges.length){var c=w(a.inEdges,k)/w(a.inEdges,E),c=a.getLayout().y+(c-u(a))*b;a.setLayout({y:c},!0)}})})}function k(a){return u(a.node1)*a.getValue()}function t(a){H.each(a,function(a){a.outEdges.sort(A);a.inEdges.sort(x)});H.each(a,function(a){var b=0,c=0;H.each(a.outEdges,function(a){a.setLayout({sy:b},!0);b+=a.getLayout().dy});H.each(a.inEdges,function(a){a.setLayout({ty:c},!0);c+=a.getLayout().dy})})}function A(a,b){return a.node2.getLayout().y-b.node2.getLayout().y}function x(a,b){return a.node1.getLayout().y-b.node1.getLayout().y}function w(a,b){for(var c=0,d=a.length,e=-1;++e<d;){var g=+b.call(a,a[e],e);isNaN(g)||(c+=g)}return c}function u(a){return a.getLayout().y+a.getLayout().dy/2}function v(a,b){return a.getLayout().y-b.getLayout().y}function y(a,b){return a<b?-1:a>b?1:a===b?0:NaN}function E(a){return a.getValue()}var z=a(74),B=a(258),H=a(4);q.exports=function(a,b,c){a.eachSeriesByType("sankey",function(a){var c=a.get("nodeWidth"),d=a.get("nodeGap"),e=m(a,b);a.layoutInfo=e;var g=e.width,e=e.height,f=a.getGraph(),k=f.nodes,f=f.edges;h(k);a=0!==H.filter(k,function(a){return 0===a.getLayout().value}).length?0:a.get("layoutIterations");p(k,f,c,d,g,e,a)})}},function(q,n,a){var m=a(4);q.exports=function(){function a(e,b){if(b>=l.length)return e;for(var d=-1,c=e.length,g=l[b++],f={},k={};++d<c;){var h=g(e[d]),n=k[h];n?n.push(e[d]):k[h]=[e[d]]}m.each(k,function(c,d){f[d]=a(c,b)});return f}function h(a,b){if(b>=l.length)return a;var d=[],c=f[b++];m.each(a,function(a,c){d.push({key:c,values:h(a,b)})});return c?d.sort(function(a,b){return c(a.key,b.key)}):d}var l=[],f=[];return{key:function(a){l.push(a);return this},sortKeys:function(a){f[l.length-1]=a;return this},entries:function(e){return h(a(e,0),0)}}}},function(q,n,a){var m=a(206),p=a(4);q.exports=function(a,l){a.eachSeriesByType("sankey",function(a){var e=a.getGraph().nodes;e.sort(function(a,b){return a.getLayout().value-b.getLayout().value});var b=e[0].getLayout().value,d=e[e.length-1].getLayout().value;p.each(e,function(c){var e=(new m({type:"color",mappingMethod:"linear",dataExtent:[b,d],visual:a.get("color")})).mapValueToVisual(c.getLayout().value);c.setVisual("color",e);e=c.getModel().get("itemStyle.normal.color");null!=e&&c.setVisual("color",e)})})}},function(q,n,a){q=a(1);a(261);a(264);q.registerVisual(a(265));q.registerLayout(a(266))},function(q,n,a){n=a(4);var m=a(81);a=a(262);m=m.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});n.mixin(m,a.seriesModelMixin,!0);q.exports=m},function(q,n,a){var m=a(101),p=a(113),h=a(263),l=a(4);q.exports={seriesModelMixin:{_baseAxisDim:null,getInitialData:function(a,e){var b,d=e.getComponent("xAxis",this.get("xAxisIndex")),c=e.getComponent("yAxis",this.get("yAxisIndex")),g=d.get("type"),h=c.get("type"),k;"category"===g?(a.layout="horizontal",b=d.getCategories(),k=!0):"category"===h?(a.layout="vertical",b=c.getCategories(),k=!0):a.layout=a.layout||"horizontal";c=["x","y"];g="horizontal"===a.layout?0:1;d=this._baseAxisDim=c[g];g=c[1-g];c=a.data;k&&l.each(c,function(a,b){l.isArray(a)&&a.unshift(b)});k=this.defaultValueDimensions;d=[{name:d,otherDims:{tooltip:!1},dimsDef:["base"]},{name:g,dimsDef:k.slice()}];d=p(d,c,{encodeDef:this.get("encode"),dimsDef:this.get("dimensions"),dimCount:k.length+1});k=new m(d,this);k.initData(c,b?b.slice():null);return k},getBaseAxis:function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex")).axis}},viewMixin:{init:function(){var a=this._whiskerBoxDraw=new h(this.getStyleUpdater());this.group.add(a.group)},render:function(a,e,b){this._whiskerBoxDraw.updateData(a.getData())},remove:function(a){this._whiskerBoxDraw.remove()}}}},function(q,n,a){function m(a,b,g,f){e.Group.call(this);this.styleUpdater=g;this._createContent(a,b,f);this.updateData(a,b,f)}function p(a,b,e){return f.map(a,function(a){a=a.slice();a[b]=e.initBaseline;return a})}function h(a){var b={};f.each(a,function(a,d){b["ends"+d]=a});return b}function l(a){this.group=new e.Group;this.styleUpdater=a}var f=a(4),e=a(20),b=a(22).extend({type:"whiskerInBox",shape:{},buildPath:function(a,b){for(var e in b)if(b.hasOwnProperty(e)&&0===e.indexOf("ends")){var f=b[e];a.moveTo(f[0][0],f[0][1]);a.lineTo(f[1][0],f[1][1])}}});n=m.prototype;n._createContent=function(a,c,g){var l=a.getItemLayout(c),k="horizontal"===l.chartLayout?1:0;a=0;this.add(new e.Polygon({shape:{points:g?p(l.bodyEnds,k,l):l.bodyEnds},style:{strokeNoScale:!0},z2:100}));this.bodyIndex=a++;c=f.map(l.whiskerEnds,function(a){return g?p(a,k,l):a});this.add(new b({shape:h(c),style:{strokeNoScale:!0},z2:100}));this.whiskerIndex=a++};n.updateData=function(a,b,g){var f=this._seriesModel=a.hostModel,k=a.getItemLayout(b);g=e[g?"initProps":"updateProps"];g(this.childAt(this.bodyIndex),{shape:{points:k.bodyEnds}},f,b);g(this.childAt(this.whiskerIndex),{shape:h(k.whiskerEnds)},f,b);this.styleUpdater.call(null,this,a,b)};f.inherits(m,e.Group);n=l.prototype;n.updateData=function(a){var b=this.group,e=this._data,f=this.styleUpdater;a.diff(e).add(function(e){if(a.hasValue(e)){var g=new m(a,e,f,!0);a.setItemGraphicEl(e,g);b.add(g)}}).update(function(k,h){var l=e.getItemGraphicEl(h);a.hasValue(k)?(l?l.updateData(a,k):l=new m(a,k,f),b.add(l),a.setItemGraphicEl(k,l)):b.remove(l)}).remove(function(a){(a=e.getItemGraphicEl(a))&&b.remove(a)}).execute();this._data=a};n.remove=function(){var a=this.group,b=this._data;this._data=null;b&&b.eachItemGraphicEl(function(b){b&&a.remove(b)})};q.exports=l},function(q,n,a){function m(a,b,d){var c=b.getItemModel(d),g=c.getModel(l);b=b.getItemVisual(d,"color");g=g.getItemStyle(["borderColor"]);d=a.childAt(a.whiskerIndex);d.style.set(g);d.style.stroke=b;d.dirty();d=a.childAt(a.bodyIndex);d.style.set(g);d.style.stroke=b;d.dirty();c=c.getModel(f).getItemStyle();h.setHoverStyle(a,c)}n=a(4);var p=a(83),h=a(20);a=a(262);p=p.extend({type:"boxplot",getStyleUpdater:function(){return m},dispose:n.noop});n.mixin(p,a.viewMixin,!0);var l=["itemStyle","normal"],f=["itemStyle","emphasis"];q.exports=p},function(q,n){var a=["itemStyle","normal","borderColor"];q.exports=function(m,p){var h=m.get("color");m.eachRawSeriesByType("boxplot",function(l){var f=h[l.seriesIndex%h.length],e=l.getData();e.setVisual({legendSymbol:"roundRect",color:l.get(a)||f});m.isSeriesFiltered(l)||e.each(function(b){var d=e.getItemModel(b);e.setItemVisual(b,{color:d.get(a,!0)})})})}},function(q,n,a){function m(a){var d=[],c=[];a.eachSeriesByType("boxplot",function(a){var b=a.getBaseAxis(),e=l.indexOf(c,b);0>e&&(e=c.length,c[e]=b,d[e]={axis:b,seriesModels:[]});d[e].seriesModels.push(a)});return d}function p(a){var d=a.axis,c=a.seriesModels,g=c.length,h=a.boxWidthList=[],k=a.boxOffsetList=[],m=[],p;if("category"===d.type)p=d.getBandWidth();else{var n=0;e(c,function(a){n=Math.max(n,a.getData().count())});a=d.getExtent();Math.abs(a[1]-a[0])/n}e(c,function(a){a=a.get("boxWidth");l.isArray(a)||(a=[a,a]);m.push([f(a[0],p)||0,f(a[1],p)||0])});a=.8*p-2;var w=a/g*.3,u=(a-w*(g-1))/g,v=u/2-a/2;e(c,function(a,b){k.push(v);v+=w+u;h.push(Math.min(Math.max(u,m[b][0]),m[b][1]))})}function h(a,d,c){var e=a.coordinateSystem,f=a.getData(),k=c/2,h=a.get("layout"),m="horizontal"===h?0:1,p=1-m,n=["x","y"],u=[],v;l.each(f.dimensions,function(a){var b=f.getDimensionInfo(a).coordDim;b===n[p]?u.push(a):b===n[m]&&(v=a)});null==v||5>u.length||f.each([v].concat(u),function(){function a(b){var c=[];c[m]=n;c[p]=b;isNaN(n)||isNaN(b)?b=[NaN,NaN]:(b=e.dataToPoint(c),b[m]+=d);return b}function b(a,c){var d=a.slice(),e=a.slice();d[m]+=k;e[m]-=k;c?L.push(d,e):L.push(e,d)}function c(a){a=[a.slice(),a.slice()];a[0][m]-=k;a[1][m]+=k;J.push(a)}var l=arguments,n=l[0],v=l[u.length+1],w=a(l[3]),q=a(l[1]),I=a(l[5]),J=[[q,a(l[2])],[I,a(l[4])]];c(q);c(I);c(w);var L=[];b(J[0][1],0);b(J[1][1],1);f.setItemLayout(v,{chartLayout:h,initBaseline:w[p],median:w,bodyEnds:L,whiskerEnds:J})})}var l=a(4),f=a(7).parsePercent,e=l.each;q.exports=function(a){a=m(a);e(a,function(a){var b=a.seriesModels;b.length&&(p(a),e(b,function(b,c){h(b,a.boxOffsetList[c],a.boxWidthList[c])}))})}},function(q,n,a){q=a(1);a(268);a(269);q.registerPreprocessor(a(270));q.registerVisual(a(271));q.registerLayout(a(272))},function(q,n,a){n=a(4);var m=a(81);a=a(262);m=m.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(a,h,l){a=h.getItemLayout(a);return l.rect(a.brushRect)}});n.mixin(m,a.seriesModelMixin,!0);q.exports=m},function(q,n,a){function m(a,b,d){var c=b.getItemModel(d),g=c.getModel(l),r=b.getItemVisual(d,"color");b=b.getItemVisual(d,"borderColor")||r;g=g.getItemStyle(["color","color0","borderColor","borderColor0"]);d=a.childAt(a.whiskerIndex);d.useStyle(g);d.style.stroke=b;d=a.childAt(a.bodyIndex);d.useStyle(g);d.style.fill=r;d.style.stroke=b;c=c.getModel(f).getItemStyle();h.setHoverStyle(a,c)}n=a(4);var p=a(83),h=a(20);a=a(262);p=p.extend({type:"candlestick",getStyleUpdater:function(){return m},dispose:n.noop});n.mixin(p,a.viewMixin,!0);var l=["itemStyle","normal"],f=["itemStyle","emphasis"];q.exports=p},function(q,n,a){var m=a(4);q.exports=function(a){a&&m.isArray(a.series)&&m.each(a.series,function(a){m.isObject(a)&&"k"===a.type&&(a.type="candlestick")})}},function(q,n){var a=["itemStyle","normal","borderColor"],m=["itemStyle","normal","borderColor0"],p=["itemStyle","normal","color"],h=["itemStyle","normal","color0"];q.exports=function(l,f){l.eachRawSeriesByType("candlestick",function(e){var b=e.getData();b.setVisual({legendSymbol:"roundRect"});l.isSeriesFiltered(e)||b.each(function(d){var c=b.getItemModel(d),e=b.getItemLayout(d).sign;b.setItemVisual(d,{color:c.get(0<e?p:h),borderColor:c.get(0<e?a:m)})})})}},function(q,n,a){function m(a,e){var b=a.getBaseAxis(),d,b="category"===b.type?b.getBandWidth():(d=b.getExtent(),Math.abs(d[1]-d[0])/e.count());d=l(h(a.get("barMaxWidth"),b),b);var c=l(h(a.get("barMinWidth"),1),b),g=a.get("barWidth");return null!=g?l(g,b):Math.max(Math.min(b/2,d),c)}var p=a(4),h=a(4).retrieve,l=a(7).parsePercent;q.exports=function(a){a.eachSeriesByType("candlestick",function(a){var b=a.coordinateSystem,d=a.getData(),c=m(a,d),g=a.get("layout"),f="horizontal"===g?0:1,k=1-f,h=["x","y"],l=[],n;p.each(d.dimensions,function(a){var b=d.getDimensionInfo(a).coordDim;b===h[k]?l.push(a):b===h[f]&&(n=a)});null==n||4>l.length||d.each([n].concat(l),function(){function a(c){var d=[];d[f]=m;d[k]=c;return isNaN(m)||isNaN(c)?[NaN,NaN]:b.dataToPoint(d)}function e(a,b){var d=a.slice(),g=a.slice();d[f]+=c/2;g[f]-=c/2;b?I.push(d,g):I.push(g,d)}var h=arguments,m=h[0],t=h[l.length+1],p=h[1],n=h[2],q=h[3],x=h[4],D=Math.max(p,n),h=a(Math.min(p,n)),D=a(D),C=a(q),C=[[a(x),D],[C,h]],I=[];e(D,0);e(h,1);d.setItemLayout(t,{chartLayout:g,sign:p>n?-1:p<n?1:0,initBaseline:p>n?D[k]:h[k],bodyEnds:I,whiskerEnds:C,brushRect:function(){var b=a(Math.min(p,n,q,x)),d=a(Math.max(p,n,q,x));b[f]-=c/2;d[f]-=c/2;return{x:b[0],y:b[1],width:k?c:d[0]-b[0],height:k?d[1]-b[1]:c}}()})},!0)})}},function(q,n,a){q=a(4);n=a(1);a(274);a(275);n.registerVisual(q.curry(a(124),"effectScatter","circle",null));n.registerLayout(q.curry(a(125),"effectScatter"))},function(q,n,a){var m=a(112);n=a(81);q.exports=n.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(a,h){return m(a.data,this,h)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}})},function(q,n,a){var m=a(119),p=a(276);a(1).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new m(p)},render:function(a,l,f){a=a.getData();l=this._symbolDraw;l.updateData(a);this.group.add(l.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(a,l){this._symbolDraw&&this._symbolDraw.remove(l)},dispose:function(){}})},function(q,n,a){function m(a){l.isArray(a)||(a=[+a,+a]);return a}function p(a,b){a.eachChild(function(a){a.attr({z:b.z,zlevel:b.zlevel,style:{stroke:"stroke"===b.brushType?b.color:null,fill:"fill"===b.brushType?b.color:null}})})}function h(a,e){d.call(this);var f=new b(a,e),k=new d;this.add(f);this.add(k);k.beforeUpdate=function(){this.attr(f.getScale())};this.updateData(a,e)}var l=a(4),f=a(114);n=a(20);var e=a(7),b=a(120),d=n.Group;a=h.prototype;a.stopEffectAnimation=function(){this.childAt(1).removeAll()};a.startEffectAnimation=function(a){for(var b=a.symbolType,d=a.color,e=this.childAt(1),h=0;3>h;h++){var l=f.createSymbol(b,-1,-1,2,2,d);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var m=-h/3*a.period+a.effectOffset;l.animate("",!0).when(a.period,{scale:[a.rippleScale/2,a.rippleScale/2]}).delay(m).start();l.animateStyle(!0).when(a.period,{opacity:0}).delay(m).start();e.add(l)}p(e,a)};a.updateEffectAnimation=function(a){for(var b=this._effectCfg,d=this.childAt(1),e=["symbolType","period","rippleScale"],f=0;f<e.length;f++){var h=e[f];if(b[h]!==a[h]){this.stopEffectAnimation();this.startEffectAnimation(a);return}}p(d,a)};a.highlight=function(){this.trigger("emphasis")};a.downplay=function(){this.trigger("normal")};a.updateData=function(a,b){var d=a.hostModel;this.childAt(0).updateData(a,b);var f=this.childAt(1),h=a.getItemModel(b),l=a.getItemVisual(b,"symbol"),p=m(a.getItemVisual(b,"symbolSize")),n=a.getItemVisual(b,"color");f.attr("scale",p);f.traverse(function(a){a.attr({fill:n})});var u=h.getShallow("symbolOffset");if(u){var v=f.position;v[0]=e.parsePercent(u[0],p[0]);v[1]=e.parsePercent(u[1],p[1])}f.rotation=(h.getShallow("symbolRotate")||0)*Math.PI/180||0;var q={};q.showEffectOn=d.get("showEffectOn");q.rippleScale=h.get("rippleEffect.scale");q.brushType=h.get("rippleEffect.brushType");q.period=1E3*h.get("rippleEffect.period");q.effectOffset=b/a.count();q.z=h.getShallow("z")||0;q.zlevel=h.getShallow("zlevel")||0;q.symbolType=l;q.color=n;this.off("mouseover").off("mouseout").off("emphasis").off("normal");if("render"===q.showEffectOn)this._effectCfg?this.updateEffectAnimation(q):this.startEffectAnimation(q),this._effectCfg=q;else{this._effectCfg=null;this.stopEffectAnimation();var E=this.childAt(0),d=function(){E.trigger("emphasis");"render"!==q.showEffectOn&&this.startEffectAnimation(q)},f=function(){E.trigger("normal");"render"!==q.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",d,this).on("mouseout",f,this).on("emphasis",d,this).on("normal",f,this)}this._effectCfg=q};a.fadeOut=function(a){this.off("mouseover").off("mouseout").off("emphasis").off("normal");a&&a()};l.inherits(h,d);q.exports=h},function(q,n,a){a(278);a(279);q=a(1);q.registerLayout(a(284));q.registerVisual(a(285))},function(q,n,a){function m(a){var d=a.data;d&&d[0]&&d[0][0]&&d[0][0].coord&&(console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"),a.data=h.map(d,function(a){var b={coords:[a[0].coord,a[1].coord]};a[0].name&&(b.fromName=a[0].name);a[1].name&&(b.toName=a[1].name);return h.mergeAll([b,a[0],a[1]])}))}q=a(81);var p=a(101),h=a(4),l=a(6),f=a(79),e=q.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(a){m(a);e.superApply(this,"init",arguments)},mergeOption:function(a){m(a);e.superApply(this,"mergeOption",arguments)},getInitialData:function(a,d){if(!f.get(a.coordinateSystem))throw Error("Unkown coordinate system "+a.coordinateSystem);var c=new p(["value"],this);c.hasItemOption=!1;c.initData(a.data,[],function(a,b,d,e){if(a instanceof Array)return NaN;c.hasItemOption=!0;a=a.value;if(null!=a)return a instanceof Array?a[e]:a});return c},formatTooltip:function(a){var d=this.getData().getItemModel(a);if(a=d.get("name"))return a;a=d.get("fromName");var d=d.get("toName"),c=[];null!=a&&c.push(a);null!=d&&c.push(d);return l.encodeHTML(c.join(" \x3e "))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2E3,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}})},function(q,n,a){var m=a(213),p=a(280),h=a(214),l=a(281),f=a(282),e=a(283);a(1).extendChartView({type:"lines",init:function(){},render:function(a,d,c){var g=a.getData(),r=this._lineDraw,k=a.get("effect.show"),t=a.get("polyline"),n=a.get("large")&&g.count()>=a.get("largeThreshold");k&&n&&console.warn("Large lines not support effect");if(k!==this._hasEffet||t!==this._isPolyline||n!==this._isLarge)r&&r.remove(),r=this._lineDraw=n?new e:new m(t?k?f:l:k?p:h),this._hasEffet=k,this._isPolyline=t,this._isLarge=n;var q=a.get("zlevel"),t=a.get("effect.trailLength");c=c.getZr();c.painter.getLayer(q).clear(!0);null!=this._lastZlevel&&c.configLayer(this._lastZlevel,{motionBlur:!1});if(k&&t){var w=!1;d.eachSeries(function(c){c!==a&&c.get("zlevel")===q&&(w=!0)});w&&console.warn("Lines with trail effect should have an individual zlevel");c.configLayer(q,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(t/10+.9,1),0)})}this.group.add(r.group);r.updateData(g);this._lastZlevel=q},updateLayout:function(a,d,c){this._lineDraw.updateLayout(a);c.getZr().painter.getLayer(this._lastZlevel).clear(!0)},remove:function(a,d){this._lineDraw&&this._lineDraw.remove(d,!0)},dispose:function(){}})},function(q,n,a){function m(a,b,e){p.Group.call(this);this.add(this.createLine(a,b,e));this._updateEffectSymbol(a,b)}var p=a(20),h=a(214),l=a(4),f=a(114),e=a(10),b=a(40);n=m.prototype;n.createLine=function(a,b,e){return new h(a,b,e)};n._updateEffectSymbol=function(a,b){var e=a.getItemModel(b).getModel("effect"),h=e.get("symbolSize"),k=e.get("symbol");l.isArray(h)||(h=[h,h]);var m=e.get("color")||a.getItemVisual(b,"color"),p=this.childAt(1);this._symbolType!==k&&(this.remove(p),p=f.createSymbol(k,-.5,-.5,1,1,m),p.z2=100,p.culling=!0,this.add(p));p&&(p.setStyle("shadowColor",m),p.setStyle(e.getItemStyle(["color"])),p.attr("scale",h),p.setColor(m),p.attr("scale",h),this._symbolType=k,this._updateEffectAnimation(a,e,b))};n._updateEffectAnimation=function(a,b,e){var f=this.childAt(1);if(f){var k=this,h=a.getItemLayout(e),m=1E3*b.get("period"),p=b.get("loop"),n=b.get("constantSpeed");b=l.retrieve(b.get("delay"),function(b){return b/a.count()*m/3});var u="function"===typeof b;f.ignore=!0;this.updateAnimationPoints(f,h);0<n&&(m=this.getLineLength(f)/n*1E3);if(m!==this._period||p!==this._loop)f.stopAnimation(),h=b,u&&(h=b(e)),0<f.__t&&(h=-m*f.__t),f.__t=0,e=f.animate("",p).when(m,{__t:1}).delay(h).during(function(){k.updateSymbolPosition(f)}),p||e.done(function(){k.remove(f)}),e.start();this._period=m;this._loop=p}};n.getLineLength=function(a){return e.dist(a.__p1,a.__cp1)+e.dist(a.__cp1,a.__p2)};n.updateAnimationPoints=function(a,b){a.__p1=b[0];a.__p2=b[1];a.__cp1=b[2]||[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]};n.updateData=function(a,b,e){this.childAt(0).updateData(a,b,e);this._updateEffectSymbol(a,b)};n.updateSymbolPosition=function(a){var c=a.__p1,e=a.__p2,f=a.__cp1,k=a.__t,h=a.position,l=b.quadraticAt,m=b.quadraticDerivativeAt;h[0]=l(c[0],f[0],e[0],k);h[1]=l(c[1],f[1],e[1],k);h=m(c[0],f[0],e[0],k);c=m(c[1],f[1],e[1],k);a.rotation=-Math.atan2(c,h)-Math.PI/2;a.ignore=!1};n.updateLayout=function(a,b){this.childAt(0).updateLayout(a,b);var e=a.getItemModel(b).getModel("effect");this._updateEffectAnimation(a,e,b)};l.inherits(m,p.Group);q.exports=m},function(q,n,a){function m(a,f,e){p.Group.call(this);this._createPolyline(a,f,e)}var p=a(20),h=a(4);n=m.prototype;n._createPolyline=function(a,f,e){var b=a.getItemLayout(f),b=new p.Polyline({shape:{points:b}});this.add(b);this._updateCommonStl(a,f,e)};n.updateData=function(a,f,e){var b=a.hostModel,d=this.childAt(0),c={shape:{points:a.getItemLayout(f)}};p.updateProps(d,c,b,f);this._updateCommonStl(a,f,e)};n._updateCommonStl=function(a,f,e){var b=this.childAt(0),d=a.getItemModel(f);f=a.getItemVisual(f,"color");var c=e&&e.lineStyle,g=e&&e.hoverLineStyle;if(!e||a.hasItemOption)c=d.getModel("lineStyle.normal").getLineStyle(),g=d.getModel("lineStyle.emphasis").getLineStyle();b.useStyle(h.defaults({strokeNoScale:!0,fill:"none",stroke:f},c));b.hoverStyle=g;p.setHoverStyle(this)};n.updateLayout=function(a,f){this.childAt(0).setShape("points",a.getItemLayout(f))};h.inherits(m,p.Group);q.exports=m},function(q,n,a){function m(a,e,b){h.call(this,a,e,b);this._lastFramePercent=this._lastFrame=0}var p=a(281);n=a(4);var h=a(280),l=a(10);a=m.prototype;a.createLine=function(a,e,b){return new p(a,e,b)};a.updateAnimationPoints=function(a,e){this._points=e;for(var b=[0],d=0,c=1;c<e.length;c++)d+=l.dist(e[c-1],e[c]),b.push(d);if(0!==d){for(c=0;c<b.length;c++)b[c]/=d;this._offsets=b;this._length=d}};a.getLineLength=function(a){return this._length};a.updateSymbolPosition=function(a){var e=a.__t,b=this._points,d=this._offsets,c=b.length;if(d){var g=this._lastFrame;if(e<this._lastFramePercent){for(g=Math.min(g+1,c-1);0<=g&&!(d[g]<=e);g--);g=Math.min(g,c-2)}else{for(;g<c&&!(d[g]>e);g++);g=Math.min(g-1,c-2)}l.lerp(a.position,b[g],b[g+1],(e-d[g])/(d[g+1]-d[g]));a.rotation=-Math.atan2(b[g+1][1]-b[g][1],b[g+1][0]-b[g][0])-Math.PI/2;this._lastFrame=g;this._lastFramePercent=e;a.ignore=!1}};n.inherits(m,h);q.exports=m},function(q,n,a){function m(){this.group=new p.Group;this._lineEl=new f}var p=a(20),h=a(45),l=a(43),f=p.extendShape({shape:{polyline:!1,segs:[]},buildPath:function(a,b){for(var d=b.segs,c=b.polyline,g=0;g<d.length;g++){var f=d[g];if(c){a.moveTo(f[0][0],f[0][1]);for(var k=1;k<f.length;k++)a.lineTo(f[k][0],f[k][1])}else a.moveTo(f[0][0],f[0][1]),2<f.length?a.quadraticCurveTo(f[2][0],f[2][1],f[1][0],f[1][1]):a.lineTo(f[1][0],f[1][1])}},findDataIndex:function(a,b){for(var d=this.shape,c=d.segs,d=d.polyline,g=Math.max(this.style.lineWidth,1),f=0;f<c.length;f++){var k=c[f];if(d)for(var m=1;m<k.length;m++){if(l.containStroke(k[m-1][0],k[m-1][1],k[m][0],k[m][1],g,a,b))return f}else if(2<k.length){if(h.containStroke(k[0][0],k[0][1],k[2][0],k[2][1],k[1][0],k[1][1],g,a,b))return f}else if(l.containStroke(k[0][0],k[0][1],k[1][0],k[1][1],g,a,b))return f}return-1}});n=m.prototype;n.updateData=function(a){this.group.removeAll();var b=this._lineEl,d=a.hostModel;b.setShape({segs:a.mapArray(a.getItemLayout),polyline:d.get("polyline")});b.useStyle(d.getModel("lineStyle.normal").getLineStyle());(a=a.getVisual("color"))&&b.setStyle("stroke",a);b.setStyle("fill");b.seriesIndex=d.seriesIndex;b.on("mousemove",function(a){b.dataIndex=null;a=b.findDataIndex(a.offsetX,a.offsetY);0<a&&(b.dataIndex=a)});this.group.add(b)};n.updateLayout=function(a){a=a.getData();this._lineEl.setShape({segs:a.mapArray(a.getItemLayout)})};n.remove=function(){this.group.removeAll()};q.exports=m},function(q,n,a){q.exports=function(a){a.eachSeriesByType("lines",function(a){var h=a.coordinateSystem,l=a.getData();l.each(function(f){var e=l.getItemModel(f),b=e.option instanceof Array?e.option:e.get("coords");if(!(b instanceof Array&&0<b.length&&b[0]instanceof Array))throw Error("Invalid coords "+JSON.stringify(b)+". Lines must have 2d coords array in data item.");var d=[];if(a.get("polyline"))for(e=0;e<b.length;e++)d.push(h.dataToPoint(b[e]));else d[0]=h.dataToPoint(b[0]),d[1]=h.dataToPoint(b[1]),b=e.get("lineStyle.normal.curveness"),+b&&(d[2]=[(d[0][0]+d[1][0])/2-(d[0][1]-d[1][1])*b,(d[0][1]+d[1][1])/2-(d[1][0]-d[0][0])*b]);l.setItemLayout(f,d)})})}},function(q,n){function a(a){a instanceof Array||(a=[a,a]);return a}q.exports=function(m){m.eachSeriesByType("lines",function(m){var h=m.getData(),l=a(m.get("symbol")),f=a(m.get("symbolSize")),e=["lineStyle","normal","opacity"];h.setVisual("fromSymbol",l&&l[0]);h.setVisual("toSymbol",l&&l[1]);h.setVisual("fromSymbolSize",f&&f[0]);h.setVisual("toSymbolSize",f&&f[1]);h.setVisual("opacity",m.get(e));h.each(function(b){var d=h.getItemModel(b),c=a(d.getShallow("symbol",!0)),g=a(d.getShallow("symbolSize",!0)),d=d.get(e);c[0]&&h.setItemVisual(b,"fromSymbol",c[0]);c[1]&&h.setItemVisual(b,"toSymbol",c[1]);g[0]&&h.setItemVisual(b,"fromSymbolSize",g[0]);g[1]&&h.setItemVisual(b,"toSymbolSize",g[1]);h.setItemVisual(b,"opacity",d)})})}},function(q,n,a){a(287);a(288)},function(q,n,a){n=a(81);var m=a(112);q.exports=n.extend({type:"series.heatmap",getInitialData:function(a,h){return m(a.data,this,h)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(q,n,a){function m(a,d,c){var g=a[1]-a[0];d=e.map(d,function(c){return{interval:[(c.interval[0]-a[0])/g,(c.interval[1]-a[0])/g]}});var f=d.length,k=0;return function(a){for(var b=k;b<f;b++){var e=d[b].interval;if(e[0]<=a&&a<=e[1]){k=b;break}}if(b===f)for(b=k-1;0<=b;b--)if(e=d[b].interval,e[0]<=a&&a<=e[1]){k=b;break}return 0<=b&&b<f&&c[b]}}function p(a,d){var c=a[1]-a[0];d=[(d[0]-a[0])/c,(d[1]-a[0])/c];return function(a){return a>=d[0]&&a<=d[1]}}function h(a){a=a.dimensions;return"lng"===a[0]&&"lat"===a[1]}var l=a(20),f=a(289),e=a(4);q.exports=a(1).extendChartView({type:"heatmap",render:function(a,d,c){var e;d.eachComponent("visualMap",function(c){c.eachTargetSeries(function(d){d===a&&(e=c)})});if(!e)throw Error("Heatmap must use with visualMap");this.group.removeAll();d=a.coordinateSystem;"cartesian2d"===d.type||"calendar"===d.type?this._renderOnCartesianAndCalendar(d,a,c):h(d)&&this._renderOnGeo(d,a,e,c)},dispose:function(){},_renderOnCartesianAndCalendar:function(a,d,c){if("cartesian2d"===a.type){c=a.getAxis("x");var g=a.getAxis("y");if("category"!==c.type||"category"!==g.type)throw Error("Heatmap on cartesian must have two category axes");if(!c.onBand||!g.onBand)throw Error("Heatmap on cartesian must have two axes with boundaryGap true");var f=c.getBandWidth(),k=g.getBandWidth()}var h=this.group,m=d.getData(),p=d.getModel("itemStyle.normal").getItemStyle(["color"]),n=d.getModel("itemStyle.emphasis").getItemStyle(),u=d.getModel("label.normal"),v=d.getModel("label.emphasis"),q=a.type,E="cartesian2d"===q?[d.coordDimToDataDim("x")[0],d.coordDimToDataDim("y")[0],d.coordDimToDataDim("value")[0]]:[d.coordDimToDataDim("time")[0],d.coordDimToDataDim("value")[0]];m.each(function(c){var g;if("cartesian2d"===q){if(isNaN(m.get(E[2],c)))return;g=a.dataToPoint([m.get(E[0],c),m.get(E[1],c)]);g=new l.Rect({shape:{x:g[0]-f/2,y:g[1]-k/2,width:f,height:k},style:{fill:m.getItemVisual(c,"color"),opacity:m.getItemVisual(c,"opacity")}})}else{if(isNaN(m.get(E[1],c)))return;g=new l.Rect({z2:1,shape:a.dataToRect([m.get(E[0],c)]).contentShape,style:{fill:m.getItemVisual(c,"color"),opacity:m.getItemVisual(c,"opacity")}})}var H=m.getItemModel(c);m.hasItemOption&&(p=H.getModel("itemStyle.normal").getItemStyle(["color"]),n=H.getModel("itemStyle.emphasis").getItemStyle(),u=H.getModel("label.normal"),v=H.getModel("label.emphasis"));var H=d.getRawValue(c),F="-";H&&null!=H[2]&&(F=H[2]);l.setText(p,u);p.text=u.getShallow("show")?d.getFormattedLabel(c,"normal")||F:null;l.setText(n,v,!1);n.text=v.getShallow("show")?d.getFormattedLabel(c,"emphasis"):null;g.setStyle(p);l.setHoverStyle(g,m.hasItemOption?n:e.extend({},n));h.add(g);m.setItemGraphicEl(c,g)})},_renderOnGeo:function(a,d,c,e){var h=c.targetVisuals.inRange,k=c.targetVisuals.outOfRange,t=d.getData(),n=this._hmLayer||this._hmLayer||new f;n.blurSize=d.get("blurSize");n.pointSize=d.get("pointSize");n.minOpacity=d.get("minOpacity");n.maxOpacity=d.get("maxOpacity");d=a.getViewRect().clone();var q=a.getRoamTransform().transform;d.applyTransform(q);var w=Math.max(d.x,0),u=Math.max(d.y,0),q=Math.min(d.width+d.x,e.getWidth());d=Math.min(d.height+d.y,e.getHeight());e=q-w;d-=u;t=t.mapArray(["lng","lat","value"],function(c,d,e){c=a.dataToPoint([c,d]);c[0]-=w;c[1]-=u;c.push(e);return c});q=c.getExtent();c="visualMap.continuous"===c.type?p(q,c.option.range):m(q,c.getPieceList(),c.option.selected);n.update(t,e,d,h.color.getNormalizer(),{inRange:h.color.getColorMapper(),outOfRange:k.color.getColorMapper()},c);h=new l.Image({style:{width:e,height:d,x:w,y:u,image:n.canvas},silent:!0});this.group.add(h)}})},function(q,n,a){function m(){this.canvas=p.createCanvas();this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}var p=a(4);m.prototype={update:function(a,l,f,e,b,d){var c=this._getBrush(),g=this._getGradient(a,b,"inRange");b=this._getGradient(a,b,"outOfRange");var r=this.pointSize+this.blurSize,k=this.canvas,m=k.getContext("2d"),p=a.length;k.width=l;k.height=f;for(f=0;f<p;++f){l=a[f];var n=l[0],q=l[1];l=e(l[2]);m.globalAlpha=l;m.drawImage(c,n-r,q-r)}if(!k.width||!k.height)return k;a=m.getImageData(0,0,k.width,k.height);e=a.data;c=0;r=e.length;p=this.minOpacity;for(f=this.maxOpacity-p;c<r;)l=e[c+3]/256,n=4*Math.floor(255*l),0<l?(q=d(l)?g:b,0<l&&(l=l*f+p),e[c++]=q[n],e[c++]=q[n+1],e[c++]=q[n+2],e[c++]=q[n+3]*l*256):c+=4;m.putImageData(a,0,0);return k},_getBrush:function(){var a=this._brushCanvas||(this._brushCanvas=p.createCanvas()),l=this.pointSize+this.blurSize,f=2*l;a.width=f;a.height=f;var e=a.getContext("2d");e.clearRect(0,0,f,f);e.shadowOffsetX=f;e.shadowBlur=this.blurSize;e.shadowColor="#000";e.beginPath();e.arc(-l,l,this.pointSize,0,2*Math.PI,!0);e.closePath();e.fill();return a},_getGradient:function(a,l,f){a=this._gradientPixels;a=a[f]||(a[f]=new Uint8ClampedArray(1024));for(var e=[0,0,0,0],b=0,d=0;256>d;d++)l[f](d/255,!0,e),a[b++]=e[0],a[b++]=e[1],a[b++]=e[2],a[b++]=e[3];return a}};q.exports=m},function(q,n,a){q=a(4);a(128);a(291);a(292);n=a(148);var m=a(1);m.registerLayout(q.curry(n,"pictorialBar"));m.registerVisual(q.curry(a(124),"pictorialBar","roundRect",null));a(127)},function(q,n,a){var m=a(144).extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(a){a.stack=null;return m.superApply(this,"getInitialData",arguments)}});q.exports=m},function(q,n,a){function m(a,b,c,d){var e=a.getItemLayout(b),g=c.get("symbolRepeat"),f=c.get("symbolClip"),k=c.get("symbolPosition")||"start",h=(c.get("symbolRotate")||0)*Math.PI/180||0,l=c.get("symbolPatternSize")||2,m=c.isAnimationEnabled(),f={dataIndex:b,layout:e,itemModel:c,symbolType:a.getItemVisual(b,"symbol")||"circle",color:a.getItemVisual(b,"color"),symbolClip:f,symbolRepeat:g,symbolRepeatDirection:c.get("symbolRepeatDirection"),symbolPatternSize:l,rotation:h,animationModel:m?c:null,hoverAnimation:m&&c.get("hoverAnimation"),z2:c.getShallow("z",!0)||0},m=d.valueDim,r=c.get("symbolBoundingData"),t=d.coordSys.getOtherAxis(d.coordSys.getBaseAxis()),p=t.toGlobalCoord(t.dataToCoord(0)),n=1-+(0>=e[m.wh]);v.isArray(r)?(r=[t.toGlobalCoord(t.dataToCoord(t.scale.parse(r[0])))-p,t.toGlobalCoord(t.dataToCoord(t.scale.parse(r[1])))-p],r[1]<r[0]&&r.reverse(),n=r[n]):n=null!=r?t.toGlobalCoord(t.dataToCoord(t.scale.parse(r)))-p:g?d.coordSysExtent[m.index][n]-p:e[m.wh];f.boundingLength=n;g&&(f.repeatCutLength=e[m.wh]);f.pxSign=0<n?1:0>n?-1:0;m=f.boundingLength;n=f.pxSign;r=d.valueDim;t=d.categoryDim;p=Math.abs(e[t.wh]);a=a.getItemVisual(b,"symbolSize");v.isArray(a)?a=a.slice():(null==a&&(a="100%"),a=[a,a]);a[t.index]=H(a[t.index],p);a[r.index]=H(a[r.index],g?p:Math.abs(m));f.symbolSize=a;(f.symbolScale=[a[0]/l,a[1]/l])[r.index]*=(d.isHorizontal?-1:1)*n;l=f.symbolScale;if(a=c.get(F)||0)C.attr({scale:l.slice(),rotation:h}),C.updateTransform(),a/=C.getLineScale(),a*=l[d.valueDim.index];f.valueLineWidth=a;var q=f.symbolSize,h=c.get("symbolOffset");v.isArray(h)&&(h=[H(h[0],q[0]),H(h[1],q[1])]);b=h;m=f.boundingLength;n=f.repeatCutLength;h=d.categoryDim;l=d.valueDim;a=f.pxSign;t=r=Math.max(q[l.index]+f.valueLineWidth,0);if(g){t=Math.abs(m);c=v.retrieve(c.get("symbolMargin"),"15%")+"";p=!1;c.lastIndexOf("!")===c.length-1&&(p=!0,c=c.slice(0,c.length-1));c=H(c,q[l.index]);var w=Math.max(r+2*c,0),x=p?0:2*c,y=z.isNumeric(g),q=y?g:u((t+x)/w);c=(t-q*r)/2/(p?q:q-1);w=r+2*c;x=p?0:2*c;y||"fixed"===g||(q=n?u((Math.abs(n)+x)/w):0);t=q*w-x;f.repeatTimes=q;f.symbolMargin=c}g=t/2*a;c=f.pathPosition=[];c[h.index]=e[h.wh]/2;c[l.index]="start"===k?g:"end"===k?m-g:m/2;b&&(c[0]+=b[0],c[1]+=b[1]);k=f.bundlePosition=[];k[h.index]=e[h.xy];k[l.index]=e[l.xy];k=f.barRectShape=v.extend({},e);k[l.wh]=a*Math.max(Math.abs(e[l.wh]),Math.abs(c[l.index]+g));k[h.wh]=e[h.wh];k=f.clipShape={};k[h.xy]=-e[h.xy];k[h.wh]=d.ecSize[h.wh];k[l.xy]=0;k[l.wh]=e[l.wh];return f}function p(a){var b=a.symbolPatternSize;a=E.createSymbol(a.symbolType,-b/2,-b/2,b,b,a.color);a.attr({culling:!0});"image"!==a.type&&a.setStyle({strokeNoScale:!0});return a}function h(a,b,c,d){function e(a){var b=l.slice(),d=c.pxSign,g=a;if("start"===c.symbolRepeatDirection?0<d:0>d)g=m-1-a;b[r.index]=n*(g-m/2+.5)+l[r.index];return{position:b,scale:c.symbolScale.slice(),rotation:c.rotation}}function f(){A(a,function(a){a.trigger("emphasis")})}function k(){A(a,function(a){a.trigger("normal")})}var h=a.__pictorialBundle,l=c.pathPosition,r=b.valueDim,m=c.repeatTimes||0,t=0,n=c.symbolSize[b.valueDim.index]+c.valueLineWidth+2*c.symbolMargin;for(A(a,function(a){a.__pictorialAnimationIndex=t;a.__pictorialRepeatTimes=m;t<m?x(a,null,e(t),c,d):x(a,null,{scale:[0,0]},c,d,function(){h.remove(a)});g(a,c);t++});t<m;t++){b=p(c);b.__pictorialAnimationIndex=t;b.__pictorialRepeatTimes=m;h.add(b);var u=e(t);x(b,{position:u.position,scale:[0,0]},{scale:u.scale,rotation:u.rotation},c,d);b.on("mouseover",f).on("mouseout",k);g(b,c)}}function l(a,b,c,d){function e(){this.trigger("emphasis")}function f(){this.trigger("normal")}b=a.__pictorialBundle;var k=a.__pictorialMainPath;k?x(k,null,{position:c.pathPosition.slice(),scale:c.symbolScale.slice(),rotation:c.rotation},c,d):(k=a.__pictorialMainPath=p(c),b.add(k),x(k,{position:c.pathPosition.slice(),scale:[0,0],rotation:c.rotation},{scale:c.symbolScale.slice()},c,d),k.on("mouseover",e).on("mouseout",f));g(k,c)}function f(a,b,c){var d=v.extend({},b.barRectShape),e=a.__pictorialBarRect;e?x(e,null,{shape:d},b,c):(e=a.__pictorialBarRect=new y.Rect({z2:2,shape:d,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),a.add(e))}function e(a,b,c,d){if(c.symbolClip){var e=a.__pictorialClipPath,g=v.extend({},c.clipShape);b=b.valueDim;var f=c.animationModel,k=c.dataIndex;e?y.updateProps(e,{shape:g},f,k):(g[b.wh]=0,e=new y.Rect({shape:g}),a.__pictorialBundle.setClipPath(e),a.__pictorialClipPath=e,a={},a[b.wh]=c.clipShape[b.wh],y[d?"updateProps":"initProps"](e,{shape:a},f,k))}}function b(a,b){var e=a.getItemModel(b);e.getAnimationDelayParams=d;e.isAnimationEnabled=c;return e}function d(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function c(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function g(a,b){a.off("emphasis").off("normal");var c=b.symbolScale.slice();b.hoverAnimation&&a.on("emphasis",function(){this.animateTo({scale:[1.1*c[0],1.1*c[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:c.slice()},400,"elasticOut")})}function r(a,b,c,d){var g=new y.Group,k=new y.Group;g.add(k);g.__pictorialBundle=k;k.attr("position",c.bundlePosition.slice());c.symbolRepeat?h(g,b,c):l(g,b,c);f(g,c,d);e(g,b,c,d);g.__pictorialShapeStr=t(a,c);g.__pictorialSymbolMeta=c;return g}function k(a,b,c,d){var e=d.__pictorialBarRect;e&&(e.style.text=null);var g=[];A(d,function(a){g.push(a)});d.__pictorialMainPath&&g.push(d.__pictorialMainPath);d.__pictorialClipPath&&(c=null);v.each(g,function(a){y.updateProps(a,{scale:[0,0]},c,b,function(){d.parent&&d.parent.remove(d)})});a.setItemGraphicEl(b,null)}function t(a,b){return[a.getItemVisual(b.dataIndex,"symbol")||"none",!!b.symbolRepeat,!!b.symbolClip].join(":")}function A(a,b,c){v.each(a.__pictorialBundle.children(),function(d){d!==a.__pictorialBarRect&&b.call(c,d)})}function x(a,b,c,d,e,g){b&&a.attr(b);d.symbolClip&&!e?c&&a.attr(c):c&&y[e?"updateProps":"initProps"](a,c,d.animationModel,d.dataIndex,g)}function w(a,b,c){var d=c.color,e=c.dataIndex,g=c.itemModel,f=g.getModel("itemStyle.normal").getItemStyle(["color"]),k=g.getModel("itemStyle.emphasis").getItemStyle(),h=g.getShallow("cursor");A(a,function(a){a.setColor(d);a.setStyle(v.defaults({fill:d,opacity:c.opacity},f));y.setHoverStyle(a,k);h&&(a.cursor=h);a.z2=c.z2});var l={};a=a.__pictorialBarRect;B.setLabel(a.style,l,g,d,b.seriesModel,e,b.valueDim.posDesc[+(0<c.boundingLength)]);y.setHoverStyle(a,l)}function u(a){var b=Math.round(a);return 1E-4>Math.abs(a-b)?b:Math.ceil(a)}var v=a(4),y=a(20),E=a(114),z=a(7),B=a(146),H=z.parsePercent,F=["itemStyle","normal","borderWidth"],D=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],C=new y.Circle;n=a(1).extendChartView({type:"pictorialBar",render:function(a,c,d){var g=this.group,p=a.getData(),n=this._data;c=a.coordinateSystem;var u=!!c.getBaseAxis().isHorizontal(),v=c.grid.getRect(),q={ecSize:{width:d.getWidth(),height:d.getHeight()},seriesModel:a,coordSys:c,coordSysExtent:[[v.x,v.x+v.width],[v.y,v.y+v.height]],isHorizontal:u,valueDim:D[+u],categoryDim:D[1-u]};p.diff(n).add(function(a){if(p.hasValue(a)){var c=b(p,a),c=m(p,a,c,q),d=r(p,q,c);p.setItemGraphicEl(a,d);g.add(d);w(d,q,c)}}).update(function(a,c){var d=n.getItemGraphicEl(c);if(p.hasValue(a)){var k=b(p,a),k=m(p,a,k,q),u=t(p,k);d&&u!==d.__pictorialShapeStr&&(g.remove(d),p.setItemGraphicEl(a,null),d=null);if(d){var u=d,v=k.animationModel,x=k.dataIndex;y.updateProps(u.__pictorialBundle,{position:k.bundlePosition.slice()},v,x);k.symbolRepeat?h(u,q,k,!0):l(u,q,k,!0);f(u,k,!0);e(u,q,k,!0)}else d=r(p,q,k,!0);p.setItemGraphicEl(a,d);d.__pictorialSymbolMeta=k;g.add(d);w(d,q,k)}else g.remove(d)}).remove(function(a){var b=n.getItemGraphicEl(a);b&&k(n,a,b.__pictorialSymbolMeta.animationModel,b)}).execute();this._data=p;return this.group},dispose:v.noop,remove:function(a,b){var c=this.group,d=this._data;a.get("animation")?d&&d.eachItemGraphicEl(function(b){k(d,b.dataIndex,a,b)}):c.removeAll()}});q.exports=n},function(q,n,a){q=a(1);n=a(4);a(294);a(311);a(312);q.registerLayout(a(314));q.registerVisual(a(315));q.registerProcessor(n.curry(a(157),"themeRiver"))},function(q,n,a){a(295);a(298);a(300);a(301);a(310);a(1).extendComponentView({type:"single"})},function(q,n,a){var m=a(296);a(79).register("single",{create:function(a,h){var l=[];a.eachComponent("singleAxis",function(f,e){var b=new m(f,a,h);b.name="single_"+e;b.resize(f,h);f.coordinateSystem=b;l.push(b)});a.eachSeries(function(f){if("singleAxis"===f.get("coordinateSystem")){var e=a.queryComponents({mainType:"singleAxis",index:f.get("singleAxisIndex"),id:f.get("singleAxisId")})[0];f.coordinateSystem=e&&e.coordinateSystem}});return l},dimensions:m.prototype.dimensions})},function(q,n,a){function m(a,e,b){this.dimension="single";this.dimensions=["single"];this._axis=null;this._init(a,e,b);this.model=a}var p=a(297),h=a(104),l=a(74);m.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:m,_init:function(a,e,b){e=new p(this.dimension,h.createScaleByModel(a),[0,0],a.get("type"),a.get("position"));e.onBand="category"===e.type&&a.get("boundaryGap");e.inverse=a.get("inverse");e.orient=a.get("orient");a.axis=e;e.model=a;e.coordinateSystem=this;this._axis=e},update:function(a,e){a.eachSeries(function(a){if(a.coordinateSystem===this){var d=a.getData();this._axis.scale.unionExtentFromData(d,a.coordDimToDataDim(this.dimension));h.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(a,e){this._rect=l.getLayoutRect({left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")},{width:e.getWidth(),height:e.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var a=this._rect,e=this._axis,b=e.isHorizontal(),d=b?[0,a.width]:[0,a.height],c=e.reverse?1:0;e.setExtent(d[c],d[1-c]);this._updateAxisTransform(e,b?a.x:a.y)},_updateAxisTransform:function(a,e){var b=a.getExtent(),d=b[0]+b[1],b=a.isHorizontal();a.toGlobalCoord=b?function(a){return a+e}:function(a){return d-a+e};a.toLocalCoord=b?function(a){return a-e}:function(a){return d-a+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(a){var e=this.getRect(),b=this.getAxis();return"horizontal"===b.orient?b.contain(b.toLocalCoord(a[0]))&&a[1]>=e.y&&a[1]<=e.y+e.height:b.contain(b.toLocalCoord(a[1]))&&a[0]>=e.y&&a[0]<=e.y+e.height},pointToData:function(a){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(a["horizontal"===e.orient?0:1]))]},dataToPoint:function(a){var e=this.getAxis(),b=this.getRect(),d=[],c="horizontal"===e.orient?0:1;a instanceof Array&&(a=a[0]);d[c]=e.toGlobalCoord(e.dataToCoord(+a));d[1-c]=0===c?b.y+b.height/2:b.x+b.width/2;return d}};q.exports=m},function(q,n,a){n=a(4);var m=a(103);a=function(a,h,l,f,e){m.call(this,a,h,l);this.type=f||"value";this.position=e||"bottom";this._labelInterval=this.orient=null};a.prototype={constructor:a,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},pointToData:function(a,h){return this.coordinateSystem.pointToData(a,h)[0]},toGlobalCoord:null,toLocalCoord:null};n.inherits(a,m);q.exports=a},function(q,n,a){var m=a(138),p=a(4),h=a(20),l=a(299),f=m.getInterval,e=m.ifIgnoreOnTick,b=["axisLine","axisLabel","axisTick","axisName"],d=a(139).extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(a,e,f,k){var h=this.group;h.removeAll();var n=l.layout(a),q=new m(a,n);p.each(b,q.add,q);h.add(q.getGroup());a.get("splitLine.show")&&this._splitLine(a,n.labelInterval);d.superCall(this,"render",a,e,f,k)},_splitLine:function(a,b){var d=a.axis;if(!d.scale.isBlank()){for(var k=a.getModel("splitLine"),l=k.getModel("lineStyle"),m=l.get("width"),n=l.get("color"),k=f(k,b),n=n instanceof Array?n:[n],p=a.coordinateSystem.getRect(),u=d.isHorizontal(),v=[],q=0,E=d.getTicksCoords(),z=[],B=[],H=0;H<E.length;++H)if(!e(d,H,k)){var F=d.toGlobalCoord(E[H]);u?(z[0]=F,z[1]=p.y,B[0]=F,B[1]=p.y+p.height):(z[0]=p.x,z[1]=F,B[0]=p.x+p.width,B[1]=F);F=q++%n.length;v[F]=v[F]||[];v[F].push(new h.Line(h.subPixelOptimizeLine({shape:{x1:z[0],y1:z[1],x2:B[0],y2:B[1]},style:{lineWidth:m},silent:!0})))}for(H=0;H<v.length;++H)this.group.add(h.mergePath(v[H],{style:{stroke:n[H%n.length],lineDash:l.getLineDash(m),lineWidth:m},silent:!0}))}}});q.exports=d},function(q,n,a){var m=a(4);q.exports={layout:function(a,h){h=h||{};var l=a.axis,f={},e=l.position,b=l.orient,d=a.coordinateSystem.getRect(),d=[d.x,d.x+d.width,d.y,d.y+d.height],c={top:d[2],bottom:d[3]},g={left:d[0],right:d[1]};f.position=["vertical"===b?g[e]:d[0],"horizontal"===b?c[e]:d[3]];f.rotation=Math.PI/2*{horizontal:0,vertical:1}[b];f.labelDirection=f.tickDirection=f.nameDirection={top:-1,bottom:1,right:1,left:-1}[e];a.get("axisTick.inside")&&(f.tickDirection=-f.tickDirection);m.retrieve(h.labelInside,a.get("axisLabel.inside"))&&(f.labelDirection=-f.labelDirection);b=h.rotate;null==b&&(b=a.get("axisLabel.rotate"));f.labelRotation="top"===e?-b:b;f.labelInterval=l.getLabelInterval();f.z2=1;return f}}},function(q,n,a){var m=a(72);n=a(134);var p=a(4),m=m.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});p.merge(m.prototype,a(115));n("single",m,function(a,l){return l.type||(l.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});q.exports=m},function(q,n,a){q=a(1);var m=a(140);n=a(302);var p=a(4);a(304);a(305);a(307);q.registerPreprocessor(function(a){if(a){a.axisPointer&&0!==a.axisPointer.length||(a.axisPointer={});var l=a.axisPointer.link;l&&!p.isArray(l)&&(a.axisPointer.link=[l])}});q.registerProcessor(q.PRIORITY.PROCESSOR.STATISTIC,function(a,l){a.getComponent("axisPointer").coordSysAxesInfo=m.collect(a,l)});q.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},n)},function(q,n,a){function m(a,b,c,d,e){var f=a.axis;if(!f.scale.isBlank()&&f.containData(b))if(a.involveSeries){var k=p(b,a),h=k.payloadBatch,l=k.snapToValue;h[0]&&null==e.seriesIndex&&g.extend(e,h[0]);!d&&a.snap&&f.containData(l)&&null!=l&&(b=l);c.showPointer(a,b,h,e);c.showTooltip(a,k,l)}else c.showPointer(a,b)}function p(a,b){var c=b.axis,d=c.dim,e=a,g=[],f=Number.MAX_VALUE,k=-1;t(b.seriesModels,function(b,h){var l=b.coordDimToDataDim(d),m;if(b.getAxisTooltipData)l=b.getAxisTooltipData(l,a,c),m=l.dataIndices,l=l.nestestValue;else{m=b.getData().indicesOfNearest(l[0],a,!1,"category"===c.type?.5:null);if(!m.length)return;l=b.getData().get(l[0],m[0])}if(null!=l&&isFinite(l)){var r=a-l,n=Math.abs(r);if(n<=f){if(n<f||0<=r&&0>k)f=n,k=r,e=l,g.length=0;t(m,function(a){g.push({seriesIndex:b.seriesIndex,dataIndexInside:a,dataIndex:b.getData().getRawIndex(a)})})}}});return{payloadBatch:g,snapToValue:e}}function h(a,b,c,d){a[b.key]={value:c,payloadBatch:d}}function l(a,b,c,d){c=c.payloadBatch;var e=b.axis,g=e.model,f=b.axisPointerModel;if(b.triggerTooltip&&c.length){b=b.coordSys.model;var k=r.makeKey(b),h=a.map[k];h||(h=a.map[k]={coordSysId:b.id,coordSysIndex:b.componentIndex,coordSysType:b.type,coordSysMainType:b.mainType,dataByAxis:[]},a.list.push(h));h.dataByAxis.push({axisDim:e.dim,axisIndex:g.componentIndex,axisType:g.type,axisId:g.id,value:d,valueLabelOpt:{precision:f.get("label.precision"),formatter:f.get("label.formatter")},seriesDataIndices:c.slice()})}}function f(a,b,c){var d=c.axesInfo=[];t(b,function(b,c){var e=b.axisPointerModel.option,g=a[c];g?(!b.useHandle&&(e.status="show"),e.value=g.value,e.seriesDataIndices=(g.payloadBatch||[]).slice()):!b.useHandle&&(e.status="hide");"show"===e.status&&d.push({axisDim:b.axis.dim,axisIndex:b.axis.model.componentIndex,value:e.value})})}function e(a,b,d,e){if(c(b)||!a.list.length)e({type:"hideTip"});else{var g=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};e({type:"showTip",escapeConnect:!0,x:b[0],y:b[1],tooltipOption:d.tooltipOption,position:d.position,dataIndexInside:g.dataIndexInside,dataIndex:g.dataIndex,seriesIndex:g.seriesIndex,dataByCoordSys:a.list})}}function b(a,b,c){b=c.getZr();var d=x(b).axisPointerLastHighlights||{},e=x(b).axisPointerLastHighlights={};t(a,function(a,b){var c=a.axisPointerModel.option;"show"===c.status&&t(c.seriesDataIndices,function(a){e[a.seriesIndex+" | "+a.dataIndex]=a})});var f=[],k=[];g.each(d,function(a,b){!e[b]&&k.push(a)});g.each(e,function(a,b){!d[b]&&f.push(a)});k.length&&c.dispatchAction({type:"downplay",escapeConnect:!0,batch:k});f.length&&c.dispatchAction({type:"highlight",escapeConnect:!0,batch:f})}function d(a){var b=a.axis.model,c={};a=c.axisDim=a.axis.dim;c.axisIndex=c[a+"AxisIndex"]=b.componentIndex;c.axisName=c[a+"AxisName"]=b.name;c.axisId=c[a+"AxisId"]=b.id;return c}function c(a){return!a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}var g=a(4);n=a(5);var r=a(140),k=a(303),t=g.each,A=g.curry,x=n.makeGetter();q.exports=function(a,r,n){var p=a.currTrigger,q=[a.x,a.y],x=a.dispatchAction||g.bind(n.dispatchAction,n),B=r.getComponent("axisPointer").coordSysAxesInfo;if(B){c(q)&&(q=k({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},r).point);var H=c(q),F=a.axesInfo,D=B.axesInfo,C="leave"===p||c(q),I={},J={};r={list:[],map:{}};var L={showPointer:A(h,J),showTooltip:A(l,r)};t(B.coordSysMap,function(a,b){var c=H||a.containPoint(q);t(B.coordSysAxesInfo[b],function(a,b){var d=a.axis,e;a:{for(e=0;e<(F||[]).length;e++){var g=F[e];if(a.axis.dim===g.axisDim&&a.axis.model.componentIndex===g.axisIndex){e=g;break a}}e=void 0}C||!c||F&&!e||(e=e&&e.value,null!=e||H||(e=d.pointToData(q)),null!=e&&m(a,e,L,!1,I))})});var N={};t(D,function(a,b){var c=a.linkGroup;c&&!J[b]&&t(c.axesInfo,function(b,e){var g=J[e];b!==a&&g&&(g=g.value,c.mapper&&(g=a.axis.scale.parse(c.mapper(g,d(b),d(a)))),N[a.key]=g)})});t(N,function(a,b){m(D[b],a,L,!0,I)});f(J,D,I);e(r,q,a,x);b(D,x,n);return I}}},function(q,n,a){var m=a(4),p=a(5);q.exports=function(a,l){var f=[],e=a.seriesIndex,b;if(null==e||!(b=l.getSeriesByIndex(e)))return{point:[]};var d=b.getData(),c=p.queryDataIndex(d,a);if(null==c||m.isArray(c))return{point:[]};var e=d.getItemGraphicEl(c),g=b.coordinateSystem;b.getTooltipPosition?f=b.getTooltipPosition(c)||[]:g&&g.dataToPoint?f=g.dataToPoint(d.getValues(m.map(g.dimensions,function(a){return b.coordDimToDataDim(a)[0]}),c,!0))||[]:e&&(f=e.getBoundingRect().clone(),f.applyTransform(e.transform),f=[f.x+f.width/2,f.y+f.height/2]);return{point:f,el:e}}},function(q,n,a){n=a(1).extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});q.exports=n},function(q,n,a){var m=a(306),p=a(1).extendComponentView({type:"axisPointer",render:function(a,l,f){l=l.getComponent("tooltip");var e=a.get("triggerOn")||l&&l.get("triggerOn")||"mousemove|click";m.register("axisPointer",f,function(a,d,c){"none"!==e&&("leave"===a||0<=e.indexOf(a))&&c({type:"updateAxisPointer",currTrigger:a,x:d&&d.offsetX,y:d&&d.offsetY})})},remove:function(a,l){m.disopse(l.getZr(),"axisPointer");p.superApply(this._model,"remove",arguments)},dispose:function(a,l){m.unregister("axisPointer",l);p.superApply(this._model,"dispose",arguments)}})},function(q,n,a){function m(a,e){function k(b,k){a.on(b,function(b){var h=f(e);c(d(a).records,function(a){a&&k(a,b,h.dispatchAction)});p(h.pendings,e)})}d(a).initialized||(d(a).initialized=!0,k("click",b.curry(l,"click")),k("mousemove",b.curry(l,"mousemove")),k("globalout",h))}function p(a,b){var c=a.showTip.length,d=a.hideTip.length,e;c?e=a.showTip[c-1]:d&&(e=a.hideTip[d-1]);e&&(e.dispatchAction=null,b.dispatchAction(e))}function h(a,b,c){a.handler("leave",null,c)}function l(a,b,c,d){b.handler(a,c,d)}function f(a){var b={showTip:[],hideTip:[]},c=function(d){var e=b[d.type];e?e.push(d):(d.dispatchAction=c,a.dispatchAction(d))};return{dispatchAction:c,pendings:b}}var e=a(2),b=a(4),d=a(5).makeGetter(),c=b.each;q.exports={register:function(a,b,c){if(!e.node){var f=b.getZr();d(f).records||(d(f).records={});m(f,b);(d(f).records[a]||(d(f).records[a]={})).handler=c}},unregister:function(a,b){if(!e.node){var c=b.getZr();(d(c).records||{})[a]&&(d(c).records[a]=null)}}}},function(q,n,a){function m(a,b){var d={};d[b.dim+"AxisIndex"]=b.index;return a.getCartesian(d)}var p=a(20);n=a(308);var h=a(309),l=a(141);a=a(139);n=n.extend({makeElOption:function(a,b,d,c,g){var r=d.axis,k=r.grid,t=c.get("type"),n=m(k,r).getOtherAxis(r).getGlobalExtent(),p=r.toGlobalCoord(r.dataToCoord(b,!0));if(t&&"none"!==t){var q=h.buildElStyle(c),r=f[t](r,p,n,q);r.style=q;a.graphicKey=r.type;a.pointer=r}k=l.layout(k.model,d);h.buildCartesianSingleLabelElOption(b,a,k,d,c,g)},getHandleTransform:function(a,b,d){var c=l.layout(b.axis.grid.model,b,{labelInside:!1});c.labelMargin=d.get("handle.margin");return{position:h.getTransformedPosition(b.axis,a,c),rotation:c.rotation+(0>c.labelDirection?Math.PI:0)}},updateHandleTransform:function(a,b,d,c){c=d.axis;var g=c.grid;d=c.getGlobalExtent(!0);var f=m(g,c).getOtherAxis(c).getGlobalExtent();c="x"===c.dim?0:1;g=a.position;g[c]+=b[c];g[c]=Math.min(d[1],g[c]);g[c]=Math.max(d[0],g[c]);b=(f[1]+f[0])/2;b=[b,b];b[c]=g[c];return{position:g,rotation:a.rotation,cursorPoint:b,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][c]}}});var f={line:function(a,b,d,c){a=h.makeLineShape([b,d[0]],[b,d[1]],"x"===a.dim?0:1);p.subPixelOptimizeLine({shape:a,style:c});return{type:"Line",shape:a}},shadow:function(a,b,d,c){c=a.getBandWidth();return{type:"Rect",shape:h.makeRectShape([b-c/2,d[0]],[c,d[1]-d[0]],"x"===a.dim?0:1)}}};a.registerAxisPointerClass("CartesianAxisPointer",n);q.exports=n},function(q,n,a){function m(){}function p(a,b,e,g){h(c(e).lastProp,g)||(c(e).lastProp=g,b?d.updateProps(e,g,a):(e.stopAnimation(),e.attr(g)))}function h(a,c){if(b.isObject(a)&&b.isObject(c)){var d=!0;b.each(c,function(b,c){d=d&&h(a[c],b)});return!!d}return a===c}function l(a,b){a[b.get("label.show")?"show":"hide"]()}function f(a){return{position:a.position.slice(),rotation:a.rotation||0}}function e(a,b,c){var d=b.get("z"),e=b.get("zlevel");a&&a.traverse(function(a){"group"!==a.type&&(null!=d&&(a.z=d),null!=e&&(a.zlevel=e),a.silent=c)})}var b=a(4);n=a(15);var d=a(20),c=a(5).makeGetter(),g=a(140),r=a(91),k=a(84),t=b.clone,A=b.bind;m.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(a,c,g,f){var k=c.get("value"),h=c.get("status");this._axisModel=a;this._axisPointerModel=c;this._api=g;if(f||this._lastValue!==k||this._lastStatus!==h){this._lastValue=k;this._lastStatus=h;f=this._group;var l=this._handle;h&&"hide"!==h?(f&&f.show(),l&&l.show(),h={},this.makeElOption(h,k,a,c,g),l=h.graphicKey,l!==this._lastGraphicKey&&this.clear(g),this._lastGraphicKey=l,l=this._moveAnimation=this.determineAnimation(a,c),f?(a=b.curry(p,c,l),this.updatePointerEl(f,h,a,c),this.updateLabelEl(f,h,a,c)):(f=this._group=new d.Group,this.createPointerEl(f,h,a,c),this.createLabelEl(f,h,a,c),g.getZr().add(f)),e(f,c,!0),this._renderHandle(k)):(f&&f.hide(),l&&l.hide())}},remove:function(a){this.clear(a)},dispose:function(a){this.clear(a)},determineAnimation:function(a,b){var c=b.get("animation"),d=a.axis,e="category"===d.type,f=b.get("snap");return f||e?"auto"===c||null==c?(c=this.animationThreshold,e&&d.getBandWidth()>c?!0:f?(e=g.getAxisInfo(a).seriesDataCount,d=d.getExtent(),Math.abs(d[0]-d[1])/e>c):!1):!0===c:!1},makeElOption:function(a,b,c,d,e){},createPointerEl:function(a,b,e,g){if(e=b.pointer)b=c(a).pointerEl=new d[e.type](t(b.pointer)),a.add(b)},createLabelEl:function(a,b,e,g){b.label&&(b=c(a).labelEl=new d.Rect(t(b.label)),a.add(b),l(b,g))},updatePointerEl:function(a,b,d){if(a=c(a).pointerEl)a.setStyle(b.pointer.style),d(a,{shape:b.pointer.shape})},updateLabelEl:function(a,b,d,e){if(a=c(a).labelEl)a.setStyle(b.label.style),d(a,{shape:b.label.shape,position:b.label.position}),l(a,e)},_renderHandle:function(a){if(!this._dragging&&this.updateHandleTransform){var c=this._axisPointerModel,g=this._api.getZr(),f=this._handle,h=c.getModel("handle"),l=c.get("status");if(h.get("show")&&l&&"hide"!==l){var m;this._handle||(m=!0,f=this._handle=d.createIcon(h.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(a){r.stop(a.event)},onmousedown:A(this._onHandleDragMove,this,0,0),drift:A(this._onHandleDragMove,this),ondragend:A(this._onHandleDragEnd,this)}),g.add(f));e(f,c,!1);f.setStyle(h.getItemStyle(null,"color borderColor borderWidth opacity shadowColor shadowBlur shadowOffsetX shadowOffsetY".split(" ")));c=h.get("size");b.isArray(c)||(c=[c,c]);f.attr("scale",[c[0]/2,c[1]/2]);k.createOrUpdate(this,"_doDispatchAxisPointer",h.get("throttle")||0,"fixRate");this._moveHandleToValue(a,m)}else f&&g.remove(f),this._handle=null}},_moveHandleToValue:function(a,b){p(this._axisPointerModel,!b&&this._moveAnimation,this._handle,f(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(a,b){var d=this._handle;if(d){this._dragging=!0;var e=this.updateHandleTransform(f(d),[a,b],this._axisModel,this._axisPointerModel);this._payloadInfo=e;d.stopAnimation();d.attr(f(e));c(d).lastProp=null;this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var a=this._payloadInfo,b=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:b.axis.dim,axisIndex:b.componentIndex}]})}},_onHandleDragEnd:function(a){this._dragging=!1;this._handle&&(a=this._axisPointerModel.get("value"),this._moveHandleToValue(a),this._api.dispatchAction({type:"hideTip"}))},getHandleTransform:null,updateHandleTransform:null,clear:function(a){this._lastStatus=this._lastValue=null;a=a.getZr();var b=this._group,c=this._handle;a&&b&&(this._lastGraphicKey=null,b&&a.remove(b),c&&a.remove(c),this._payloadInfo=this._handle=this._group=null)},doClear:function(){},buildLabel:function(a,b,c){c=c||0;return{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}};m.prototype.constructor=m;n.enableClassExtend(m);q.exports=m},function(q,n,a){var m=a(4),p=a(20),h=a(8),l=a(6),f=a(11),e=a(104),b=a(138),d={buildElStyle:function(a){var b=a.get("type");a=a.getModel(b+"Style");var d;"line"===b?(d=a.getLineStyle(),d.fill=null):"shadow"===b&&(d=a.getAreaStyle(),d.stroke=null);return d},buildLabelElOption:function(a,b,e,f,m){var n=e.get("value"),n=d.getValueLabel(n,b.axis,b.ecModel,e.get("seriesDataIndices"),{precision:e.get("label.precision"),formatter:e.get("label.formatter")});e=e.getModel("label");var p=l.normalizeCssArray(e.get("padding")||0),q=e.getFont(),u=h.getBoundingRect(n,q),v=m.position,y=u.width+p[1]+p[3],p=u.height+p[0]+p[2],u=m.align;"right"===u&&(v[0]-=y);"center"===u&&(v[0]-=y/2);m=m.verticalAlign;"bottom"===m&&(v[1]-=p);"middle"===m&&(v[1]-=p/2);m=f.getWidth();f=f.getHeight();v[0]=Math.min(v[0]+y,m)-y;v[1]=Math.min(v[1]+p,f)-p;v[0]=Math.max(v[0],0);v[1]=Math.max(v[1],0);(f=e.get("backgroundColor"))&&"auto"!==f||(f=b.get("axisLine.lineStyle.color"));a.label={shape:{x:0,y:0,width:y,height:p,r:e.get("borderRadius")},position:v.slice(),style:{text:n,textFont:q,textFill:e.getTextColor(),textPosition:"inside",fill:f,stroke:e.get("borderColor")||"transparent",lineWidth:e.get("borderWidth")||0,shadowBlur:e.get("shadowBlur"),shadowColor:e.get("shadowColor"),shadowOffsetX:e.get("shadowOffsetX"),shadowOffsetY:e.get("shadowOffsetY")},z2:10}},getValueLabel:function(a,b,d,f,h){var l=b.scale.getLabel(a,{precision:h.precision});if(h=h.formatter){var n={value:e.getAxisRawValue(b,a),seriesData:[]};m.each(f,function(a){var b=d.getSeriesByIndex(a.seriesIndex);a=a.dataIndexInside;(b=b&&b.getDataParams(a))&&n.seriesData.push(b)});m.isString(h)?l=h.replace("{value}",l):m.isFunction(h)&&(l=h(n))}return l},getTransformedPosition:function(a,b,d){var e=f.create();f.rotate(e,e,d.rotation);f.translate(e,e,d.position);return p.applyTransform([a.dataToCoord(b),(d.labelOffset||0)+(d.labelDirection||1)*(d.labelMargin||0)],e)},buildCartesianSingleLabelElOption:function(a,e,f,k,h,l){var m=b.innerTextLayout(f.rotation,0,f.labelDirection);f.labelMargin=h.get("label.margin");d.buildLabelElOption(e,k,h,l,{position:d.getTransformedPosition(k.axis,a,f),align:m.textAlign,verticalAlign:m.textVerticalAlign})},makeLineShape:function(a,b,d){d=d||0;return{x1:a[d],y1:a[1-d],x2:b[d],y2:b[1-d]}},makeRectShape:function(a,b,d){d=d||0;return{x:a[d],y:a[1-d],width:b[d],height:b[1-d]}},makeSectorShape:function(a,b,d,e,f,h){return{cx:a,cy:b,r0:d,r:e,startAngle:f,endAngle:h,clockwise:!0}}};q.exports=d},function(q,n,a){function m(a,b){var g=a.getRect();return[g[f[b]],g[f[b]]+g[e[b]]]}var p=a(20);n=a(308);var h=a(309),l=a(299);a=a(139);var f=["x","y"],e=["width","height"];n=n.extend({makeElOption:function(a,c,e,f,k){var t=e.axis,n=t.coordinateSystem,p=m(n,1-(t.isHorizontal()?0:1)),q=n.dataToPoint(c)[0],u=f.get("type");u&&"none"!==u&&(n=h.buildElStyle(f),t=b[u](t,q,p,n),t.style=n,a.graphicKey=t.type,a.pointer=t);t=l.layout(e);h.buildCartesianSingleLabelElOption(c,a,t,e,f,k)},getHandleTransform:function(a,b,e){var f=l.layout(b,{labelInside:!1});f.labelMargin=e.get("handle.margin");return{position:h.getTransformedPosition(b.axis,a,f),rotation:f.rotation+(0>f.labelDirection?Math.PI:0)}},updateHandleTransform:function(a,b,e,f){e=e.axis;var k=e.coordinateSystem;e=e.isHorizontal()?0:1;var h=m(k,e);f=a.position;f[e]+=b[e];f[e]=Math.min(h[1],f[e]);f[e]=Math.max(h[0],f[e]);b=m(k,1-e);b=(b[1]+b[0])/2;b=[b,b];b[e]=f[e];return{position:f,rotation:a.rotation,cursorPoint:b,tooltipOption:{verticalAlign:"middle"}}}});var b={line:function(a,b,e,f){a=h.makeLineShape([b,e[0]],[b,e[1]],a.isHorizontal()?0:1);p.subPixelOptimizeLine({shape:a,style:f});return{type:"Line",shape:a}},shadow:function(a,b,e,f){f=a.getBandWidth();return{type:"Rect",shape:h.makeRectShape([b-f/2,e[0]],[f,e[1]-e[0]],a.isHorizontal()?0:1)}}};a.registerAxisPointerClass("SingleAxisPointer",n);q.exports=n},function(q,n,a){var m=a(113);n=a(81);var p=a(101),h=a(4),l=a(6).encodeHTML,f=a(258),e=n.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(a){e.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},fixData:function(a){for(var d=a.length,c=f().key(function(a){return a[2]}).entries(a),c=h.map(c,function(a){return{name:a.key,dataList:a.values}}),e=c.length,l=-1,k=-1,m=0;m<e;++m){var n=c[m].dataList.length;n>l&&(l=n,k=m)}for(m=0;m<e;++m)if(m!==k)for(var n=c[m].name,p=0;p<l;++p){for(var q=c[k].dataList[p][0],u=c[m].dataList.length,v=-1,y=0;y<u;++y)if(c[m].dataList[y][0]===q){v=y;break}-1===v&&(a[d]=[],a[d][0]=q,a[d][1]=0,a[d][2]=n,d++)}return a},getInitialData:function(a,d){for(var c=[],c=d.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),c=[{name:"time",type:"category"===c?"ordinal":"time"===c?"time":"float"},{name:"value",type:"float"},{name:"name",type:"ordinal"}],e=h.filter(a.data,function(a){return void 0!==a[2]}),e=this.fixData(e||[]),f=[],k=this.nameMap=h.createHashMap(),l=0,n=0;n<e.length;++n)f.push(e[n][2]),k.get(e[n][2])||(k.set(e[n][2],l),l++);c=m(c,e);c=new p(c,this);c.initData(e,f);return c},coordDimToDataDim:function(a){return["time"]},getLayerSeries:function(){function a(b,c){return d.get("time",b)-d.get("time",c)}for(var d=this.getData(),c=d.count(),e=[],l=0;l<c;++l)e[l]=l;c=f().key(function(a){return d.get("name",a)}).entries(e);c=h.map(c,function(a){return{name:a.key,indices:a.values}});for(e=0;e<c.length;++e)c[e].indices.sort(a);return c},getAxisTooltipData:function(a,d,c){h.isArray(a)||(a=a?[a]:[]);c=this.getData();for(var e=this.getLayerSeries(),f=[],k=e.length,l,m=0;m<k;++m){for(var n=Number.MAX_VALUE,p=-1,u=e[m].indices.length,v=0;v<u;++v){var q=c.get(a[0],e[m].indices[v]),E=Math.abs(q-d);E<=n&&(l=q,n=E,p=e[m].indices[v])}f.push(p)}return{dataIndices:f,nestestValue:l}},formatTooltip:function(a){var d=this.getData(),c=d.get("name",a);a=d.get("value",a);if(isNaN(a)||null==a)a="-";return l(c+" : "+a)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{normal:{margin:4,textAlign:"right",show:!0,position:"left",color:"#000",fontSize:11},emphasis:{show:!0}}}});q.exports=e},function(q,n,a){(function(m){function n(a,d,c){var e=new l.Rect({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});l.initProps(e,{shape:{width:a.width+20,height:a.height+20}},d,c);return e}var h=a(123),l=a(20),f=a(4),e=a(102);q.exports=a(1).extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(a,d,c){function g(a){return a.name}function m(c,d,e){var g=this._layers;if("remove"===c)q.remove(g[d]);else{for(var r=[],B=[],H,F=x[d].indices,D=0;D<F.length;D++){var C=k.getItemLayout(F[D]);H=C.x;var I=C.y0,C=C.y;r.push([H,I]);B.push([H,I+C]);H=t.getItemVisual(F[D],"color")}var J,L=k.getItemLayout(F[0]),C=k.getItemModel(F[D-1]),I=C.getModel("label.normal"),N=I.get("margin");"add"===c?(e=w[d]=new l.Group,J=new h.Polygon({shape:{points:r,stackedOnPoints:B,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),c=new l.Text({style:{x:L.x-N,y:L.y0+L.y/2}}),e.add(J),e.add(c),q.add(e),J.setClipPath(n(J.getBoundingRect(),a,function(){J.removeClipPath()}))):(e=g[e],J=e.childAt(0),c=e.childAt(1),q.add(e),w[d]=e,l.updateProps(J,{shape:{points:r,stackedOnPoints:B}},a),l.updateProps(c,{style:{x:L.x-N,y:L.y0+L.y/2}},a));d=C.getModel("itemStyle.emphasis");r=C.getModel("itemStyle.normal");l.setTextStyle(c.style,I,{text:I.get("show")?a.getFormattedLabel(F[D-1],"normal")||k.getName(F[D-1]):null,textVerticalAlign:"middle"});J.setStyle(f.extend({fill:H},r.getItemStyle(["color"])));l.setHoverStyle(J,d.getItemStyle())}}var k=a.getData(),t=a.getRawData();if(k.count()){var q=this.group,x=a.getLayerSeries();d=k.getLayout("layoutInfo");q.attr("position",[0,d.rect.y+d.boundaryGap[0]]);var w={};(new e(this._layersSeries||[],x,g,g)).add(f.bind(f.curry(m,"add"),this)).update(f.bind(f.curry(m,"update"),this)).remove(f.bind(f.curry(m,"remove"),this)).execute();this._layersSeries=x;this._layers=w}},dispose:function(){}})}).call(n,a(313))},function(q,n){function a(){throw Error("setTimeout has not been defined");}function m(){throw Error("clearTimeout has not been defined");}function p(b){if(c===setTimeout)return setTimeout(b,0);if((c===a||!c)&&setTimeout)return c=setTimeout,setTimeout(b,0);try{return c(b,0)}catch(d){try{return c.call(null,b,0)}catch(e){return c.call(this,b,0)}}}function h(a){if(g===clearTimeout)return clearTimeout(a);if((g===m||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(a);try{return g(a)}catch(b){try{return g.call(null,a)}catch(c){return g.call(this,a)}}}function l(){k&&t&&(k=!1,t.length?r=t.concat(r):A=-1,r.length&&f())}function f(){if(!k){var a=p(l);k=!0;for(var b=r.length;b;){t=r;for(r=[];++A<b;)t&&t[A].run();A=-1;b=r.length}t=null;k=!1;h(a)}}function e(a,b){this.fun=a;this.array=b}function b(){}var d=q.exports={},c,g;try{c="function"===typeof setTimeout?setTimeout:a}catch(x){c=a}try{g="function"===typeof clearTimeout?clearTimeout:m}catch(x){g=m}var r=[],k=!1,t,A=-1;d.nextTick=function(a){var b=Array(arguments.length-1);if(1<arguments.length)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];r.push(new e(a,b));1!==r.length||k||p(f)};e.prototype.run=function(){this.fun.apply(null,this.array)};d.title="browser";d.browser=!0;d.env={};d.argv=[];d.version="";d.versions={};d.on=b;d.addListener=b;d.once=b;d.off=b;d.removeListener=b;d.removeAllListeners=b;d.emit=b;d.binding=function(a){throw Error("process.binding is not supported");};d.cwd=function(){return"/"};d.chdir=function(a){throw Error("process.chdir is not supported");};d.umask=function(){return 0}},function(q,n,a){function m(a,e,b){if(a.count()){var d=e.coordinateSystem;e=e.getLayerSeries();var c=h.map(e,function(b){return h.map(b.indices,function(b){var c=d.dataToPoint(a.get("time",b));c[1]=a.get("value",b);return c})}),g=p(c),l=g.y0;b/=g.max;for(var g=e.length,k=e[0].indices.length,m,n=0;n<k;++n){m=l[n]*b;a.setItemLayout(e[0].indices[n],{layerIndex:0,x:c[0][n][0],y0:m,y:c[0][n][1]*b});for(var q=1;q<g;++q)m+=c[q-1][n][1]*b,a.setItemLayout(e[q].indices[n],{layerIndex:q,x:c[q][n][0],y0:m,y:c[q][n][1]*b})}}}function p(a){for(var e=a.length,b=a[0].length,d=[],c=[],g=0,h,k={},l=0;l<b;++l){var m=0;for(h=0;m<e;++m)h+=a[m][l][1];h>g&&(g=h);d.push(h)}for(a=0;a<b;++a)c[a]=(g-d[a])/2;for(a=g=0;a<b;++a)e=d[a]+c[a],e>g&&(g=e);k.y0=c;k.max=g;return k}var h=a(4),l=a(7);q.exports=function(a,e){a.eachSeriesByType("themeRiver",function(a){var d=a.getData(),c=a.coordinateSystem,e={},f=c.getRect();e.rect=f;var k=a.get("boundaryGap"),c=c.getAxis();e.boundaryGap=k;"horizontal"===c.orient?(k[0]=l.parsePercent(k[0],f.height),k[1]=l.parsePercent(k[1],f.height),m(d,a,f.height-k[0]-k[1])):(k[0]=l.parsePercent(k[0],f.width),k[1]=l.parsePercent(k[1],f.width),m(d,a,f.width-k[0]-k[1]));d.setLayout("layoutInfo",e)})}},function(q,n){q.exports=function(a){a.eachSeriesByType("themeRiver",function(a){var n=a.getData(),h=a.getRawData(),l=a.get("color");n.each(function(f){var e=n.getName(f),e=l[(a.nameMap.get(e)-1)%l.length];h.setItemVisual(f,"color",e)})})}},function(q,n,a){function m(a,b,e,g,f,k){f={};var h=e.style||{};e.shape&&(f.shape=d.clone(e.shape));e.position&&(f.position=e.position.slice());e.scale&&(f.scale=e.scale.slice());e.origin&&(f.origin=e.origin.slice());e.rotation&&(f.rotation=e.rotation);if("image"===a.type&&e.style){var l=f.style={};d.each(["x","y","width","height"],function(b){var c=a.style;null==h[b]||k||(l[b]=h[b],h[b]=c[b])})}"text"===a.type&&e.style&&(l=f.style={},d.each(["x","y"],function(b){var c=a.style;null==h[b]||k||(l[b]=h[b],h[b]=c[b])}),!h.hasOwnProperty("textFill")&&h.fill&&(h.textFill=h.fill),!h.hasOwnProperty("textStroke")&&h.stroke&&(h.textStroke=h.stroke));if("group"!==a.type&&(a.useStyle(h),k)){a.style.opacity=0;var m=h.opacity;null==m&&(m=1);c.initProps(a,{style:{opacity:m}},g,b)}k?a.attr(f):c.updateProps(a,f,g,b);a.attr({z2:e.z2||0,silent:e.silent});!1!==e.styleEmphasis&&c.setHoverStyle(a,e.styleEmphasis)}function p(a,b,e,f){function l(a){null==a&&(a=q);N&&(O=b.getItemModel(a),K=O.getModel(w),G=O.getModel(u),R=g.findLabelValueDim(b),P=b.getItemVisual(a,"color"),N=!1)}var m=a.get("renderItem"),r=a.coordinateSystem,t={};r&&(d.assert(m,"series.render is required."),d.assert(r.prepareCustoms||v[r.type],"This coordSys does not support custom series."),t=r.prepareCustoms?r.prepareCustoms():v[r.type](r));var n=d.defaults({getWidth:f.getWidth,getHeight:f.getHeight,getZr:f.getZr,getDevicePixelRatio:f.getDevicePixelRatio,value:function(a,c){null==c&&(c=q);return b.get(b.getDimension(a||0),c)},style:function(e,g){null==g&&(g=q);l(g);var f=O.getModel(A).getItemStyle();null!=P&&(f.fill=P);var k=b.getItemVisual(g,"opacity");null!=k&&(f.opacity=k);null!=R&&(c.setText(f,K,P),f.text=K.getShallow("show")?d.retrieve2(a.getFormattedLabel(g,"normal"),b.get(R,g)):null);e&&d.extend(f,e);return f},styleEmphasis:function(e,g){null==g&&(g=q);l(g);var f=O.getModel(x).getItemStyle();null!=R&&(c.setText(f,G,!1),f.text=G.getShallow("show")?d.retrieve3(a.getFormattedLabel(g,"emphasis"),a.getFormattedLabel(g,"normal"),b.get(R,g)):null);e&&d.extend(f,e);return f},visual:function(a,c){null==c&&(c=q);return b.getItemVisual(c,a)},barLayout:function(a){if(r.getBaseAxis){var b=r.getBaseAxis();return k.getLayoutOnAxis(d.defaults({axis:b},a),f)}},currentSeriesIndices:function(){return e.getCurrentSeriesIndices()},font:function(a){return c.getFont(a,e)}},t.api||{}),p={context:{},seriesId:a.id,seriesName:a.name,seriesIndex:a.seriesIndex,coordSys:t.coordSys,dataInsideLength:b.count(),encode:h(a.getData())},q,N=!0,O,K,G,R,P;return function(a){q=a;N=!0;return m&&m(d.defaults({dataIndexInside:a,dataIndex:b.getRawIndex(a)},p),n)||{}}}function h(a){var b={};d.each(a.dimensions,function(c,d){var e=a.getDimensionInfo(c);if(!e.isExtraCoord){var g=e.coordDim;(b[g]=b[g]||[])[e.coordDimIndex]=d}});return b}function l(a,g,k,h,r,n){var p=k.type;!a||p===a.__customGraphicType||"path"===p&&k.pathData===a.__customPathData||"image"===p&&k.style.image===a.__customImagePath||"text"===p&&k.style.text===a.__customText||(r.remove(a),a=null);if(null!=p){var q=!a;if(!a){a=k.type;var v;"path"===a?(v=k.shape,v=c.makePath(v.pathData,null,{x:v.x||0,y:v.y||0,width:v.width||0,height:v.height||0},"center"),v.__customPathData=k.pathData):"image"===a?(v=new c.Image({}),v.__customImagePath=k.style.image):"text"===a?(v=new c.Text({}),v.__customText=k.style.text):(v=c[a.charAt(0).toUpperCase()+a.slice(1)],d.assert(v,'graphic type "'+a+'" can not be found.'),v=new v);v.__customGraphicType=a;v.name=k.name;a=v}m(a,g,k,h,n,q);if("group"===p)if(p=a.children()||[],q=k.children||[],k.diffChildrenByName)g={oldChildren:p,newChildren:q,dataIndex:g,animatableModel:h,group:a,data:n},(new t(g.oldChildren,g.newChildren,f,f,g)).add(e).update(e).remove(b).execute();else{for(k=0;k<q.length;k++)l(a.childAt(k),g,q[k],h,a,n);for(;k<p.length;k++)p[k]&&a.remove(p[k])}r.add(a);return a}}function f(a,b){var c=a&&a.name;return null!=c?c:"e\x00\x00"+b}function e(a,b){var c=this.context;l(null!=b?c.oldChildren[b]:null,c.dataIndex,null!=a?c.newChildren[a]:null,c.animatableModel,c.group,c.data)}function b(a){var b=this.context;(a=b.oldChildren[a])&&b.group.remove(a)}q=a(1);var d=a(4),c=a(20),g=a(121),r=a(112),k=a(148),t=a(102),A=["itemStyle","normal"],x=["itemStyle","emphasis"],w=["label","normal"],u=["label","emphasis"],v={cartesian2d:a(317),geo:a(318),singleAxis:a(319),polar:a(320),calendar:a(321)};q.extendSeriesModel({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(a,b){return r(a.data,this,b)}});q.extendChartView({type:"custom",_data:null,render:function(a,b,c){var d=this._data,e=a.getData(),g=this.group,f=p(a,e,b,c);e.diff(d).add(function(b){if(e.hasValue(b)){var c=null,d=f(b);(c=l(c,b,d,a,g,e))&&e.setItemGraphicEl(b,c)}}).update(function(b,c){var k=d.getItemGraphicEl(c);if(e.hasValue(b)){var h=f(b);(k=l(k,b,h,a,g,e))&&e.setItemGraphicEl(b,k)}else k&&g.remove(k)}).remove(function(a){(a=d.getItemGraphicEl(a))&&g.remove(a)}).execute();this._data=e},dispose:d.noop})},function(q,n,a){function m(a,l){l=l||[0,0];return p.map(["x","y"],function(f,e){var b=this.getAxis(f),d=l[e],c=a[e]/2;return"category"===b.type?b.getBandWidth():Math.abs(b.dataToCoord(d-c)-b.dataToCoord(d+c))},this)}var p=a(4);q.exports=function(a){var l=a.grid.getRect();return{coordSys:{type:"cartesian2d",x:l.x,y:l.y,width:l.width,height:l.height},api:{coord:p.bind(a.dataToPoint,a),size:p.bind(m,a)}}}},function(q,n,a){function m(a,l){l=l||[0,0];return p.map([0,1],function(f){var e=l[f],b=a[f]/2,d=[],c=[];d[f]=e-b;c[f]=e+b;d[1-f]=c[1-f]=l[1-f];return Math.abs(this.dataToPoint(d)[f]-this.dataToPoint(c)[f])},this)}var p=a(4);q.exports=function(a){var l=a.getBoundingRect();return{coordSys:{type:"geo",x:l.x,y:l.y,width:l.width,height:l.height},api:{coord:p.bind(a.dataToPoint,a),size:p.bind(m,a)}}}},function(q,n,a){function m(a,l){var f=this.getAxis(),e=l instanceof Array?l[0]:l,b=(a instanceof Array?a[0]:a)/2;return"category"===f.type?f.getBandWidth():Math.abs(f.dataToCoord(e-b)-f.dataToCoord(e+b))}var p=a(4);q.exports=function(a){var l=a.getRect();return{coordSys:{type:"singleAxis",x:l.x,y:l.y,width:l.width,height:l.height},api:{coord:p.bind(a.dataToPoint,a),size:p.bind(m,a)}}}},function(q,n,a){function m(a,l){return p.map(["Radius","Angle"],function(f,e){var b=this["get"+f+"Axis"](),d=l[e],c=a[e]/2,g="dataTo"+f,b="category"===b.type?b.getBandWidth():Math.abs(b[g](d-c)-b[g](d+c));"Angle"===f&&(b=b*Math.PI/180);return b},this)}var p=a(4);q.exports=function(a){var l=a.getRadiusAxis(),f=a.getAngleAxis(),e=l.getExtent();e[0]>e[1]&&e.reverse();return{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:e[1],r0:e[0]},api:{coord:p.bind(function(b){var d=l.dataToRadius(b[0]);b=f.dataToAngle(b[1]);var c=a.coordToPoint([d,b]);c.push(d,b*Math.PI/180);return c}),size:p.bind(m,a)}}}},function(q,n,a){var m=a(4);q.exports=function(a){var h=a.getRect(),l=a.getRangeInfo();return{coordSys:{type:"calendar",x:h.x,y:h.y,width:h.width,height:h.height,cellWidth:a.getCellWidth(),cellHeight:a.getCellHeight(),rangeInfo:{start:l.start,end:l.end,weeks:l.weeks,dayCount:l.allDay}},api:{coord:m.bind(a.dataToPoint,a)}}}},function(q,n,a){function m(a,c,d,e){var h=d.type;f.assert(h,"graphic type MUST be set");h=b[h.charAt(0).toUpperCase()+h.slice(1)];f.assert(h,"graphic type can not be found");d=new h(d);c.add(d);e.set(a,d);d.__ecGraphicId=a}function p(a,b){var c=a&&a.parent;c&&("group"===a.type&&a.traverse(function(a){p(a,b)}),b.removeKey(a.__ecGraphicId),c.remove(a))}function h(a){a=f.extend({},a);f.each(["id","parentId","$action","hv","bounding"].concat(d.LOCATION_PARAMS),function(b){delete a[b]});return a}function l(a,b){var c;f.each(b,function(b){null!=a[b]&&"auto"!==a[b]&&(c=!0)});return c}q=a(1);var f=a(4),e=a(5),b=a(20),d=a(74);q.registerPreprocessor(function(a){var b=a.graphic;f.isArray(b)?a.graphic=b[0]&&b[0].elements?[a.graphic[0]]:[{elements:b}]:b&&!b.elements&&(a.graphic=[{elements:[b]}])});var c=q.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(a){var b=this.option.elements;this.option.elements=null;c.superApply(this,"mergeOption",arguments);this.option.elements=b},optionUpdated:function(a,b){var c=this.option,h=(b?c:a).elements,m=c.elements=b?[]:c.elements,c=[];this._flatten(h,c);h=e.mappingToExists(m,c);e.makeIdAndName(h);var n=this._elOptionsToUpdate=[];f.each(h,function(a,b){var c=a.option;f.assert(f.isObject(c)||a.exist,"Empty graphic option definition");if(c){n.push(c);var e=a.exist;c.id=a.keyInfo.id;!c.type&&e&&(c.type=e.type);if(null==c.parentId){var g=c.parentOption;g?c.parentId=g.id:e&&(c.parentId=e.parentId)}c.parentOption=null;var e=f.extend({},c),g=m[b],k=c.$action||"merge";"merge"===k?g?(k=c.type,f.assert(!k||g.type===k,'Please set $action: "replace" to change `type`'),f.merge(g,e,!0),d.mergeLayoutParam(g,e,{ignoreSize:!0}),d.copyLayoutParams(c,g)):m[b]=e:"replace"===k?m[b]=e:"remove"===k&&g&&(m[b]=null);if(e=m[b])e.hv=c.hv=[l(c,["left","right"]),l(c,["top","bottom"])],"group"===e.type&&(null==e.width&&(e.width=c.width=0),null==e.height&&(e.height=c.height=0))}},this);for(h=m.length-1;0<=h;h--)null==m[h]?m.splice(h,1):delete m[h].$action},_flatten:function(a,b,c){f.each(a,function(a){if(a){c&&(a.parentOption=c);b.push(a);var d=a.children;"group"===a.type&&d&&this._flatten(d,b,a);delete a.children}},this)},useElOptionsToUpdate:function(){var a=this._elOptionsToUpdate;this._elOptionsToUpdate=null;return a}});q.extendComponentView({type:"graphic",init:function(a,b){this._elMap=f.createHashMap()},render:function(a,b,c){a!==this._lastGraphicModel&&this._clear();this._lastGraphicModel=a;this._updateElements(a,c);this._relocate(a,c)},_updateElements:function(a,b){var c=a.useElOptionsToUpdate();if(c){var d=this._elMap,e=this.group;f.each(c,function(a){var b=a.$action,c=a.id,g=d.get(c),k=a.parentId,k=null!=k?d.get(k):e;if("text"===a.type){var l=a.style;a.hv&&a.hv[1]&&(l.textVerticalAlign=l.textBaseline=null);!l.hasOwnProperty("textFill")&&l.fill&&(l.textFill=l.fill);!l.hasOwnProperty("textStroke")&&l.stroke&&(l.textStroke=l.stroke)}l=h(a);g&&f.assert(k===g.parent,"Changing parent is not supported.");b&&"merge"!==b?"replace"===b?(p(g,d),m(c,k,l,d)):"remove"===b&&p(g,d):g?g.attr(l):m(c,k,l,d);if(b=d.get(c))b.__ecGraphicWidth=a.width,b.__ecGraphicHeight=a.height})}},_relocate:function(a,b){for(var c=a.option.elements,e=this.group,f=this._elMap,h=c.length-1;0<=h;h--){var l=c[h],m=f.get(l.id);if(m){var n=m.parent,n=n===e?{width:b.getWidth(),height:b.getHeight()}:{width:n.__ecGraphicWidth||0,height:n.__ecGraphicHeight||0};d.positionElement(m,l,n,null,{hv:l.hv,boundingMode:l.bounding})}}},_clear:function(){var a=this._elMap;a.each(function(b){p(b,a)});this._elMap=f.createHashMap()},dispose:function(){this._clear()}})},function(q,n,a){a(127);a(307);a(301)},function(q,n,a){a(325);a(331);a(332);a(333)},function(q,n,a){a(326);a(327);a(328);a(1).registerProcessor(a(330));a(72).registerSubTypeDefaulter("legend",function(){return"plain"})},function(q,n,a){var m=a(4),p=a(14),h=a(1).extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(a,f,e){this.mergeDefaultAndTheme(a,e);a.selected=a.selected||{}},mergeOption:function(a){h.superCall(this,"mergeOption",a)},optionUpdated:function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&"single"===this.get("selectedMode")){for(var f=!1,e=0;e<a.length;e++){var b=a[e].get("name");if(this.isSelected(b)){this.select(b);f=!0;break}}!f&&this.select(a[0].get("name"))}},_updateData:function(a){this._data=m.map(this.get("data")||[],function(a){if("string"===typeof a||"number"===typeof a)a={name:a};return new p(a,this,this.ecModel)},this);var f=m.map(a.getSeries(),function(a){return a.name});a.eachSeries(function(a){a.legendDataProvider&&(a=a.legendDataProvider(),f=f.concat(a.mapArray(a.getName)))});this._availableNames=f},getData:function(){return this._data},select:function(a){var f=this.option.selected;"single"===this.get("selectedMode")&&m.each(this._data,function(a){f[a.get("name")]=!1});f[a]=!0},unSelect:function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var f=this.option.selected;f.hasOwnProperty(a)||(f[a]=!0);this[f[a]?"unSelect":"select"](a)},isSelected:function(a){var f=this.option.selected;return!(f.hasOwnProperty(a)&&!f[a])&&0<=m.indexOf(this._availableNames,a)},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});q.exports=h},function(q,n,a){function m(a,l,f){var e={},b="toggleSelected"===a,d;f.eachComponent("legend",function(c){if(b&&null!=d)c[d?"select":"unSelect"](l.name);else c[a](l.name),d=c.isSelected(l.name);var g=c.getData();p.each(g,function(a){a=a.get("name");if("\n"!==a&&""!==a){var b=c.isSelected(a);e.hasOwnProperty(a)?e[a]=e[a]&&b:e[a]=b}})});return{name:l.name,selected:e}}q=a(1);var p=a(4);q.registerAction("legendToggleSelect","legendselectchanged",p.curry(m,"toggleSelected"));q.registerAction("legendSelect","legendselected",p.curry(m,"select"));q.registerAction("legendUnSelect","legendunselected",p.curry(m,"unSelect"))},function(q,n,a){function m(a,b){b.dispatchAction({type:"legendToggleSelect",name:a})}function p(a,b,c){var d=c.getZr().storage.getDisplayList()[0];d&&d.useHoverLayer||a.get("legendHoverLink")&&c.dispatchAction({type:"highlight",seriesName:a.name,name:b})}function h(a,b,c){var d=c.getZr().storage.getDisplayList()[0];d&&d.useHoverLayer||a.get("legendHoverLink")&&c.dispatchAction({type:"downplay",seriesName:a.name,name:b})}var l=a(4),f=a(114),e=a(20),b=a(329),d=a(74),c=l.curry,g=l.each,r=e.Group;q.exports=a(1).extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new r)},getContentGroup:function(){return this._contentGroup},render:function(a,c,e){this.resetInner();if(a.get("show",!0)){var g=a.get("align");g&&"auto"!==g||(g="right"===a.get("left")&&"vertical"===a.get("orient")?"right":"left");this.renderInner(g,a,c,e);c=a.getBoxLayoutParams();e={width:e.getWidth(),height:e.getHeight()};var f=a.get("padding"),h=d.getLayoutRect(c,e,f),g=this.layoutInner(a,g,h);c=d.getLayoutRect(l.defaults({width:g.width,height:g.height},c),e,f);this.group.attr("position",[c.x-g.x,c.y-g.y]);this.group.add(this._backgroundEl=b.makeBackground(g,a))}},resetInner:function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(a,b,d,e){var f=this.getContentGroup(),n=l.createHashMap(),q=b.get("selectedMode");g(b.getData(),function(g,l){var z=g.get("name");if(this.newlineDisabled||""!==z&&"\n"!==z){var B=d.getSeriesByName(z)[0];if(!n.get(z)){if(B){var H=B.getData(),F=H.getVisual("color");"function"===typeof F&&(F=F(B.getDataParams(0)));var D=H.getVisual("legendSymbol")||"roundRect",H=H.getVisual("symbol");this._createItem(z,l,g,b,D,H,a,F,q).on("click",c(m,z,e)).on("mouseover",c(p,B,null,e)).on("mouseout",c(h,B,null,e));n.set(z,!0)}else d.eachRawSeries(function(d){if(!n.get(z)&&d.legendDataProvider){var f=d.legendDataProvider(),r=f.indexOfName(z);0>r||(f=f.getItemVisual(r,"color"),this._createItem(z,l,g,b,"roundRect",null,a,f,q).on("click",c(m,z,e)).on("mouseover",c(p,d,z,e)).on("mouseout",c(h,d,z,e)),n.set(z,!0))}},this);n.get(z)||console.warn(z+" series not exists. Legend data should be same with series name or data name.")}}else f.add(new r({newline:!0}))},this)},_createItem:function(a,b,c,d,g,h,m,n,p){var q=d.get("itemWidth"),B=d.get("itemHeight"),H=d.get("inactiveColor"),F=d.isSelected(a),D=new r,C=c.getModel("textStyle"),I=c.get("icon");c=c.getModel("tooltip");var J=c.parentModel;g=I||g;D.add(f.createSymbol(g,0,0,q,B,F?n:H));I||!h||h===g&&"none"!=h||(g=.8*B,"none"===h&&(h="circle"),D.add(f.createSymbol(h,(q-g)/2,(B-g)/2,g,g,F?n:H)));h="left"===m?q+5:-5;n=d.get("formatter");q=a;"string"===typeof n&&n?q=n.replace("{name}",null!=a?a:""):"function"===typeof n&&(q=n(a));D.add(new e.Text({style:e.setTextStyle({},C,{text:q,x:h,y:B/2,textFill:F?C.getTextColor():H,textAlign:m,textVerticalAlign:"middle"})}));d=new e.Rect({shape:D.getBoundingRect(),invisible:!0,tooltip:c.get("show")?l.extend({content:a,formatter:J.get("formatter",!0)||function(){return a},formatterParams:{componentType:"legend",legendIndex:d.componentIndex,name:a,$vars:["name"]}},c.option):null});D.add(d);D.eachChild(function(a){a.silent=!0});d.silent=!p;this.getContentGroup().add(D);e.setHoverStyle(D);D.__legendDataIndex=b;return D},layoutInner:function(a,b,c){b=this.getContentGroup();d.box(a.get("orient"),b,a.get("itemGap"),c.width,c.height);a=b.getBoundingRect();b.attr("position",[-a.x,-a.y]);return this.group.getBoundingRect()}})},function(q,n,a){var m=a(74),p=a(6),h=a(20);q.exports={layout:function(a,f,e){var b=f.getBoxLayoutParams(),d=f.get("padding");e={width:e.getWidth(),height:e.getHeight()};var c=m.getLayoutRect(b,e,d);m.box(f.get("orient"),a,f.get("itemGap"),c.width,c.height);m.positionElement(a,b,e,d)},makeBackground:function(a,f){var e=p.normalizeCssArray(f.get("padding")),b=f.getItemStyle(["color","opacity"]);b.fill=f.get("backgroundColor");return a=new h.Rect({shape:{x:a.x-e[3],y:a.y-e[0],width:a.width+e[1]+e[3],height:a.height+e[0]+e[2],r:f.get("borderRadius")},style:b,silent:!0,z2:-1})}}},function(q,n){q.exports=function(a){var m=a.findComponents({mainType:"legend"});m&&m.length&&a.filterSeries(function(a){for(var h=0;h<m.length;h++)if(!m[h].isSelected(a.name))return!1;return!0})}},function(q,n,a){function m(a,f,e){a=a.getOrient();var b=[1,1];b[a.index]=0;p.mergeLayoutParam(f,e,{type:"box",ignoreSize:b})}n=a(326);var p=a(74),h=n.extend({type:"legend.scroll",setScrollDataIndex:function(a){this.option.scrollDataIndex=a},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(a,f,e,b){var d=p.getLayoutParams(a);h.superCall(this,"init",a,f,e,b);m(this,a,d)},mergeOption:function(a,f){h.superCall(this,"mergeOption",a,f);m(this,this.option,a)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}});q.exports=h},function(q,n,a){var m=a(4),p=a(20),h=a(74);n=a(328);var l=p.Group,f=["width","height"],e=["x","y"],b=n.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){b.superCall(this,"init");this._currentIndex=0;this.group.add(this._containerGroup=new l);this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new l)},resetInner:function(){b.superCall(this,"resetInner");this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null},renderInner:function(a,c,e,f){function k(a,b){var d=a+"DataIndex",d=p.createIcon(c.get("pageIcons",!0)[c.getOrient().name][b],{onclick:m.bind(h._pageGo,h,d,c,f)},{x:-n[0]/2,y:-n[1]/2,width:n[0],height:n[1]});d.name=a;l.add(d)}var h=this;b.superCall(this,"renderInner",a,c,e,f);var l=this._controllerGroup,n=c.get("pageIconSize",!0);m.isArray(n)||(n=[n,n]);k("pagePrev",0);a=c.getModel("pageTextStyle");l.add(new p.Text({name:"pageText",style:{textFill:a.getTextColor(),font:a.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0}));k("pageNext",1)},layoutInner:function(a,b,g){b=this.getContentGroup();var l=this._containerGroup,k=this._controllerGroup,t=a.getOrient().index,n=f[t],q=f[1-t],w=e[1-t];h.box(a.get("orient"),b,a.get("itemGap"),t?g.width:null,t?null:g.height);h.box("horizontal",k,a.get("pageButtonItemGap",!0));var u=b.getBoundingRect(),v=k.getBoundingRect(),y=u[n]>g[n],E=[-u.x,-u.y];E[t]=b.position[t];var z=[0,0],B=[-v.x,-v.y],H=m.retrieve2(a.get("pageButtonGap",!0),a.get("itemGap",!0));y&&("end"===a.get("pageButtonPosition",!0)?B[t]+=g[n]-v[n]:z[t]+=v[n]+H);B[1-t]+=u[q]/2-v[q]/2;b.attr("position",E);l.attr("position",z);k.attr("position",B);E=this.group.getBoundingRect();E={x:0,y:0};E[n]=y?g[n]:u[n];E[q]=Math.max(u[q],v[q]);E[w]=Math.min(0,v[w]+B[1-t]);l.__rectSize=g[n];y?(k={x:0,y:0},k[n]=Math.max(g[n]-v[n]-H,0),k[q]=E[q],l.setClipPath(new p.Rect({shape:k})),l.__rectSize=k[n]):k.eachChild(function(a){a.attr({invisible:!0,silent:!0})});g=this._getPageInfo(a);null!=g.pageIndex&&p.updateProps(b,{position:g.contentPosition},a);this._updatePageInfoView(a,g);return E},_pageGo:function(a,b,e){a=this._getPageInfo(b)[a];null!=a&&e.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:b.id})},_updatePageInfoView:function(a,b){var e=this._controllerGroup;m.each(["pagePrev","pageNext"],function(f){var k=null!=b[f+"DataIndex"];if(f=e.childOfName(f))f.setStyle("fill",k?a.get("pageIconColor",!0):a.get("pageIconInactiveColor",!0)),f.cursor=k?"pointer":"default"});var f=e.childOfName("pageText"),k=a.get("pageFormatter"),h=b.pageIndex,h=null!=h?h+1:0,l=b.pageCount;f&&k&&f.setStyle("text",m.isString(k)?k.replace("{current}",h).replace("{total}",l):k({current:h,total:l}))},_getPageInfo:function(a){function b(a){var c=a.getBoundingRect().clone();c[q]+=a.position[m];return c}var g=a.get("scrollDataIndex",!0),h=this.getContentGroup(),k=h.getBoundingRect(),l=this._containerGroup.__rectSize,m=a.getOrient().index,n=f[m],p=f[1-m],q=e[m];a=h.position.slice();var v,y,E,z;h.eachChild(function(a){a.__legendDataIndex===g&&(z=a)});var B=l?Math.ceil(k[n]/l):0;if(z){v=z.getBoundingRect();var H=z.position[m]+v[q];a[m]=-H-k[q];v=Math.floor(B*(H+v[q]+l/2)/k[n]);v=k[n]&&B?Math.max(0,Math.min(B-1,v)):-1;var F={x:0,y:0};F[n]=l;F[p]=k[p];F[q]=-a[m]-k[q];var D,C=h.children();h.eachChild(function(a,d){var e=b(a);e.intersect(F)&&(null==D&&(D=d),E=a.__legendDataIndex);d===C.length-1&&e[q]+e[n]<=F[q]+F[n]&&(E=null)});if(null!=D)if(h=b(C[D]),F[q]=h[q]+h[n]-F[n],0>=D&&h[q]>=F[q])y=null;else{for(;0<D&&b(C[D-1]).intersect(F);)D--;y=C[D].__legendDataIndex}}return{contentPosition:a,pageIndex:v,pageCount:B,pagePrevDataIndex:y,pageNextDataIndex:E}}});q.exports=b},function(q,n,a){a(1).registerAction("legendScroll","legendscroll",function(a,n){var h=a.scrollDataIndex;null!=h&&n.eachComponent({mainType:"legend",subType:"scroll",query:a},function(a){a.setScrollDataIndex(h)})})},function(q,n,a){a(301);a(335);a(336);a(1).registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});a(1).registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})},function(q,n,a){a(1).extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}})},function(q,n,a){function m(a){for(var b=a.pop();a.length;){var d=a.pop();d&&(d instanceof c&&(d=d.get("tooltip",!0)),"string"===typeof d&&(d={formatter:d}),b=new c(d,b,b.ecModel))}return b}function p(a){var b=a.clientWidth,c=a.clientHeight;document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a))&&(b+=parseInt(a.paddingLeft,10)+parseInt(a.paddingRight,10)+parseInt(a.borderLeftWidth,10)+parseInt(a.borderRightWidth,10),c+=parseInt(a.paddingTop,10)+parseInt(a.paddingBottom,10)+parseInt(a.borderTopWidth,10)+parseInt(a.borderBottomWidth,10));return{width:b,height:c}}var h=a(337),l=a(4),f=a(6);q=a(7);n=a(20);var e=a(303),b=a(74),d=a(2),c=a(14),g=a(306),r=a(104),k=a(309),t=l.bind,A=l.each,x=q.parsePercent,w=new n.Rect({shape:{x:-1,y:-1,width:2,height:2}});a(1).extendComponentView({type:"tooltip",init:function(a,b){d.node||(this._tooltipContent=new h(b.getDom(),b))},render:function(a,b,c){d.node||(this.group.removeAll(),this._tooltipModel=a,this._ecModel=b,this._api=c,this._lastDataByCoordSys=null,this._alwaysShowContent=a.get("alwaysShowContent"),b=this._tooltipContent,b.update(),b.setEnterable(a.get("enterable")),this._initGlobalListener(),this._keepShow())},_initGlobalListener:function(){var a=this._tooltipModel.get("triggerOn");g.register("itemTooltip",this._api,t(function(b,c,d){"none"!==a&&(0<=a.indexOf(b)?this._tryShow(c,d):"leave"===b&&this._hide(d))},this))},_keepShow:function(){var a=this._tooltipModel,b=this._ecModel,c=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==a.get("triggerOn")){var d=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){d.manuallyShowTip(a,b,c,{x:d._lastX,y:d._lastY})})}},manuallyShowTip:function(a,b,c,g){if(g.from!==this.uid&&!d.node){var f=g.dispatchAction||l.bind(c.dispatchAction,c);this._ticket="";var k=g.dataByCoordSys;g.tooltip&&null!=g.x&&null!=g.y?(w.position=[g.x,g.y],w.update(),w.tooltip=g.tooltip,this._tryShow({offsetX:g.x,offsetY:g.y,target:w},f)):k?this._tryShow({offsetX:g.x,offsetY:g.y,position:g.position,event:{},dataByCoordSys:g.dataByCoordSys,tooltipOption:g.tooltipOption},f):null!=g.seriesIndex?this._manuallyAxisShowTip(a,b,c,g)||(a=e(g,b),b=a.point[0],c=a.point[1],null!=b&&null!=c&&this._tryShow({offsetX:b,offsetY:c,position:g.position,target:a.el,event:{}},f)):null!=g.x&&null!=g.y&&(c.dispatchAction({type:"updateAxisPointer",x:g.x,y:g.y}),this._tryShow({offsetX:g.x,offsetY:g.y,position:g.position,target:c.getZr().findHover(g.x,g.y).target,event:{}},f))}},manuallyHideTip:function(a,b,c,d){a=this._tooltipContent;this._alwaysShowContent||a.hideLater(this._tooltipModel.get("hideDelay"));this._lastX=this._lastY=null;d.from!==this.uid&&this._hide(d.dispatchAction||l.bind(c.dispatchAction,c))},_manuallyAxisShowTip:function(a,b,c,d){var e=d.seriesIndex,g=d.dataIndex,f=b.getComponent("axisPointer").coordSysAxesInfo;if(null!=e&&null!=g&&null!=f&&(b=b.getSeriesByIndex(e))&&(f=b.getData(),a=m([f.getItemModel(g),b,(b.coordinateSystem||{}).model,a]),"axis"===a.get("trigger")))return c.dispatchAction({type:"updateAxisPointer",seriesIndex:e,dataIndex:g,position:d.position}),!0},_tryShow:function(a,b){var c=a.target;if(this._tooltipModel){this._lastX=a.offsetX;this._lastY=a.offsetY;var d=a.dataByCoordSys;d&&d.length?this._showAxisTooltip(d,a):c&&null!=c.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(a,c,b)):c&&c.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(a,c,b)):(this._lastDataByCoordSys=null,this._hide(b))}},_showOrMove:function(a,b){var c=a.get("showDelay");b=l.bind(b,this);clearTimeout(this._showTimout);0<c?this._showTimout=setTimeout(b,c):b()},_showAxisTooltip:function(a,b){var c=this._ecModel,d=[b.offsetX,b.offsetY],e=[],g=[],h=m([b.tooltipOption,this._tooltipModel]);A(a,function(a){A(a.dataByAxis,function(a){var b=c.getComponent(a.axisDim+"Axis",a.axisIndex),d=a.value,h=[];if(b&&null!=d){var m=k.getValueLabel(d,b.axis,c,a.seriesDataIndices,a.valueLabelOpt);l.each(a.seriesDataIndices,function(e){var f=c.getSeriesByIndex(e.seriesIndex);e=e.dataIndexInside;var k=f&&f.getDataParams(e);k.axisDim=a.axisDim;k.axisIndex=a.axisIndex;k.axisType=a.axisType;k.axisId=a.axisId;k.axisValue=r.getAxisRawValue(b.axis,d);k.axisValueLabel=m;k&&(g.push(k),h.push(f.formatTooltip(e,!0)))});e.push((m?f.encodeHTML(m)+"\x3cbr /\x3e":"")+h.join("\x3cbr /\x3e"))}})},this);e.reverse();var e=e.join("\x3cbr /\x3e\x3cbr /\x3e"),t=b.position;this._showOrMove(h,function(){this._updateContentNotChangedOnAxis(a)?this._updatePosition(h,t,d[0],d[1],this._tooltipContent,g):this._showTooltipContent(h,e,g,Math.random(),d[0],d[1],t)})},_showSeriesItemTooltip:function(a,b,c){var d=b.seriesIndex,e=this._ecModel.getSeriesByIndex(d),g=b.dataModel||e,f=b.dataIndex;b=b.dataType;var k=g.getData(),h=m([k.getItemModel(f),g,e&&(e.coordinateSystem||{}).model,this._tooltipModel]),e=h.get("trigger");if(null==e||"item"===e){var l=g.getDataParams(f,b),r=g.formatTooltip(f,!1,b),t="item_"+g.name+"_"+f;this._showOrMove(h,function(){this._showTooltipContent(h,r,l,t,a.offsetX,a.offsetY,a.position,a.target)});c({type:"showTip",dataIndexInside:f,dataIndex:k.getRawIndex(f),seriesIndex:d,from:this.uid})}},_showComponentItemTooltip:function(a,b,d){var e=b.tooltip;"string"===typeof e&&(e={content:e,formatter:e});var g=new c(e,this._tooltipModel,this._ecModel),f=g.get("content"),k=Math.random();this._showOrMove(g,function(){this._showTooltipContent(g,f,g.get("formatterParams")||{},k,a.offsetX,a.offsetY,a.position,b)});d({type:"showTip",from:this.uid})},_showTooltipContent:function(a,b,c,d,e,g,k,h){this._ticket="";if(a.get("showContent")&&a.get("show")){var l=this._tooltipContent,m=a.get("formatter");k=k||a.get("position");m&&"string"===typeof m?b=f.formatTpl(m,c,!0):"function"===typeof m&&(b=t(function(b,d){b===this._ticket&&(l.setContent(d),this._updatePosition(a,k,e,g,l,c,h))},this),this._ticket=d,b=m(c,d,b));l.setContent(b);l.show(a);this._updatePosition(a,k,e,g,l,c,h)}},_updatePosition:function(a,c,d,e,g,f,k){var h=this._api.getWidth(),m=this._api.getHeight();c=c||a.get("position");var r=g.getSize(),t=a.get("align"),n=a.get("verticalAlign"),q=k&&k.getBoundingRect().clone();k&&q.applyTransform(k.transform);"function"===typeof c&&(c=c([d,e],f,g.el,q,{viewSize:[h,m],contentSize:r.slice()}));if(l.isArray(c))d=x(c[0],h),e=x(c[1],m);else if(l.isObject(c))c.width=r[0],c.height=r[1],t=b.getLayoutRect(c,{width:h,height:m}),d=t.x,e=t.y,n=t=null;else{if("string"===typeof c&&k){d=r[0];e=r[1];k=f=0;var w=q.width,A=q.height;switch(c){case "inside":f=q.x+w/2-d/2;k=q.y+A/2-e/2;break;case "top":f=q.x+w/2-d/2;k=q.y-e-5;break;case "bottom":f=q.x+w/2-d/2;k=q.y+A+5;break;case "left":f=q.x-d-5;k=q.y+A/2-e/2;break;case "right":f=q.x+w+5,k=q.y+A/2-e/2}c=[f,k]}else c=d,q=e,d=t?null:20,e=n?null:20,k=p(g.el),f=k.width,k=k.height,null!=d&&(c=c+f+d>h?c-(f+d):c+d),null!=e&&(q=q+k+e>m?q-(k+e):q+e),c=[c,q];d=c[0];e=c[1]}t&&(d-="center"===t||"middle"===t?r[0]/2:"right"===t?r[0]:0);n&&(e-="center"===n||"middle"===n?r[1]/2:"bottom"===n?r[1]:0);a.get("confine")&&(a=d,r=e,n=p(g.el),t=n.width,n=n.height,a=Math.min(a+t,h)-t,r=Math.min(r+n,m)-n,a=Math.max(a,0),r=Math.max(r,0),c=[a,r],d=c[0],e=c[1]);g.moveTo(d,e)},_updateContentNotChangedOnAxis:function(a){var b=this._lastDataByCoordSys,c=!!b&&b.length===a.length;c&&A(b,function(b,d){var e=b.dataByAxis||{},g=(a[d]||{}).dataByAxis||[];(c&=e.length===g.length)&&A(e,function(a,b){var d=g[b]||{},e=a.seriesDataIndices||[],f=d.seriesDataIndices||[];(c&=a.value===d.value&&a.axisType===d.axisType&&a.axisId===d.axisId&&e.length===f.length)&&A(e,function(a,b){var d=f[b];c&=a.seriesIndex===d.seriesIndex&&a.dataIndex===d.dataIndex})})});this._lastDataByCoordSys=a;return!!c},_hide:function(a){this._lastDataByCoordSys=null;a({type:"hideTip",from:this.uid})},dispose:function(a,b){d.node||(this._tooltipContent.hide(),g.unregister("itemTooltip",b))}})},function(q,n,a){function m(a){var b="left "+a+"s cubic-bezier(0.23, 1, 0.32, 1),top "+a+"s cubic-bezier(0.23, 1, 0.32, 1)";return f.map(k,function(a){return a+"transition:"+b}).join(";")}function p(a){var b=[],d=a.get("fontSize"),e=a.getTextColor();e&&b.push("color:"+e);b.push("font:"+a.getFont());d&&b.push("line-height:"+Math.round(3*d/2)+"px");c(["decoration","align"],function(c){var d=a.get(c);d&&b.push("text-"+c+":"+d)});return b.join(";")}function h(a){var b=[],f=a.get("transitionDuration"),k=a.get("backgroundColor"),h=a.getModel("textStyle"),l=a.get("padding");f&&b.push(m(f));k&&(r.canvasSupported?b.push("background-Color:"+k):(b.push("background-Color:#"+e.toHex(k)),b.push("filter:alpha(opacity\x3d70)")));c(["width","color","radius"],function(c){var d="border-"+c,e=g(d),e=a.get(e);null!=e&&b.push(d+":"+e+("color"===c?"":"px"))});b.push(p(h));null!=l&&b.push("padding:"+d.normalizeCssArray(l).join("px ")+"px");return b.join(";")+";"}function l(a,c){var d=document.createElement("div"),e=this._zr=c.getZr();this.el=d;this._x=c.getWidth()/2;this._y=c.getHeight()/2;a.appendChild(d);this._container=a;this._show=!1;var g=this;d.onmouseenter=function(){g._enterable&&(clearTimeout(g._hideTimeout),g._show=!0);g._inContent=!0};d.onmousemove=function(c){c=c||window.event;if(!g._enterable){var d=e.handler;b.normalizeEvent(a,c,!0);d.dispatch("mousemove",c)}};d.onmouseleave=function(){g._enterable&&g._show&&g.hideLater(g._hideDelay);g._inContent=!1}}var f=a(4),e=a(35),b=a(91),d=a(6),c=f.each,g=d.toCamelCase,r=a(2),k=["","-webkit-","-moz-","-o-"];l.prototype={constructor:l,_enterable:!0,update:function(){var a=this._container,b=a.currentStyle||document.defaultView.getComputedStyle(a),a=a.style;"absolute"!==a.position&&"absolute"!==b.position&&(a.position="relative")},show:function(a){clearTimeout(this._hideTimeout);var b=this.el;b.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+h(a)+";left:"+this._x+"px;top:"+this._y+"px;"+(a.get("extraCssText")||"");b.style.display=b.innerHTML?"block":"none";this._show=!0},setContent:function(a){this.el.innerHTML=null==a?"":a},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el;return[a.clientWidth,a.clientHeight]},moveTo:function(a,b){var c=this._zr,d;c&&c.painter&&(d=c.painter.getViewportRootOffset())&&(a+=d.offsetLeft,b+=d.offsetTop);c=this.el.style;c.left=a+"px";c.top=b+"px";this._x=a;this._y=b},hide:function(){this.el.style.display="none";this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(f.bind(this.hide,this),a)):this.hide())},isShow:function(){return this._show}};q.exports=l},function(q,n,a){q=a(4);a(339);a(345);a(347);a(301);a(349);a(1).registerLayout(q.curry(a(350),"bar"));a(1).extendComponentView({type:"polar"})},function(q,n,a){function m(a,b){var d=a.get("center"),e=a.get("radius"),h=b.getWidth(),l=b.getHeight(),m=f.parsePercent;this.cx=m(d[0],h);this.cy=m(d[1],l);this.getRadiusAxis().setExtent(0,m(e,Math.min(h,l)/2))}function p(a,b){var e=this,f=e.getAngleAxis(),h=e.getRadiusAxis();f.scale.setExtent(Infinity,-Infinity);h.scale.setExtent(Infinity,-Infinity);a.eachSeries(function(a){a.coordinateSystem===e&&(a=a.getData(),h.scale.unionExtentFromData(a,"radius"),f.scale.unionExtentFromData(a,"angle"))});d(f.scale,f.model);d(h.scale,h.model);if("category"===f.type&&!f.onBand){var l=f.getExtent(),m=360/f.scale.count();f.inverse?l[1]+=m:l[1]-=m;f.setExtent(l[0],l[1])}}function h(a,d){a.type=d.get("type");a.scale=b.createScaleByModel(d);a.onBand=d.get("boundaryGap")&&"category"===a.type;if("angleAxis"===d.mainType){var e=d.get("startAngle");a.inverse=d.get("inverse")^d.get("clockwise");a.setExtent(e,e+(a.inverse?-360:360))}d.axis=a;a.model=d}var l=a(340),f=a(7),e=a(4),b=a(104),d=b.niceScaleExtent;a(343);q={dimensions:l.prototype.dimensions,create:function(a,b){var d=[];a.eachComponent("polar",function(a,c){var e=new l(c);e.resize=m;e.update=p;var f=e.getRadiusAxis(),n=e.getAngleAxis(),q=a.findAxisModel("radiusAxis"),v=a.findAxisModel("angleAxis");h(f,q);h(n,v);e.resize(a,b);d.push(e);a.coordinateSystem=e;e.model=a});a.eachSeries(function(b){if("polar"===b.get("coordinateSystem")){var d=a.queryComponents({mainType:"polar",index:b.get("polarIndex"),id:b.get("polarId")})[0];if(!d)throw Error('Polar "'+e.retrieve(b.get("polarIndex"),b.get("polarId"),0)+'" not found');b.coordinateSystem=d.coordinateSystem}});return d}};a(79).register("polar",q)},function(q,n,a){var m=a(341),p=a(342);n=function(a){this.name=a||"";this.cy=this.cx=0;this._radiusAxis=new m;this._angleAxis=new p;this._radiusAxis.polar=this._angleAxis.polar=this};n.prototype={type:"polar",axisPointerEnabled:!0,constructor:n,dimensions:["radius","angle"],model:null,containPoint:function(a){a=this.pointToCoord(a);return this._radiusAxis.contain(a[0])&&this._angleAxis.contain(a[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this["_"+a+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(a){var l=[],f=this._angleAxis,e=this._radiusAxis;f.scale.type===a&&l.push(f);e.scale.type===a&&l.push(e);return l},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(a){var l=this._angleAxis;return a===l?this._radiusAxis:l},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(a){a=null!=a&&"auto"!==a?this.getAxis(a):this.getBaseAxis();return{baseAxes:[a],otherAxes:[this.getOtherAxis(a)]}},dataToPoint:function(a,l){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],l),this._angleAxis.dataToAngle(a[1],l)])},pointToData:function(a,l){var f=this.pointToCoord(a);return[this._radiusAxis.radiusToData(f[0],l),this._angleAxis.angleToData(f[1],l)]},pointToCoord:function(a){var l=a[0]-this.cx,f=a[1]-this.cy,e=this.getAngleAxis(),b=e.getExtent();a=Math.min(b[0],b[1]);b=Math.max(b[0],b[1]);e.inverse?a=b-360:b=a+360;e=Math.sqrt(l*l+f*f);l=Math.atan2(-(f/e),l/e)/Math.PI*180;for(f=l<a?1:-1;l<a||l>b;)l+=360*f;return[e,l]},coordToPoint:function(a){var l=a[0];a=a[1]/180*Math.PI;return[Math.cos(a)*l+this.cx,-Math.sin(a)*l+this.cy]}};q.exports=n},function(q,n,a){function m(a,l){p.call(this,"radius",a,l);this.type="category"}n=a(4);var p=a(103);m.prototype={constructor:m,pointToData:function(a,l){return this.polar.pointToData(a,l)["radius"===this.dim?0:1]},dataToRadius:p.prototype.dataToCoord,radiusToData:p.prototype.coordToData};n.inherits(m,p);q.exports=m},function(q,n,a){function m(a,l){l=l||[0,360];p.call(this,"angle",a,l);this.type="category"}n=a(4);var p=a(103);m.prototype={constructor:m,pointToData:function(a,l){return this.polar.pointToData(a,l)["radius"===this.dim?0:1]},dataToAngle:p.prototype.dataToCoord,angleToData:p.prototype.coordToData};n.inherits(m,p);q.exports=m},function(q,n,a){a(344);a(1).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(a){var n;this.ecModel.eachComponent(a,function(a){a.getCoordSysModel()===this&&(n=a)},this);return n},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(q,n,a){function m(a,l){return l.type||(l.data?"category":"value")}q=a(4);var p=a(72);n=a(134);p=p.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});q.merge(p.prototype,a(115));n("angle",p,m,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}});n("radius",p,m,{splitNumber:5})},function(q,n,a){a(339);a(346)},function(q,n,a){function m(a,b,d,c){b=a.coordToPoint([b,c]);a=a.coordToPoint([d,c]);return{x1:b[0],y1:b[1],x2:a[0],y2:a[1]}}var p=a(4),h=a(20),l=a(14),f=["axisLine","axisLabel","axisTick","splitLine","splitArea"];a(139).extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(a,b){this.group.removeAll();if(a.get("show")){var d=a.axis,c=d.polar,g=c.getRadiusAxis().getExtent(),h=d.getTicksCoords();"category"!==d.type&&h.pop();p.each(f,function(b){if(a.get(b+".show")&&(!d.scale.isBlank()||"axisLine"===b))this["_"+b](a,c,h,g)},this)}},_axisLine:function(a,b,d,c){a=a.getModel("axisLine.lineStyle");b=new h.Circle({shape:{cx:b.cx,cy:b.cy,r:c[1]},style:a.getLineStyle(),z2:1,silent:!0});b.style.fill=null;this.group.add(b)},_axisTick:function(a,b,d,c){var g=a.getModel("axisTick"),f=(g.get("inside")?-1:1)*g.get("length");d=p.map(d,function(a){return new h.Line({shape:m(b,c[1],c[1]+f,a)})});this.group.add(h.mergePath(d,{style:p.defaults(g.getModel("lineStyle").getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")})}))},_axisLabel:function(a,b,d,c){for(var g=a.axis,f=a.get("data"),k=a.getModel("axisLabel"),m=a.getFormattedLabels(),n=k.get("margin"),g=g.getLabelsCoords(),p=0;p<d.length;p++){var q=c[1],u=b.coordToPoint([q+n,g[p]]),v=b.cx,y=b.cy,v=.3>Math.abs(u[0]-v)/q?"center":u[0]>v?"left":"right",q=.3>Math.abs(u[1]-y)/q?"middle":u[1]>y?"top":"bottom";f&&f[p]&&f[p].textStyle&&(k=new l(f[p].textStyle,k,k.ecModel));y=new h.Text({silent:!0});this.group.add(y);h.setTextStyle(y.style,k,{x:u[0],y:u[1],textFill:k.getTextColor()||a.get("axisLine.lineStyle.color"),text:m[p],textAlign:v,textVerticalAlign:q})}},_splitLine:function(a,b,d,c){for(var g=a.getModel("splitLine").getModel("lineStyle"),f=g.get("color"),k=0,f=f instanceof Array?f:[f],l=[],n=0;n<d.length;n++){var q=k++%f.length;l[q]=l[q]||[];l[q].push(new h.Line({shape:m(b,c[0],c[1],d[n])}))}for(n=0;n<l.length;n++)this.group.add(h.mergePath(l[n],{style:p.defaults({stroke:f[n%f.length]},g.getLineStyle()),silent:!0,z:a.get("z")}))},_splitArea:function(a,b,d,c){var g=a.getModel("splitArea").getModel("areaStyle"),f=g.get("color"),k=0,f=f instanceof Array?f:[f],l=[],m=Math.PI/180,n=-d[0]*m,q=Math.min(c[0],c[1]);c=Math.max(c[0],c[1]);a=a.get("clockwise");for(var u=1;u<d.length;u++){var v=k++%f.length;l[v]=l[v]||[];l[v].push(new h.Sector({shape:{cx:b.cx,cy:b.cy,r0:q,r:c,startAngle:n,endAngle:-d[u]*m,clockwise:a},silent:!0}));n=-d[u]*m}for(u=0;u<l.length;u++)this.group.add(h.mergePath(l[u],{style:p.defaults({fill:f[u%f.length]},g.getAreaStyle()),silent:!0}))}})},function(q,n,a){a(339);a(348)},function(q,n,a){var m=a(4),p=a(20),h=a(138),l=["axisLine","axisLabel","axisTick","axisName"],f=["splitLine","splitArea"];a(139).extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(a,b){this.group.removeAll();if(a.get("show")){var d=a.axis,c=d.polar,g=c.getAngleAxis(),r=d.getTicksCoords(),k=g.getExtent()[0],n=d.getExtent(),g={position:[c.cx,c.cy],rotation:k/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:a.getModel("axisLabel").get("rotate"),z2:1},g=new h(a,g);m.each(l,g.add,g);this.group.add(g.getGroup());m.each(f,function(b){if(a.get(b+".show")&&!d.scale.isBlank())this["_"+b](a,c,k,n,r)},this)}},_splitLine:function(a,b,d,c,g){a=a.getModel("splitLine").getModel("lineStyle");d=a.get("color");c=0;d=d instanceof Array?d:[d];for(var f=[],k=0;k<g.length;k++){var h=c++%d.length;f[h]=f[h]||[];f[h].push(new p.Circle({shape:{cx:b.cx,cy:b.cy,r:g[k]},silent:!0}))}for(k=0;k<f.length;k++)this.group.add(p.mergePath(f[k],{style:m.defaults({stroke:d[k%d.length],fill:null},a.getLineStyle()),silent:!0}))},_splitArea:function(a,b,d,c,g){a=a.getModel("splitArea").getModel("areaStyle");d=a.get("color");c=0;d=d instanceof Array?d:[d];for(var f=[],k=g[0],h=1;h<g.length;h++){var l=c++%d.length;f[l]=f[l]||[];f[l].push(new p.Sector({shape:{cx:b.cx,cy:b.cy,r0:k,r:g[h],startAngle:0,endAngle:2*Math.PI},silent:!0}));k=g[h]}for(h=0;h<f.length;h++)this.group.add(p.mergePath(f[h],{style:m.defaults({fill:d[h%d.length]},a.getAreaStyle()),silent:!0}))}})},function(q,n,a){var m=a(6);n=a(308);var p=a(20),h=a(309),l=a(11),f=a(138);a=a(139);n=n.extend({makeElOption:function(a,d,c,g,r){var k=c.axis;"angle"===k.dim&&(this.animationThreshold=Math.PI/18);var n=k.polar,q=n.getOtherAxis(k).getExtent(),x;x=k["dataTo"+m.capitalFirst(k.dim)](d);var w=g.get("type");if(w&&"none"!==w){var u=h.buildElStyle(g),k=e[w](k,n,x,q,u);k.style=u;a.graphicKey=k.type;a.pointer=k}u=g.get("label.margin");q=c.axis;d=q.dataToCoord(d);k=n.getAngleAxis().getExtent()[0];k=k/180*Math.PI;x=n.getRadiusAxis().getExtent();"radius"===q.dim?(q=l.create(),l.rotate(q,q,k),l.translate(q,q,[n.cx,n.cy]),d=p.applyTransform([d,-u],q),n=c.getModel("axisLabel").get("rotate")||0,u=f.innerTextLayout(k,n*Math.PI/180,-1),n=u.textAlign,u=u.textVerticalAlign):(k=x[1],d=n.coordToPoint([k+u,d]),u=n.cx,q=n.cy,n=.3>Math.abs(d[0]-u)/k?"center":d[0]>u?"left":"right",u=.3>Math.abs(d[1]-q)/k?"middle":d[1]>q?"top":"bottom");h.buildLabelElOption(a,c,g,r,{position:d,align:n,verticalAlign:u})}});var e={line:function(a,d,c,e,f){return"angle"===a.dim?{type:"Line",shape:h.makeLineShape(d.coordToPoint([e[0],c]),d.coordToPoint([e[1],c]))}:{type:"Circle",shape:{cx:d.cx,cy:d.cy,r:c}}},shadow:function(a,d,c,e,f){f=a.getBandWidth();var k=Math.PI/180;return"angle"===a.dim?{type:"Sector",shape:h.makeSectorShape(d.cx,d.cy,e[0],e[1],(-c-f/2)*k,(-c+f/2)*k)}:{type:"Sector",shape:h.makeSectorShape(d.cx,d.cy,c-f/2,c+f/2,0,2*Math.PI)}}};a.registerAxisPointerClass("PolarAxisPointer",n);q.exports=n},function(q,n,a){function m(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function p(a,e){var b={};h.each(a,function(a,d){var e=a.getData(),f=a.coordinateSystem.getBaseAxis(),h=f.getExtent(),n="category"===f.type?f.getBandWidth():Math.abs(h[1]-h[0])/e.count(),e=b[f.dim]||{bandWidth:n,remainedWidth:n,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=e.stacks;b[f.dim]=e;f=m(a);h[f]||e.autoWidthCount++;h[f]=h[f]||{width:0,maxWidth:0};var p=l(a.get("barWidth"),n),n=l(a.get("barMaxWidth"),n),q=a.get("barGap"),u=a.get("barCategoryGap");p&&!h[f].width&&(p=Math.min(e.remainedWidth,p),h[f].width=p,e.remainedWidth-=p);n&&(h[f].maxWidth=n);null!=q&&(e.gap=q);null!=u&&(e.categoryGap=u)});var d={};h.each(b,function(a,b){d[b]={};var e=a.stacks,f=l(a.categoryGap,a.bandWidth),m=l(a.gap,1),n=a.remainedWidth,p=a.autoWidthCount,q=(n-f)/(p+(p-1)*m),q=Math.max(q,0);h.each(e,function(a,b){var c=a.maxWidth;c&&c<q&&(c=Math.min(c,n),a.width&&(c=Math.min(c,a.width)),n-=c,a.width=c,p--)});var q=(n-f)/(p+(p-1)*m),q=Math.max(q,0),u=0,v;h.each(e,function(a,b){a.width||(a.width=q);v=a;u+=a.width*(1+m)});v&&(u-=v.width*m);var y=-u/2;h.each(e,function(a,c){d[b][c]=d[b][c]||{offset:y,width:a.width};y+=a.width*(1+m)})});return d}var h=a(4),l=a(7).parsePercent;q.exports=function(a,e,b){var d=b.getWidth(),c=b.getHeight(),g={},r={},k=p(h.filter(e.getSeriesByType(a),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));e.eachSeriesByType(a,function(a){if("polar"===a.coordinateSystem.type){var b=a.getData(),e=a.coordinateSystem,f=e.getAngleAxis(),h=e.getBaseAxis(),n=m(a),p=k[h.dim][n],q=p.offset,z=p.width,B=e.getOtherAxis(h),h=a.get("center")||["50%","50%"],H=l(h[0],d),F=l(h[1],c),D=a.get("barMinHeight")||0,C=a.get("barMinAngle")||0,I=B.getExtent()[0],J=B.model.get("max"),L=B.model.get("min"),h=[a.coordDimToDataDim("radius")[0],a.coordDimToDataDim("angle")[0]],N=b.mapArray(h,function(a,b){return e.dataToPoint([a,b])},!0);g[n]=g[n]||[];r[n]=r[n]||[];b.each(a.coordDimToDataDim(B.dim)[0],function(a,c){if(!isNaN(a)){g[n][c]||(g[n][c]={p:I,n:I},r[n][c]={p:I,n:I});var d=0<=a?"p":"n",k=e.pointToCoord(N[c]),h=r[n][c][d],l,m;if("radius"===B.dim)l=h,m=k[0],h=(-k[1]+q)*Math.PI/180,k=h+z*Math.PI/180,Math.abs(m)<D&&(m=l+(0>m?-1:1)*D),r[n][c][d]=m;else{l=k[0]+q;m=l+z;null!=J&&(a=Math.min(a,J));null!=L&&(a=Math.max(a,L));var p=f.dataToAngle(a);Math.abs(p-h)<C&&(p=h-(0>a?-1:1)*C);var h=-h*Math.PI/180,k=-p*Math.PI/180,t=f.getExtent();p===t[0]&&0<a?p=t[1]:p===t[1]&&0>a&&(p=t[0]);r[n][c][d]=p}b.setItemLayout(c,{cx:H,cy:F,r0:l,r:m,startAngle:h,endAngle:k})}},!0)}},this)}},function(q,n,a){function m(a,f){f.update="updateView";p.registerAction(f,function(e,b){var d={};b.eachComponent({mainType:"geo",query:e},function(b){b[a](e.name);h.each(b.coordinateSystem.regions,function(a){d[a.name]=b.isSelected(a.name)||!1})});return{selected:d,name:e.name}})}a(352);a(174);a(353);a(190);var p=a(1),h=a(4);m("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});m("select",{type:"geoSelect",event:"geoselected"});m("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(q,n,a){var m=a(5),p=a(72),h=a(14),l=a(4);n=a(151);var f=a(174);a=p.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(a){p.prototype.init.apply(this,arguments);m.defaultEmphasis(a.label,["show"])},optionUpdated:function(){var a=this.option,b=this;a.regions=f.getFilledRegions(a.regions,a.map,a.nameMap);this._optionModelMap=l.reduce(a.regions||[],function(a,c){c.name&&a.set(c.name,new h(c,b));return a},l.createHashMap());this.updateSelectedMap(a.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(a){return this._optionModelMap.get(a)||new h(null,this,this.ecModel)},getFormattedLabel:function(a,b){var d=this.getRegionModel(a).get("label."+b+".formatter"),c={name:a};if("function"===typeof d)return c.status=b,d(c);if("string"===typeof d)return c=c.seriesName,d.replace("{a}",null!=c?c:"")},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a}});l.mixin(a,n);q.exports=a},function(q,n,a){var m=a(185);q.exports=a(1).extendComponentView({type:"geo",init:function(a,h){var l=new m(h,!0);this._mapDraw=l;this.group.add(l.group)},render:function(a,h,l,f){if(!f||"geoToggleSelect"!==f.type||f.from!==this.uid){var e=this._mapDraw;a.get("show")?e.draw(a,h,l,this,f):this._mapDraw.group.removeAll();this.group.silent=a.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}})},function(q,n,a){a(1).registerPreprocessor(a(355));a(356);a(360);a(361);a(362);a(363)},function(q,n,a){function m(a){var f={};p.each(a,function(a){f[a]=1});a.length=0;p.each(f,function(e,b){a.push(b)})}var p=a(4),h=["rect","polygon","keep","clear"];q.exports=function(a,f){var e=a&&a.brush;p.isArray(e)||(e=e?[e]:[]);if(e.length){var b=[];p.each(e,function(a){a=a.hasOwnProperty("toolbox")?a.toolbox:[];a instanceof Array&&(b=b.concat(a))});e=a&&a.toolbox;p.isArray(e)&&(e=e[0]);e||(e={feature:{}},a.toolbox=[e]);e=e.feature||(e.feature={});e=e.brush||(e.brush={});e=e.type||(e.type=[]);e.push.apply(e,b);m(e);f&&!e.length&&e.push.apply(e,h)}}},function(q,n,a){function m(a,b,c,d,e){e&&(e=a.getZr(),e.__ecInBrushSelectEvent||(e.__ecBrushSelect||(e.__ecBrushSelect=p),k.createOrUpdate(e,"__ecBrushSelect",c,b)(a,d)))}function p(a,b){if(!a.isDisposed()){var c=a.getZr();c.__ecInBrushSelectEvent=!0;a.dispatchAction({type:"brushSelect",batch:b});c.__ecInBrushSelectEvent=!1}}function h(a,b,c,d){for(var e=0,g=b.length;e<g;e++){var f=b[e];if(a[f.brushType](d,c,f.selectors,f))return!0}}function l(a){var b=a.brushSelector;if(c.isString(b)){var d=[];c.each(r,function(a,c){d[c]=function(c,d,e,g){c=d.getItemLayout(c);return a[b](c,e,g)}});return d}if(c.isFunction(b)){var e={};c.each(r,function(a,c){e[c]=b});return e}return b}function f(a,b){var d=a.option.seriesIndex;return null!=d&&"all"!==d&&(c.isArray(d)?0>c.indexOf(d,b):b!==d)}function e(a){var b=a.selectors={};c.each(r[a.brushType],function(c,d){b[d]=function(d){return c(d,b,a)}});return a}function b(a){return new g(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}q=a(1);var d=a(357),c=a(4),g=a(9),r=a(358),k=a(84),t=a(359),A=["inBrush","outOfBrush"];a=q.PRIORITY.VISUAL.BRUSH;q.registerLayout(a,function(a,b,c){a.eachComponent({mainType:"brush"},function(b){c&&"takeGlobalCursor"===c.type&&b.setBrushOption("brush"===c.key?c.brushOption:{brushType:!1});(b.brushTargetManager=new t(b.option,a)).setInputRanges(b.areas,a)})});q.registerVisual(a,function(a,b,g){var k=[],r,n;a.eachComponent({mainType:"brush"},function(b,g){function m(a){return"all"===u||N[a]}function p(a,b){var c=a.coordinateSystem;G|=c.hasAxisBrushed();m(b)&&c.eachActiveState(a.getData(),function(a,b){"active"===a&&(O[b]=1)})}function t(d,e,g){var k=l(d);if(k&&!f(b,e)&&(c.each(R,function(c){k[c.brushType]&&b.brushTargetManager.controlSeries(c,d,a)&&g.push(c);G|=!!g.length}),m(e)&&g.length)){var r=d.getData();r.each(function(a){h(k,g,r,a)&&(O[a]=1)})}}var q={brushId:b.id,brushIndex:g,brushName:b.name,areas:c.clone(b.areas),selected:[]};k.push(q);var v=b.option,u=v.brushLink,N=[],O=[],K=[],G=0;g||(r=v.throttleType,n=v.throttleDelay);var R=c.map(b.areas,function(a){return e(c.defaults({boundingRect:x[a.brushType](a)},a))}),P=d.createVisualMappings(b.option,A,function(a){a.mappingMethod="fixed"});c.isArray(u)&&c.each(u,function(a){N[a]=1});a.eachSeries(function(a,b){var c=K[b]=[];"parallel"===a.subType?p(a,b,c):t(a,b,c)});a.eachSeries(function(a,b){var c={seriesId:a.id,seriesIndex:b,seriesName:a.name,
dataIndex:[]};q.selected.push(c);var e=l(a),g=K[b],f=a.getData(),k=m(b)?function(a){return O[a]?(c.dataIndex.push(f.getRawIndex(a)),"inBrush"):"outOfBrush"}:function(a){return h(e,g,f,a)?(c.dataIndex.push(f.getRawIndex(a)),"inBrush"):"outOfBrush"};(m(b)?G:g.length)&&d.applyVisual(A,P,f,k)})});m(b,r,n,k,g)});var x={lineX:c.noop,lineY:c.noop,rect:function(a){return b(a.range)},polygon:function(a){var c;a=a.range;for(var d=0,e=a.length;d<e;d++){c=c||[[Infinity,-Infinity],[Infinity,-Infinity]];var g=a[d];g[0]<c[0][0]&&(c[0][0]=g[0]);g[0]>c[0][1]&&(c[0][1]=g[0]);g[1]<c[1][0]&&(c[1][0]=g[1]);g[1]>c[1][1]&&(c[1][1]=g[1])}return c&&b(c)}}},function(q,n,a){function m(a){if(a)for(var e in a)if(a.hasOwnProperty(e))return!0}var p=a(4),h=a(206),l=p.each;q.exports={createVisualMappings:function(a,e,b){function d(){var a=function(){};a.prototype.__hidden=a.prototype;return new a}var c={};l(e,function(e){var m=c[e]=d();l(a[e],function(a,c){if(h.isValidType(c)){var d={type:c,visual:a};b&&b(d,e);m[c]=new h(d);"opacity"===c&&(d=p.clone(d),d.type="colorAlpha",m.__hidden.__alphaForOpacity=new h(d))}})});return c},replaceVisualOption:function(a,e,b){var d;p.each(b,function(a){e.hasOwnProperty(a)&&m(e[a])&&(d=!0)});d&&p.each(b,function(b){e.hasOwnProperty(b)&&m(e[b])?a[b]=p.clone(e[b]):delete a[b]})},applyVisual:function(a,e,b,d,c,g){function l(a){return b.getItemVisual(q,a)}function k(a,c){b.setItemVisual(q,a,c)}function m(a,f){q=null==g?a:f;var h=b.getRawDataItem(q);if(!h||!1!==h.visualMap)for(var p=d.call(c,a),h=e[p],p=n[p],t=0,z=p.length;t<z;t++){var B=p[t];h[B]&&h[B].applyVisual(a,l,k)}}var n={};p.each(a,function(a){var b=h.prepareVisualTypes(e[a]);n[a]=b});var q;null==g?b.each(m,!0):b.each([g],m,!0)}}},function(q,n,a){function m(a){var b=["x","y"],d=["width","height"];return{point:function(b,d,f){return p(b[a],f.range)},rect:function(c,g,f){g=f.range;c=[c[b[a]],c[b[a]]+c[d[a]]];c[1]<c[0]&&c.reverse();return p(c[0],g)||p(c[1],g)||p(g[0],c)||p(g[1],c)}}}function p(a,b){return b[0]<=a&&a<=b[1]}function h(a,b,d,c,g){for(var f=0,k=g[g.length-1];f<g.length;f++){var h=g[f],l;l=a;var m=b,n=d,p=c,q=h[0],y=h[1],E=k[0],z=k[1],k=(n-l)*(y-z)-(q-E)*(p-m);1E-6>=k&&-1E-6<=k?l=!1:(E=((q-l)*(y-z)-(q-E)*(y-m))/k,0>E||1<E?l=!1:(l=((n-l)*(y-m)-(q-l)*(p-m))/k,l=0>l||1<l?!1:!0));if(l)return!0;k=h}}var l=a(178).contain,f=a(9);n={lineX:m(0),lineY:m(1),rect:{point:function(a,b,d){return d.boundingRect.contain(a[0],a[1])},rect:function(a,b,d){return d.boundingRect.intersect(a)}},polygon:{point:function(a,b,d){return d.boundingRect.contain(a[0],a[1])&&l(d.range,a[0],a[1])},rect:function(a,b,d){b=d.range;if(1>=b.length)return!1;d=a.x;var c=a.y,g=a.width,m=a.height,k=b[0];if(l(b,d,c)||l(b,d+g,c)||l(b,d,c+m)||l(b,d+g,c+m)||f.create(a).contain(k[0],k[1])||h(d,c,d+g,c,b)||h(d,c,d,c+m,b)||h(d+g,c,d+g,c+m,b)||h(d,c+m,d+g,c+m,b))return!0}}};q.exports=n},function(q,n,a){function m(a,b,d){var e=this._targetInfoList=[],g={},f=c.parseFinder(b,a,{includeMainTypes:A});r(x,function(a,b){(!d||!d.include||0<=k(d.include,b))&&a(f,e,g)})}function p(a){a[0]>a[1]&&a.reverse();return a}function h(a,c,d,e){b.assert("cartesian2d"===d.type,"lineX/lineY brush is available only in cartesian2d.");var g=d.getAxis(["x","y"][a]);d=p(b.map([0,1],function(a){return c?g.coordToData(g.toLocalCoord(e[a])):g.toGlobalCoord(g.dataToCoord(e[a]))}));var f=[];f[a]=d;f[1-a]=[NaN,NaN];return{values:d,xyMinMax:f}}function l(a,b,c,d){return[b[0]-d[a]*c[0],b[1]-d[a]*c[1]]}function f(a,b){var c=e(a),d=e(b),c=[c[0]/d[0],c[1]/d[1]];isNaN(c[0])&&(c[0]=1);isNaN(c[1])&&(c[1]=1);return c}function e(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}var b=a(4),d=a(20),c=a(5),g=a(249),r=b.each,k=b.indexOf;n=b.curry;var t=["dataToPoint","pointToData"],A="grid xAxis yAxis geo graph polar radiusAxis angleAxis bmap".split(" ");a=m.prototype;a.setOutputRanges=function(a,b){this.matchOutputRanges(a,b,function(a,b,c){(a.coordRanges||(a.coordRanges=[])).push(b);a.coordRange||(a.coordRange=b,b=v[a.brushType](0,c,b),a.__rangeOffset={offset:y[a.brushType](b.values,a.range,[1,1]),xyMinMax:b.xyMinMax})})};a.matchOutputRanges=function(a,c,d){r(a,function(a){var e=this.findTargetInfo(a,c);e&&!0!==e&&b.each(e.coordSyses,function(b){var e=v[a.brushType](1,b,a.range);d(a,e.values,b,c)})},this)};a.setInputRanges=function(a,c){r(a,function(a){var d=this.findTargetInfo(a,c);b.assert(!d||!0===d||a.coordRange,"coordRange must be specified when coord index specified.");b.assert(!d||!0!==d||a.range,"range must be specified in global brush.");a.range=a.range||[];if(d&&!0!==d){a.panelId=d.panelId;var d=v[a.brushType](0,d.coordSys,a.coordRange),e=a.__rangeOffset;a.range=e?y[a.brushType](d.values,e.offset,f(d.xyMinMax,e.xyMinMax)):d.values}},this)};a.makePanelOpts=function(a,c){return b.map(this._targetInfoList,function(b){var d=b.getPanelRect();return{panelId:b.panelId,defaultBrushType:c&&c(b),clipPath:g.makeRectPanelClipPath(d),isTargetByCursor:g.makeRectIsTargetByCursor(d,a,b.coordSysModel),getLinearBrushOtherExtent:g.makeLinearBrushOtherExtent(d)}})};a.controlSeries=function(a,b,c){a=this.findTargetInfo(a,c);return!0===a||a&&0<=k(a.coordSyses,b.coordinateSystem)};a.findTargetInfo=function(a,b){for(var d=this._targetInfoList,e=c.parseFinder(b,a,{includeMainTypes:A}),g=0;g<d.length;g++){var f=d[g],k=a.panelId;if(k){if(f.panelId===k)return f}else for(g=0;g<w.length;g++)if(w[g](e,f))return f}return!0};var x={grid:function(a,c){var d=a.xAxisModels,e=a.yAxisModels,g=a.gridModels,f=b.createHashMap(),h={},l={};if(d||e||g)r(d,function(a){a=a.axis.grid.model;f.set(a.id,a);h[a.id]=!0}),r(e,function(a){a=a.axis.grid.model;f.set(a.id,a);l[a.id]=!0}),r(g,function(a){f.set(a.id,a);h[a.id]=!0;l[a.id]=!0}),f.each(function(a){var b=[];r(a.coordinateSystem.getCartesians(),function(a,c){(0<=k(d,a.getAxis("x").model)||0<=k(e,a.getAxis("y").model))&&b.push(a)});c.push({panelId:"grid--"+a.id,gridModel:a,coordSysModel:a,coordSys:b[0],coordSyses:b,getPanelRect:u.grid,xAxisDeclared:h[a.id],yAxisDeclared:l[a.id]})})},geo:function(a,b){r(a.geoModels,function(a){var c=a.coordinateSystem;b.push({panelId:"geo--"+a.id,geoModel:a,coordSysModel:a,coordSys:c,coordSyses:[c],getPanelRect:u.geo})})}},w=[function(a,b){var c=a.xAxisModel,d=a.yAxisModel,e=a.gridModel;!e&&c&&(e=c.axis.grid.model);!e&&d&&(e=d.axis.grid.model);return e&&e===b.gridModel},function(a,b){var c=a.geoModel;return c&&c===b.geoModel}],u={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var a=this.coordSys,b=a.getBoundingRect().clone();b.applyTransform(d.getTransform(a));return b}},v={lineX:n(h,0),lineY:n(h,1),rect:function(a,b,c){var d=b[t[a]]([c[0][0],c[1][0]]);a=b[t[a]]([c[0][1],c[1][1]]);d=[p([d[0],a[0]]),p([d[1],a[1]])];return{values:d,xyMinMax:d}},polygon:function(a,c,d){var e=[[Infinity,-Infinity],[Infinity,-Infinity]];return{values:b.map(d,function(b){b=c[t[a]](b);e[0][0]=Math.min(e[0][0],b[0]);e[1][0]=Math.min(e[1][0],b[1]);e[0][1]=Math.max(e[0][1],b[0]);e[1][1]=Math.max(e[1][1],b[1]);return b}),xyMinMax:e}}},y={lineX:n(l,0),lineY:n(l,1),rect:function(a,b,c){return[[a[0][0]-c[0]*b[0][0],a[0][1]-c[0]*b[0][1]],[a[1][0]-c[1]*b[1][0],a[1][1]-c[1]*b[1][1]]]},polygon:function(a,c,d){return b.map(a,function(a,b){return[a[0]-d[0]*c[b][0],a[1]-d[1]*c[b][1]]})}};q.exports=m},function(q,n,a){function m(a,b){return p.merge({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:(new l(a.brushStyle)).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},b,!0)}n=a(1);var p=a(4),h=a(357),l=a(14),f=["#ddd"];a=n.extendComponentModel({type:"brush",dependencies:"geo grid xAxis yAxis parallel series".split(" "),defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1E4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(a,b){var d=this.option;!b&&h.replaceVisualOption(d,a,["inBrush","outOfBrush"]);d.inBrush=d.inBrush||{};d.outOfBrush=d.outOfBrush||{color:f}},setAreas:function(a){p.assert(p.isArray(a));p.each(a,function(a){p.assert(a.brushType,"Illegal areas")});a&&(this.areas=p.map(a,function(a){return m(this.option,a)},this))},setBrushOption:function(a){this.brushOption=m(this.option,a);this.brushType=this.brushOption.brushType}});q.exports=a},function(q,n,a){function m(a,f,e,b){b&&b.$from===a.id||this._brushController.setPanels(a.brushTargetManager.makePanelOpts(e)).enableBrush(a.brushOption).updateCovers(a.areas.slice())}var p=a(4),h=a(248);n=a(1);q.exports=n.extendComponentView({type:"brush",init:function(a,f){this.ecModel=a;this.api=f;(this._brushController=new h(f.getZr())).on("brush",p.bind(this._onBrush,this)).mount()},render:function(a){this.model=a;return m.apply(this,arguments)},updateView:m,updateLayout:m,updateVisual:m,dispose:function(){this._brushController.dispose()},_onBrush:function(a,f){var e=this.model.id;this.model.brushTargetManager.setOutputRanges(a,this.ecModel);f.isEnd&&!f.removeOnClick||this.api.dispatchAction({type:"brush",brushId:e,areas:p.clone(a),$from:e})}})},function(q,n,a){q=a(1);q.registerAction({type:"brush",event:"brush",update:"updateView"},function(a,n){n.eachComponent({mainType:"brush",query:a},function(h){h.setAreas(a.areas)})});q.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){})},function(q,n,a){function m(a,l,f){this.model=a;this.ecModel=l;this.api=f}n=a(364);var p=a(4);m.defaultOption={show:!0,type:"rect polygon lineX lineY keep clear".split(" "),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}};a=m.prototype;a.render=a.updateView=a.updateLayout=function(a,l,f){var e,b,d;l.eachComponent({mainType:"brush"},function(a){e=a.brushType;b=a.brushOption.brushMode||"single";d|=a.areas.length});this._brushType=e;this._brushMode=b;p.each(a.get("type",!0),function(c){a.setIconStatus(c,("keep"===c?"multiple"===b:"clear"===c?d:c===e)?"emphasis":"normal")})};a.getIcons=function(){var a=this.model,l=a.get("icon",!0),f={};p.each(a.get("type",!0),function(a){l[a]&&(f[a]=l[a])});return f};a.onclick=function(a,l,f){l=this.api;a=this._brushType;var e=this._brushMode;"clear"===f?(l.dispatchAction({type:"axisAreaSelect",intervals:[]}),l.dispatchAction({type:"brush",command:"clear",areas:[]})):l.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===f?a:a===f?!1:f,brushMode:"keep"===f?"multiple"===e?"single":"multiple":e}})};n.register("brush",m);q.exports=m},function(q,n){var a={};q.exports={register:function(m,n){a[m]=n},get:function(m){return a[m]}}},function(q,n,a){a(366);a(367);a(368)},function(q,n,a){function m(a,b,d){this._model=a}function p(a,b,d,c){b=d.calendarModel;d=d.seriesModel;d=b?b.coordinateSystem:d?d.coordinateSystem:null;return d===this?d[a](c):null}var h=a(74),l=a(7),f=a(4);m.prototype={constructor:m,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(a){a=l.parseDate(a);var b=a.getFullYear(),d=a.getMonth()+1,d=10>d?"0"+d:d,c=a.getDate(),c=10>c?"0"+c:c,g=a.getDay(),g=Math.abs((g+7-this.getFirstDayOfWeek())%7);return{y:b,m:d,d:c,day:g,time:a.getTime(),formatedDate:b+"-"+d+"-"+c,date:a}},getNextNDay:function(a,b){b=b||0;if(0===b)return this.getDateInfo(a);var d=this.getDateInfo(a).time;return this.getDateInfo(d+864E5*b)},update:function(a,b){this._firstDayOfWeek=this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle.normal").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var d=this._rangeInfo.weeks||1,c=["width","height"],g=this._model.get("cellSize").slice(),l=this._model.getBoxLayoutParams(),k="horizontal"===this._orient?[d,7]:[7,d];f.each([0,1],function(a){null!=g[a]&&"auto"!==g[a]&&(l[c[a]]=g[a]*k[a])});var d={width:b.getWidth(),height:b.getHeight()},m=this._rect=h.getLayoutRect(l,d);f.each([0,1],function(a){if(null==g[a]||"auto"===g[a])g[a]=m[c[a]]/k[a]});this._sw=g[0];this._sh=g[1]},dataToPoint:function(a,b){f.isArray(a)&&(a=a[0]);null==b&&(b=!0);var d=this.getDateInfo(a),c=this._rangeInfo;if(b&&!(d.time>=c.start.time&&d.time<=c.end.time))return[NaN,NaN];var g=d.day,d=this._getRangeInfo([c.start.time,d.formatedDate]).weeks;return"vertical"===this._orient?[this._rect.x+g*this._sw+this._sw/2,this._rect.y+(d-1)*this._sh+this._sh/2]:[this._rect.x+(d-1)*this._sw+this._sw/2,this._rect.y+g*this._sh+this._sh/2]},pointToData:function(a){return(a=this.pointToDate(a))&&a.time},dataToRect:function(a,b){var d=this.dataToPoint(a,b);return{contentShape:{x:d[0]-(this._sw-this._lineWidth)/2,y:d[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:d,tl:[d[0]-this._sw/2,d[1]-this._sh/2],tr:[d[0]+this._sw/2,d[1]-this._sh/2],br:[d[0]+this._sw/2,d[1]+this._sh/2],bl:[d[0]-this._sw/2,d[1]+this._sh/2]}},pointToDate:function(a){var b=Math.floor((a[0]-this._rect.x)/this._sw)+1;a=Math.floor((a[1]-this._rect.y)/this._sh)+1;var d=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(a,b-1,d):this._getDateByWeeksAndDay(b,a-1,d)},convertToPixel:f.curry(p,"dataToPoint"),convertFromPixel:f.curry(p,"pointToData"),_initRangeOption:function(){var a=this._model.get("range"),b=a;f.isArray(b)&&1===b.length&&(b=b[0]);/^\d{4}$/.test(b)&&(a=[b+"-01-01",b+"-12-31"]);if(/^\d{4}[\/|-]\d{1,2}$/.test(b)){var a=this.getDateInfo(b),d=a.date;d.setMonth(d.getMonth()+1);d=this.getNextNDay(d,-1);a=[a.formatedDate,d.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(b)&&(a=[b,b]);b=this._getRangeInfo(a);b.start.time>b.end.time&&a.reverse();return a},_getRangeInfo:function(a){var b=this.getDateInfo(a[0]);a=this.getDateInfo(a[1]);var d=Math.floor(a.time/864E5)-Math.floor(b.time/864E5)+1;return{range:[b.formatedDate,a.formatedDate],start:b,end:a,allDay:d,weeks:Math.floor((d+b.day+6)/7),fweek:b.day,lweek:a.day}},_getDateByWeeksAndDay:function(a,b,d){d=this._getRangeInfo(d);return a>d.weeks||0===a&&b<d.fweek||a===d.weeks&&b>d.lweek?!1:this.getDateInfo(d.start.time+864E5*(7*(a-1)-d.fweek+b))}};m.dimensions=m.prototype.dimensions;m.getDimensionsInfo=m.prototype.getDimensionsInfo;m.create=function(a,b){var d=[];a.eachComponent("calendar",function(c){var g=new m(c,a,b);d.push(g);c.coordinateSystem=g});a.eachSeries(function(a){"calendar"===a.get("coordinateSystem")&&(a.coordinateSystem=d[a.get("calendarIndex")||0])});return d};a(79).register("calendar",m);q.exports=m},function(q,n,a){function m(a,e){var b=a.cellSize;p.isArray(b)?1===b.length&&(b[1]=b[0]):b=a.cellSize=[b,b];var d=p.map([0,1],function(a){h.sizeCalculable(e,a)&&(b[a]="auto");return null!=b[a]&&"auto"!==b[a]});h.mergeLayoutParam(a,e,{type:"box",ignoreSize:d})}n=a(72);var p=a(4),h=a(74),l=n.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{normal:{color:"#fff",borderWidth:1,borderColor:"#ccc"}},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(a,e,b,d){var c=h.getLayoutParams(a);l.superApply(this,"init",arguments);m(a,c)},mergeOption:function(a,e){l.superApply(this,"mergeOption",arguments);m(this.option,a)}});q.exports=l},function(q,n,a){var m=a(4),p=a(20),h=a(6),l=a(7),f={EN:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),CN:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" ")},e={EN:"SMTWTFS".split(""),CN:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("")};q.exports=a(1).extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(a,d,c){d=this.group;d.removeAll();var e=a.coordinateSystem;c=e.getRangeInfo();e=e.getOrient();this._renderDayRect(a,c,d);this._renderLines(a,c,e,d);this._renderYearText(a,c,e,d);this._renderMonthText(a,e,d);this._renderWeekText(a,c,e,d)},_renderDayRect:function(a,d,c){var e=a.coordinateSystem;a=a.getModel("itemStyle.normal").getItemStyle();for(var f=e.getCellWidth(),k=e.getCellHeight(),h=d.start.time;h<=d.end.time;h=e.getNextNDay(h,1).time){var l=e.dataToRect([h],!1).tl,l=new p.Rect({shape:{x:l[0],y:l[1],width:f,height:k},cursor:"default",style:a});c.add(l)}},_renderLines:function(a,d,c,e){function f(d){k._firstDayOfMonth.push(h.getDateInfo(d));k._firstDayPoints.push(h.dataToRect([d],!1).tl);d=k._getLinePointsOfOneWeek(a,d,c);k._tlpoints.push(d[0]);k._blpoints.push(d[d.length-1]);m&&k._drawSplitline(d,l,e)}var k=this,h=a.coordinateSystem,l=a.getModel("splitLine.lineStyle").getLineStyle(),m=a.get("splitLine.show"),n=l.lineWidth;this._tlpoints=[];this._blpoints=[];this._firstDayOfMonth=[];this._firstDayPoints=[];for(var p=d.start,q=0;p.time<=d.end.time;q++)f(p.formatedDate),0===q&&(p=h.getDateInfo(d.start.y+"-"+d.start.m)),p=p.date,p.setMonth(p.getMonth()+1),p=h.getDateInfo(p);f(h.getNextNDay(d.end.time,1).formatedDate);m&&this._drawSplitline(k._getEdgesPoints(k._tlpoints,n,c),l,e);m&&this._drawSplitline(k._getEdgesPoints(k._blpoints,n,c),l,e)},_getEdgesPoints:function(a,d,c){a=[a[0].slice(),a[a.length-1].slice()];c="horizontal"===c?0:1;a[0][c]-=d/2;a[1][c]+=d/2;return a},_drawSplitline:function(a,d,c){a=new p.Polyline({z2:20,shape:{points:a},style:d});c.add(a)},_getLinePointsOfOneWeek:function(a,d,c){a=a.coordinateSystem;d=a.getDateInfo(d);for(var e=[],f=0;7>f;f++){var k=a.getNextNDay(d.time,f),h=a.dataToRect([k.time],!1);e[2*k.day]=h.tl;e[2*k.day+1]=h["horizontal"===c?"bl":"tr"]}return e},_formatterLabel:function(a,d){return"string"===typeof a&&a?h.formatTplSimple(a,d):"function"===typeof a?a(d):d.nameMap},_yearTextPositionControl:function(a,d,c,e,f){d=d.slice();a=["center","bottom"];"bottom"===e?(d[1]+=f,a=["center","top"]):"left"===e?d[0]-=f:"right"===e?(d[0]+=f,a=["center","top"]):d[1]-=f;f=0;if("left"===e||"right"===e)f=Math.PI/2;return{rotation:f,position:d,style:{textAlign:a[0],textVerticalAlign:a[1]}}},_renderYearText:function(a,d,c,e){a=a.getModel("yearLabel");if(a.get("show")){var f=a.get("margin"),k=a.get("position");k||(k="horizontal"!==c?"top":"left");var h=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(h[0][0]+h[1][0])/2,m=(h[0][1]+h[1][1])/2,n="horizontal"===c?0:1,h={top:[l,h[n][1]],bottom:[l,h[1-n][1]],left:[h[1-n][0],m],right:[h[n][0],m]},l=d.start.y;+d.end.y>+d.start.y&&(l=l+"-"+d.end.y);m=a.get("formatter");d=this._formatterLabel(m,{start:d.start.y,end:d.end.y,nameMap:l});l=new p.Text({z2:30});p.setTextStyle(l.style,a,{text:d});l.attr(this._yearTextPositionControl(l,h[k],c,k,f));e.add(l)}},_monthTextPositionControl:function(a,d,c,e,f){var k="left",h="top",l=a[0];a=a[1];"horizontal"===c?(a+=f,d&&(k="center"),"start"===e&&(h="bottom")):(l+=f,d&&(h="middle"),"start"===e&&(k="right"));return{x:l,y:a,textAlign:k,textVerticalAlign:h}},_renderMonthText:function(a,d,c){a=a.getModel("monthLabel");if(a.get("show")){var e=a.get("nameMap"),h=a.get("margin"),k=a.get("position"),l=a.get("align"),n=[this._tlpoints,this._blpoints];m.isString(e)&&(e=f[e.toUpperCase()]||[]);for(var q="start"===k?0:1,w="horizontal"===d?0:1,h="start"===k?-h:h,l="center"===l,u=0;u<n[q].length-1;u++){var v=n[q][u].slice(),y=this._firstDayOfMonth[u];l&&(v[w]=(this._firstDayPoints[u][w]+n[0][u+1][w])/2);var E=a.get("formatter"),z=e[+y.m-1],y={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:z},E=this._formatterLabel(E,y),y=new p.Text({z2:30});m.extend(p.setTextStyle(y.style,a,{text:E}),this._monthTextPositionControl(v,l,d,k,h));c.add(y)}}},_weekTextPositionControl:function(a,d,c,e,f){var k="center",h="middle",l=a[0];a=a[1];c="start"===c;"horizontal"===d?(l=l+e+(c?1:-1)*f[0]/2,k=c?"right":"left"):(a=a+e+(c?1:-1)*f[1]/2,h=c?"bottom":"top");return{x:l,y:a,textAlign:k,textVerticalAlign:h}},_renderWeekText:function(a,d,c,g){var f=a.getModel("dayLabel");if(f.get("show")){a=a.coordinateSystem;var k=f.get("position"),h=f.get("nameMap"),n=f.get("margin"),q=a.getFirstDayOfWeek();m.isString(h)&&(h=e[h.toUpperCase()]||[]);var w=a.getNextNDay(d.end.time,7-d.lweek).time,u=[a.getCellWidth(),a.getCellHeight()],n=l.parsePercent(n,u["horizontal"===c?0:1]);"start"===k&&(w=a.getNextNDay(d.start.time,-(7+d.fweek)).time,n=-n);for(d=0;7>d;d++){var v=a.getNextNDay(w,d),v=a.dataToRect([v.time],!1).center,y=d,y=Math.abs((d+q)%7),E=new p.Text({z2:30});m.extend(p.setTextStyle(E.style,f,{text:h[y]}),this._weekTextPositionControl(v,c,k,n,u));g.add(E)}}}})},function(q,n,a){q=a(1);var m=a(20),p=a(74);q.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});q.extendComponentView({type:"title",render:function(a,l,f){this.group.removeAll();if(a.get("show")){l=this.group;var e=a.getModel("textStyle"),b=a.getModel("subtextStyle"),d=a.get("textAlign"),c=a.get("textBaseline"),e=new m.Text({style:m.setTextStyle({},e,{text:a.get("text"),textFill:e.getTextColor()},{disableBox:!0}),z2:10}),g=e.getBoundingRect(),n=a.get("subtext"),b=new m.Text({style:m.setTextStyle({},b,{text:n,textFill:b.getTextColor(),y:g.height+a.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),k=a.get("link"),t=a.get("sublink");e.silent=!k;b.silent=!t;if(k)e.on("click",function(){window.open(k,"_"+a.get("target"))});if(t)b.on("click",function(){window.open(t,"_"+a.get("subtarget"))});l.add(e);n&&l.add(b);n=l.getBoundingRect();g=a.getBoxLayoutParams();g.width=n.width;g.height=n.height;f=p.getLayoutRect(g,{width:f.getWidth(),height:f.getHeight()},a.get("padding"));d||(d=a.get("left")||a.get("right"),"middle"===d&&(d="center"),"right"===d?f.x+=f.width:"center"===d&&(f.x+=f.width/2));c||(c=a.get("top")||a.get("bottom"),"center"===c&&(c="middle"),"bottom"===c?f.y+=f.height:"middle"===c&&(f.y+=f.height/2),c=c||"top");l.attr("position",[f.x,f.y]);d={textAlign:d,textVerticalAlign:c};e.setStyle(d);b.setStyle(d);n=l.getBoundingRect();f=f.margin;d=a.getItemStyle(["color","opacity"]);d.fill=a.get("backgroundColor");f=new m.Rect({shape:{x:n.x-f[3],y:n.y-f[0],width:n.width+f[1]+f[3],height:n.height+f[0]+f[2],r:a.get("borderRadius")},style:d,silent:!0});m.subPixelOptimizeRect(f);l.add(f)}}})},function(q,n,a){a(371);a(372);a(375);a(376);a(377);a(378);a(379);a(381);a(382)},function(q,n,a){a(72).registerSubTypeDefaulter("dataZoom",function(){return"slider"})},function(q,n,a){function m(a){var b={};d(["start","end","startValue","endValue","throttle"],function(c){a.hasOwnProperty(c)&&(b[c]=a[c])});return b}function p(a,b){var c=a._rangePropMode,e=a.get("rangeMode");d([["start","startValue"],["end","endValue"]],function(a,d){var g=null!=b[a[0]],f=null!=b[a[1]];g&&!f?c[d]="percent":!g&&f?c[d]="value":e?c[d]=e[d]:g&&(c[d]="percent")})}var h=a(4),l=a(2);n=a(1);var f=a(5),e=a(373),b=a(374),d=h.each,c=e.eachAxisDim;a=n.extendComponentModel({type:"dataZoom",dependencies:"xAxis yAxis zAxis radiusAxis angleAxis singleAxis series".split(" "),defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(a,b,c){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=!0;this._rangePropMode=["percent","percent"];b=m(a);this.mergeDefaultAndTheme(a,c);this.doInit(b)},mergeOption:function(a){var b=m(a);h.merge(this.option,a,!0);this.doInit(b)},doInit:function(a){var b=this.option;l.canvasSupported||(b.realtime=!1);this._setDefaultThrottle(a);p(this,a);d([["start","startValue"],["end","endValue"]],function(a,c){"value"===this._rangePropMode[c]&&(b[a[0]]=null)},this);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(c,d,e,f){e=this.dependentModels[c.axis][d];f=e.__dzAxisProxy||(e.__dzAxisProxy=new b(c.name,d,this,f));a[c.name+"_"+d]=f},this)},_resetTarget:function(){var a=this.option,b=this._judgeAutoMode();c(function(b){b=b.axisIndex;a[b]=f.normalizeToArray(a[b])},this);"axisIndex"===b?this._autoSetAxisIndex():"orient"===b&&this._autoSetOrient()},_judgeAutoMode:function(){var a=this.option,b=!1;c(function(c){null!=a[c.axisIndex]&&(b=!0)},this);var d=a.orient;if(null==d&&b)return"orient";if(!b)return null==d&&(a.orient="horizontal"),"axisIndex"},_autoSetAxisIndex:function(){var a=!0,b=this.get("orient",!0),e=this.option,f=this.dependentModels;if(a){var l="vertical"===b?"y":"x";f[l+"Axis"].length?(e[l+"AxisIndex"]=[0],a=!1):d(f.singleAxis,function(c){a&&c.get("orient",!0)===b&&(e.singleAxisIndex=[c.componentIndex],a=!1)})}a&&c(function(b){if(a){var c=[],d=this.dependentModels[b.axis];if(d.length&&!c.length)for(var f=0,h=d.length;f<h;f++)"category"===d[f].get("type")&&c.push(f);e[b.axisIndex]=c;c.length&&(a=!1)}},this);a&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&c(function(b){var c=e[b.axisIndex],d=a.get(b.axisIndex),g=a.get(b.axisId),f=a.ecModel.queryComponents({mainType:b.axis,index:d,id:g})[0];if(!f)throw Error(b.axis+' "'+h.retrieve(d,g,0)+'" not found');d=f.componentIndex;0>h.indexOf(c,d)&&c.push(d)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=b.name)},this);this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(a,b){var d=!0;c(function(c){var e=a.get(c.axisIndex);(c=this.dependentModels[c.axis][e])&&c.get("type")===b||(d=!1)},this);return d},_setDefaultThrottle:function(a){a.hasOwnProperty("throttle")&&(this._autoThrottle=!1);this._autoThrottle&&(a=this.ecModel.option,this.option.throttle=a.animation&&0<a.animationDurationUpdate?100:20)},getFirstTargetAxisModel:function(){var a;c(function(b){if(null==a){var c=this.get(b.axisIndex);c.length&&(a=this.dependentModels[b.axis][c[0]])}},this);return a},eachTargetAxis:function(a,b){var e=this.ecModel;c(function(c){d(this.get(c.axisIndex),function(d){a.call(b,c,d,this,e)},this)},this)},getAxisProxy:function(a,b){return this._axisProxies[a+"_"+b]},getAxisModel:function(a,b){var c=this.getAxisProxy(a,b);return c&&c.getAxisModel()},setRawRange:function(a,b){d(["start","end","startValue","endValue"],function(b){this.option[b]=a[b]},this);!b&&p(this,a)},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},getValueRange:function(a,b){if(null==a&&null==b){var c=this.findRepresentativeAxisProxy();if(c)return c.getDataValueWindow()}else return this.getAxisProxy(a,b).getDataValueWindow()},findRepresentativeAxisProxy:function(a){if(a)return a.__dzAxisProxy;a=this._axisProxies;for(var b in a)if(a.hasOwnProperty(b)&&a[b].hostedBy(this))return a[b];for(b in a)if(a.hasOwnProperty(b)&&!a[b].hostedBy(this))return a[b]},getRangePropMode:function(){return this._rangePropMode.slice()}});q.exports=a},function(q,n,a){var m=a(6),p=a(4);n={};var h=["cartesian2d","polar","singleAxis"];n.isCoordSupported=function(a){return 0<=p.indexOf(h,a)};n.createNameEach=function(a,f){a=a.slice();var e=p.map(a,m.capitalFirst);f=(f||[]).slice();var b=p.map(f,m.capitalFirst);return function(d,c){p.each(a,function(a,h){for(var k={name:a,capital:e[h]},l=0;l<f.length;l++)k[f[l]]=a+b[l];d.call(c,k)})}};n.eachAxisDim=n.createNameEach("x y z radius angle single".split(" "),["axisIndex","axis","index","id"]);n.createLinkedNodesFinder=function(a,f,e){function b(a,b){var d=!1;f(function(f){p.each(e(a,f)||[],function(a){b.records[f.name][a]&&(d=!0)})});return d}function d(a,b){b.nodes.push(a);f(function(d){p.each(e(a,d)||[],function(a){b.records[d.name][a]=!0})})}return function(c){function e(a){0<=p.indexOf(h.nodes,a)||!b(a,h)||(d(a,h),k=!0)}var h={nodes:[],records:{}};f(function(a){h.records[a.name]={}});if(!c)return h;d(c,h);var k;do k=!1,a(e);while(k);return h}};q.exports=n},function(q,n,a){function m(a,b,c){var e=[Infinity,-Infinity];d(c,function(a){var c=a.getData();c&&d(a.coordDimToDataDim(b),function(a){a=c.getDataExtent(a);a[0]<e[0]&&(e[0]=a[0]);a[1]>e[1]&&(e[1]=a[1])})});e[1]<e[0]&&(e=[NaN,NaN]);p(a,e);return e}function p(a,b){var c=a.getAxisModel(),d=c.getMin(!0),e="category"===c.get("type"),f=e&&(c.get("data")||[]).length;null!=d&&"dataMin"!==d?b[0]=d:e&&(b[0]=0<f?0:NaN);d=c.getMax(!0);null!=d&&"dataMax"!==d?b[1]=d:e&&(b[1]=0<f?f-1:NaN);c.get("scale",!0)||(0<b[0]&&(b[0]=0),0>b[1]&&(b[1]=0));return b}function h(a,b){var c=a.getAxisModel(),d=a._percentWindow,f=a._valueWindow;if(d){var h=e.getPixelPrecision(f,[0,500]),h=Math.min(h,20),d=b||0===d[0]&&100===d[1];c.setRange(d?null:+f[0].toFixed(h),d?null:+f[1].toFixed(h))}}function l(a){var b=a._minMaxSpan={},c=a._dataZoomModel;d(["min","max"],function(d){b[d+"Span"]=c.get(d+"Span");var f=c.get(d+"ValueSpan");null!=f&&(b[d+"ValueSpan"]=f,f=a.getAxisModel().axis.scale.parse(f),null!=f&&(b[d+"Span"]=e.linearMap(f,a._dataExtent,[0,100],!0)))})}var f=a(4),e=a(7),b=a(373),d=f.each,c=e.asc;n=function(a,b,c,d){this._dimName=a;this._axisIndex=b;this.ecModel=d;this._dataZoomModel=c};n.prototype={constructor:n,hostedBy:function(a){return this._dataZoomModel===a},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[],c=this.ecModel;c.eachSeries(function(d){if(b.isCoordSupported(d.get("coordinateSystem"))){var e=this._dimName,e=c.queryComponents({mainType:e+"Axis",index:d.get(e+"AxisIndex"),id:d.get(e+"AxisId")})[0];this._axisIndex===(e&&e.componentIndex)&&a.push(d)}},this);return a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var a=this._dimName,b=this.ecModel,c=this.getAxisModel(),d;"x"===a||"y"===a?(d="gridIndex",a="x"===a?"y":"x"):(d="polarIndex",a="angle"===a?"radius":"angle");var e;b.eachComponent(a+"Axis",function(a){(a.get(d)||0)===(c.get(d)||0)&&(e=a)});return e},getMinMaxSpan:function(){return f.clone(this._minMaxSpan)},calculateDataWindow:function(a){var b=this._dataExtent,f=this.getAxisModel().axis.scale,h=this._dataZoomModel.getRangePropMode(),l=[0,100],m=[a.start,a.end],n=[];d(["startValue","endValue"],function(b){n.push(null!=a[b]?f.parse(a[b]):null)});d([0,1],function(a){var c=n[a],d=m[a];"percent"===h[a]?(null==d&&(d=l[a]),c=f.parse(e.linearMap(d,l,b,!0))):d=e.linearMap(c,b,l,!0);n[a]=c;m[a]=d});return{valueWindow:c(n),percentWindow:c(m)}},reset:function(a){a===this._dataZoomModel&&(this._dataExtent=m(this,this._dimName,this.getTargetSeriesModels()),a=this.calculateDataWindow(a.option),this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,l(this),h(this))},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,h(this,!0))},filterData:function(a){function b(a){return a>=h[0]&&a<=h[1]}if(a===this._dataZoomModel){var c=this._dimName,e=this.getTargetSeriesModels(),f=a.get("filterMode"),h=this._valueWindow;if("none"!==f){var l=this.getOtherAxisModel();a.get("$fromToolbox")&&l&&"category"===l.get("type")&&(f="empty");d(e,function(a){var e=a.getData(),g=a.coordDimToDataDim(c);"weakFilter"===f?e&&e.filterSelf(function(a){for(var b,c,d,f=0;f<g.length;f++){var k=e.get(g[f],a),l=!isNaN(k),m=k<h[0],k=k>h[1];if(l&&!m&&!k)return!0;l&&(d=!0);m&&(b=!0);k&&(c=!0)}return d&&b&&c}):e&&d(g,function(c){"empty"===f?a.setData(e.map(c,function(a){return b(a)?a:NaN})):e.filterSelf(c,b)})})}}}};q.exports=n},function(q,n,a){n=a(82);q.exports=n.extend({type:"dataZoom",render:function(a,n,h,l){this.dataZoomModel=a;this.ecModel=n;this.api=h},getTargetCoordInfo:function(){var a=this.ecModel,n={};this.dataZoomModel.eachTargetAxis(function(h,l){var f=a.getComponent(h.axis,l);if(f){var e=f.getCoordSysModel();if(e){for(var b=n[e.mainType]||(n[e.mainType]=[]),d,c=0;c<b.length;c++)if(b[c].model===e){d=b[c];break}d||b.push(d={model:e,axisModels:[],coordIndex:e.componentIndex});d.axisModels.push(f)}}},this);return n}})},function(q,n,a){n=a(372).extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});q.exports=n},function(q,n,a){function m(a){return"vertical"===a?"ns-resize":"ew-resize"}var p=a(4),h=a(20),l=a(84);n=a(375);var f=h.Rect,e=a(7),b=e.linearMap,d=a(74),c=a(242),g=a(91),r=e.asc,k=p.bind,t=p.each,A=["line","bar","candlestick","scatter"],x=n.extend({type:"dataZoom.slider",init:function(a,b){this._displayables={};this.api=b},render:function(a,b,c,d){x.superApply(this,"render",arguments);l.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=a.get("orient");!1===this.dataZoomModel.get("show")?this.group.removeAll():(d&&"dataZoom"===d.type&&d.from===this.uid||this._buildView(),this._updateView())},remove:function(){x.superApply(this,"remove",arguments);l.clear(this,"_dispatchZoomAction")},dispose:function(){x.superApply(this,"dispose",arguments);l.clear(this,"_dispatchZoomAction")},_buildView:function(){var a=this.group;a.removeAll();this._resetLocation();this._resetInterval();var b=this._displayables.barGroup=new h.Group;this._renderBackground();this._renderHandle();this._renderDataShadow();a.add(b);this._positionGroup()},_resetLocation:function(){var a=this.dataZoomModel,b=this.api,c=this._findCoordRect(),b={width:b.getWidth(),height:b.getHeight()},e="horizontal"===this._orient?{right:b.width-c.x-c.width,top:b.height-30-7,width:c.width,height:30}:{right:7,top:c.y,width:30,height:c.height},g=d.getLayoutParams(a.option);p.each(["right","top","width","height"],function(a){"ph"===g[a]&&(g[a]=e[a])});a=d.getLayoutRect(g,b,a.padding);this._location={x:a.x,y:a.y};this._size=[a.width,a.height];"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var a=this.group,b=this._location,c=this._orient,d=this.dataZoomModel.getFirstTargetAxisModel(),d=d&&d.get("inverse"),e=this._displayables.barGroup,g=(this._dataShadowInfo||{}).otherAxisInverse;e.attr("horizontal"!==c||d?"horizontal"===c&&d?{scale:g?[-1,1]:[-1,-1]}:"vertical"!==c||d?{scale:g?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:g?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:g?[1,1]:[1,-1]});c=a.getBoundingRect([e]);a.attr("position",[b.x-c.x,b.y-c.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var a=this._size,b=this._displayables.barGroup;b.add(new f({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40}));b.add(new f({shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:"transparent"},z2:0,onclick:p.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var a=this._dataShadowInfo=this._prepareDataShadowInfo();if(a){var c=this._size,d=a.series,e=d.getRawData(),a=d.getShadowDim?d.getShadowDim():a.otherDim;if(null!=a){var g=e.getDataExtent(a),d=.3*(g[1]-g[0]),g=[g[0]-d,g[1]+d],f=[0,c[1]],k=[[c[0],0],[0,0]],l=[],m=c[0]/(e.count()-1),n=0,r=Math.round(e.count()/c[0]),t;e.each([a],function(a,c){if(0<r&&c%r)n+=m;else{var d=null==a||isNaN(a)||""===a,e=d?0:b(a,g,f,!0);d&&!t&&c?(k.push([k[k.length-1][0],0]),l.push([l[l.length-1][0],0])):!d&&t&&(k.push([n,0]),l.push([n,0]));k.push([n,e]);l.push([n,e]);n+=m;t=d}});c=this.dataZoomModel;this._displayables.barGroup.add(new h.Polygon({shape:{points:k},style:p.defaults({fill:c.get("dataBackgroundColor")},c.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20}));this._displayables.barGroup.add(new h.Polyline({shape:{points:l},style:c.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var a=this.dataZoomModel,b=a.get("showDataShadow");if(!1!==b){var c,d=this.ecModel;a.eachTargetAxis(function(e,g){var f=a.getAxisProxy(e.name,g).getTargetSeriesModels();p.each(f,function(a){if(!(c||!0!==b&&0>p.indexOf(A,a.get("type")))){var f=d.getComponent(e.axis,g).axis,h;h={x:"y",y:"x",radius:"angle",angle:"radius"}[e.name];var k,l=a.coordinateSystem;null!=h&&l.getOtherAxis&&(k=l.getOtherAxis(f).inverse);c={thisAxis:f,series:a,thisDim:e.name,otherDim:h,otherAxisInverse:k}}},this)},this);return c}},_renderHandle:function(){var a=this._displayables,b=a.handles=[],c=a.handleLabels=[],d=this._displayables.barGroup,l=this._size,n=this.dataZoomModel;d.add(a.filler=new f({draggable:!0,cursor:m(this._orient),drift:k(this._onDragMove,this,"all"),onmousemove:function(a){g.stop(a.event)},ondragstart:k(this._showDataInfo,this,!0),ondragend:k(this._onDragEnd,this),onmouseover:k(this._showDataInfo,this,!0),onmouseout:k(this._showDataInfo,this,!1),style:{fill:n.get("fillerColor"),textPosition:"inside"}}));d.add(new f(h.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:l[0],height:l[1]},style:{stroke:n.get("dataBackgroundColor")||n.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})));t([0,1],function(a){var f=h.createIcon(n.get("handleIcon"),{cursor:m(this._orient),draggable:!0,drift:k(this._onDragMove,this,a),onmousemove:function(a){g.stop(a.event)},ondragend:k(this._onDragEnd,this),onmouseover:k(this._showDataInfo,this,!0),onmouseout:k(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),l=f.getBoundingRect();this._handleHeight=e.parsePercent(n.get("handleSize"),this._size[1]);this._handleWidth=l.width/l.height*this._handleHeight;f.setStyle(n.getModel("handleStyle").getItemStyle());l=n.get("handleColor");null!=l&&(f.style.fill=l);d.add(b[a]=f);f=n.textStyleModel;this.group.add(c[a]=new h.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:f.getTextColor(),textFont:f.getFont()},z2:10}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),c=this._getViewExtent();this._handleEnds=[b(a[0],[0,100],c,!0),b(a[1],[0,100],c,!0)]},_updateInterval:function(a,d){var e=this.dataZoomModel,g=this._handleEnds,f=this._getViewExtent(),h=e.findRepresentativeAxisProxy().getMinMaxSpan(),k=[0,100];c(d,g,f,e.get("zoomLock")?"all":a,null!=h.minSpan?b(h.minSpan,k,f,!0):null,null!=h.maxSpan?b(h.maxSpan,k,f,!0):null);this._range=r([b(g[0],f,k,!0),b(g[1],f,k,!0)])},_updateView:function(a){var b=this._displayables,c=this._handleEnds,d=r(c.slice()),e=this._size;t([0,1],function(a){var d=this._handleHeight;b.handles[a].attr({scale:[d/2,d/2],position:[c[a],e[1]/2-d/2]})},this);b.filler.setShape({x:d[0],y:0,width:d[1]-d[0],height:e[1]});this._updateDataInfo(a)},_updateDataInfo:function(a){function b(a){var c=h.getTransform(d.handles[a].parent,this.group),k=h.transformDirection(0===a?"right":"left",c),l=this._handleWidth/2+5,c=h.applyTransform([m[a]+(0===a?-l:l),this._size[1]/2],c);e[a].setStyle({x:c[0],y:c[1],textVerticalAlign:"horizontal"===g?"middle":k,textAlign:"horizontal"===g?k:"center",text:f[a]})}var c=this.dataZoomModel,d=this._displayables,e=d.handleLabels,g=this._orient,f=["",""];if(c.get("showDetail")){var k=c.findRepresentativeAxisProxy();if(k){var c=k.getAxisModel().axis,l=this._range;a=a?k.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:k.getDataValueWindow();f=[this._formatLabel(a[0],c),this._formatLabel(a[1],c)]}}var m=r(this._handleEnds.slice());b.call(this,0);b.call(this,1)},_formatLabel:function(a,b){var c=this.dataZoomModel,d=c.get("labelFormatter"),c=c.get("labelPrecision");if(null==c||"auto"===c)c=b.getPixelPrecision();c=null==a||isNaN(a)?"":"category"===b.type||"time"===b.type?b.scale.getLabel(Math.round(a)):a.toFixed(Math.min(c,20));return p.isFunction(d)?d(a,c):p.isString(d)?d.replace("{value}",c):c},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a);b[1].attr("invisible",!a)},_onDragMove:function(a,b,c){this._dragging=!0;var d=this._displayables.barGroup.getLocalTransform();b=h.applyTransform([b,c],d,!0);this._updateInterval(a,b[0]);a=this.dataZoomModel.get("realtime");this._updateView(!a);a&&a&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1;this._showDataInfo(!1);this._dispatchZoomAction()},_onClickPanelClick:function(a){var b=this._size;a=this._displayables.barGroup.transformCoordToLocal(a.offsetX,a.offsetY);0>a[0]||a[0]>b[0]||0>a[1]||a[1]>b[1]||(b=this._handleEnds,this._updateInterval("all",a[0]-(b[0]+b[1])/2),this._updateView(),this._dispatchZoomAction())},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_findCoordRect:function(){var a;t(this.getTargetCoordInfo(),function(b){!a&&b.length&&(b=b[0].model.coordinateSystem,a=b.getRect&&b.getRect())});if(!a){var b=this.api.getWidth(),c=this.api.getHeight();a={x:.2*b,y:.2*c,width:.6*b,height:.6*c}}return a}});q.exports=x},function(q,n,a){q.exports=a(372).extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}})},function(q,n,a){n=a(375);var m=a(4),p=a(242),h=a(380),l=m.bind,f=n.extend({type:"dataZoom.inside",init:function(a,d){},render:function(a,d,c,e){f.superApply(this,"render",arguments);h.shouldRecordRange(e,a.id)&&(this._range=a.getPercentRange());m.each(this.getTargetCoordInfo(),function(d,e){var g=m.map(d,function(a){return h.generateCoordId(a.model)});m.each(d,function(d){var f=d.model,m=a.option;h.register(c,{coordId:h.generateCoordId(f),allCoordIds:g,containsPoint:function(a,b,c){return f.coordinateSystem.containPoint([b,c])},dataZoomId:a.id,throttleRate:a.get("throttle",!0),panGetRange:l(this._onPan,this,d,e),zoomGetRange:l(this._onZoom,this,d,e),zoomLock:m.zoomLock,disabled:m.disabled,roamControllerOpt:{zoomOnMouseWheel:m.zoomOnMouseWheel,moveOnMouseMove:m.moveOnMouseMove,preventDefaultMouseMove:m.preventDefaultMouseMove}})},this)},this)},dispose:function(){h.unregister(this.api,this.dataZoomModel.id);f.superApply(this,"dispose",arguments);this._range=null},_onPan:function(a,d,c,g,f,h,l,m,n){g=this._range.slice();if(f=a.axisModels[0])return a=e[d]([h,l],[m,n],f,c,a),p(a.signal*(g[1]-g[0])*a.pixel/a.pixelLength,g,[0,100],"all"),this._range=g},_onZoom:function(a,d,c,g,f,h){var l=this._range.slice(),m=a.axisModels[0];if(m)return a=e[d](null,[f,h],m,c,a),a=(0<a.signal?a.pixelStart+a.pixelLength-a.pixel:a.pixel-a.pixelStart)/a.pixelLength*(l[1]-l[0])+l[0],g=Math.max(1/g,0),l[0]=(l[0]-a)*g+a,l[1]=(l[1]-a)*g+a,g=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan(),p(0,l,[0,100],0,g.minSpan,g.maxSpan),this._range=l}}),e={grid:function(a,d,c,e,f){c=c.axis;e={};f=f.model.coordinateSystem.getRect();a=a||[0,0];"x"===c.dim?(e.pixel=d[0]-a[0],e.pixelLength=f.width,e.pixelStart=f.x,e.signal=c.inverse?1:-1):(e.pixel=d[1]-a[1],e.pixelLength=f.height,e.pixelStart=f.y,e.signal=c.inverse?-1:1);return e},polar:function(a,d,c,e,f){e=c.axis;var h={};f=f.model.coordinateSystem;var l=f.getRadiusAxis().getExtent(),m=f.getAngleAxis().getExtent();a=a?f.pointToCoord(a):[0,0];d=f.pointToCoord(d);"radiusAxis"===c.mainType?(h.pixel=d[0]-a[0],h.pixelLength=l[1]-l[0],h.pixelStart=l[0],h.signal=e.inverse?1:-1):(h.pixel=d[1]-a[1],h.pixelLength=m[1]-m[0],h.pixelStart=m[0],h.signal=e.inverse?-1:1);return h},singleAxis:function(a,d,c,e,f){c=c.axis;f=f.model.coordinateSystem.getRect();e={};a=a||[0,0];"horizontal"===c.orient?(e.pixel=d[0]-a[0],e.pixelLength=f.width,e.pixelStart=f.x,e.signal=c.inverse?1:-1):(e.pixel=d[1]-a[1],e.pixelLength=f.height,e.pixelStart=f.y,e.signal=c.inverse?-1:1);return e}};q.exports=f},function(q,n,a){function m(a){a=a.getZr();return a["\x00_ec_dataZoom_roams"]||(a["\x00_ec_dataZoom_roams"]={})}function p(a,b){var c=new g(a.getZr());c.on("pan",k(l,b));c.on("zoom",k(f,b));return c}function h(a){c.each(a,function(b,c){b.count||(b.controller.dispose(),delete a[c])})}function l(a,b,c,d,f,g,h){e(a,function(e){return e.panGetRange(a.controller,b,c,d,f,g,h)})}function f(a,b,c,d){e(a,function(e){return e.zoomGetRange(a.controller,b,c,d)})}function e(a,b){var d=[];c.each(a.dataZoomInfos,function(a){var c=b(a);!a.disabled&&c&&d.push({dataZoomId:a.dataZoomId,start:c[0],end:c[1]})});a.dispatchAction(d)}function b(a,b){a.dispatchAction({type:"dataZoom",batch:b})}function d(a){var b,d={},e={"true":2,move:1,"false":0,undefined:-1};c.each(a,function(a){var f=a.disabled?!1:a.zoomLock?"move":!0;e[f]>e[b]&&(b=f);c.extend(d,a.roamControllerOpt)});return{controlType:b,opt:d}}var c=a(4),g=a(186),r=a(84),k=c.curry;q.exports={register:function(a,e){var f=m(a),g=e.dataZoomId,k=e.coordId;c.each(f,function(a,b){var d=a.dataZoomInfos;d[g]&&0>c.indexOf(e.allCoordIds,k)&&(delete d[g],a.count--)});h(f);var l=f[k];l||(l=f[k]={coordId:k,dataZoomInfos:{},count:0},l.controller=p(a,l),l.dispatchAction=c.curry(b,a));!l.dataZoomInfos[g]&&l.count++;l.dataZoomInfos[g]=e;f=d(l.dataZoomInfos);l.controller.enable(f.controlType,f.opt);l.controller.setPointerChecker(e.containsPoint);r.createOrUpdate(l,"dispatchAction",e.throttleRate,"fixRate")},unregister:function(a,b){var d=m(a);c.each(d,function(a){a.controller.dispose();var c=a.dataZoomInfos;c[b]&&(delete c[b],a.count--)});h(d)},shouldRecordRange:function(a,b){if(a&&"dataZoom"===a.type&&a.batch)for(var c=0,d=a.batch.length;c<d;c++)if(a.batch[c].dataZoomId===b)return!1;return!0},generateCoordId:function(a){return a.type+"\x00_"+a.id}}},function(q,n,a){function m(a,l,f){f.getAxisProxy(a.name,l).reset(f)}function p(a,l,f){f.getAxisProxy(a.name,l).filterData(f)}a(1).registerProcessor(function(a,l){a.eachComponent("dataZoom",function(a){a.eachTargetAxis(m);a.eachTargetAxis(p)});a.eachComponent("dataZoom",function(a){var e=a.findRepresentativeAxisProxy(),b=e.getDataPercentWindow(),e=e.getDataValueWindow();a.setRawRange({start:b[0],end:b[1],startValue:e[0],endValue:e[1]},!0)})})},function(q,n,a){var m=a(4),p=a(373);a(1).registerAction("dataZoom",function(a,l){var f=p.createLinkedNodesFinder(m.bind(l.eachComponent,l,"dataZoom"),p.eachAxisDim,function(a,d){return a.get(d.axisIndex)}),e=[];l.eachComponent({mainType:"dataZoom",query:a},function(a,d){e.push.apply(e,f(a).nodes)});m.each(e,function(b,d){b.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})})},function(q,n,a){a(384);a(395)},function(q,n,a){a(1).registerPreprocessor(a(385));a(386);a(387);a(388);a(391);a(394)},function(q,n,a){function m(a,f){return a&&a.hasOwnProperty&&a.hasOwnProperty(f)}var p=a(4),h=p.each;q.exports=function(a){a=a&&a.visualMap;p.isArray(a)||(a=a?[a]:[]);h(a,function(a){a&&(m(a,"splitList")&&!m(a,"pieces")&&(a.pieces=a.splitList,delete a.splitList),(a=a.pieces)&&p.isArray(a)&&h(a,function(a){p.isObject(a)&&(m(a,"start")&&!m(a,"min")&&(a.min=a.start),m(a,"end")&&!m(a,"max")&&(a.max=a.end))}))})}},function(q,n,a){a(72).registerSubTypeDefaulter("visualMap",function(a){return a.categories||(a.pieces?0<a.pieces.length:0<a.splitNumber)&&!a.calculable?"piecewise":"continuous"})},function(q,n,a){function m(a,d){a.eachTargetSeries(function(c){c=c.getData();l.applyVisual(a.stateList,a.targetVisuals,c,a.getValueState,a,a.getDataDimension(c))})}function p(a){a.eachSeries(function(d){var c=d.getData(),f=[];a.eachComponent("visualMap",function(a){if(a.isTargetSeries(d)){var b=a.getVisualMeta(e.bind(h,null,d,a))||{stops:[],outerColors:[]};b.dimension=a.getDataDimension(c);f.push(b)}});d.getData().setVisual("visualMeta",f)})}function h(a,d,c,e){function h(a){return l[a]}function k(a,b){l[a]=b}d=d.targetVisuals[e];e=f.prepareVisualTypes(d);var l={color:a.getData().getVisual("color")};a=0;for(var m=e.length;a<m;a++){var n=e[a];(n=d["opacity"===n?"__alphaForOpacity":n])&&n.applyVisual(c,h,k)}return l.color}q=a(1);var l=a(357),f=a(206),e=a(4);q.registerVisual(q.PRIORITY.VISUAL.COMPONENT,function(a){a.eachComponent("visualMap",function(d){m(d,a)});p(a)})},function(q,n,a){function m(a,d,c){if(c[0]===c[1])return c.slice();a=(c[1]-c[0])/200;d=c[0];for(var e=[],f=0;200>=f&&d<c[1];f++)e.push(d),d+=a;e.push(c[1]);return e}var p=a(389),h=a(4),l=a(7),f=[20,140],e=p.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:!0},optionUpdated:function(a,d){e.superApply(this,"optionUpdated",arguments);this.resetTargetSeries();this.resetExtent();this.resetVisual(function(a){a.mappingMethod="linear";a.dataExtent=this.getExtent()});this._resetRange()},resetItemSize:function(){e.superApply(this,"resetItemSize",arguments);var a=this.itemSize;"horizontal"===this._orient&&a.reverse();(null==a[0]||isNaN(a[0]))&&(a[0]=f[0]);(null==a[1]||isNaN(a[1]))&&(a[1]=f[1])},_resetRange:function(){var a=this.getExtent(),d=this.option.range;!d||d.auto?(a.auto=1,this.option.range=a):h.isArray(d)&&(d[0]>d[1]&&d.reverse(),d[0]=Math.max(d[0],a[0]),d[1]=Math.min(d[1],a[1]))},completeVisualOption:function(){p.prototype.completeVisualOption.apply(this,arguments);h.each(this.stateList,function(a){(a=this.option.controller[a].symbolSize)&&a[0]!==a[1]&&(a[0]=0)},this)},setSelected:function(a){this.option.range=a.slice();this._resetRange()},getSelected:function(){var a=this.getExtent(),d=l.asc((this.get("range")||[]).slice());d[0]>a[1]&&(d[0]=a[1]);d[1]>a[1]&&(d[1]=a[1]);d[0]<a[0]&&(d[0]=a[0]);d[1]<a[0]&&(d[1]=a[0]);return d},getValueState:function(a){var d=this.option.range,c=this.getExtent();return(d[0]<=c[0]||d[0]<=a)&&(d[1]>=c[1]||a<=d[1])?"inRange":"outOfRange"},findTargetDataIndices:function(a){var d=[];this.eachTargetSeries(function(c){var e=[],f=c.getData();f.each(this.getDataDimension(f),function(c,d){a[0]<=c&&c<=a[1]&&e.push(d)},!0,this);d.push({seriesId:c.id,dataIndex:e})},this);return d},getVisualMeta:function(a){function d(c,d){f.push({value:c,color:a(c,d)})}for(var c=m(this,"outOfRange",this.getExtent()),e=m(this,"inRange",this.option.range.slice()),f=[],h=0,l=0,n=e.length,p=c.length;l<p&&(!e.length||c[l]<=e[0]);l++)c[l]<e[h]&&d(c[l],"outOfRange");for(var q=1;h<n;h++,q=0)q&&f.length&&d(e[h],"outOfRange"),d(e[h],"inRange");for(q=1;l<p;l++)if(!e.length||e[e.length-1]<c[l])q&&(f.length&&d(f[f.length-1].value,"outOfRange"),q=0),d(c[l],"outOfRange");c=f.length;return{stops:f,outerColors:[c?f[0].color:"transparent",c?f[c-1].color:"transparent"]}}});q.exports=e},function(q,n,a){n=a(1);var m=a(4),p=a(2),h=a(390),l=a(206),f=a(357),e=l.mapVisual,b=a(5),d=l.eachVisual;a=a(7);var c=m.isArray,g=m.each,r=a.asc,k=a.linearMap;a=m.noop;var t=["#f6efa6","#d88273","#bf444c"];n=n.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-Infinity,Infinity],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:null,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(a,b,c){this.targetVisuals={};this.controllerVisuals={};this.textStyleModel;this.mergeDefaultAndTheme(a,c)},optionUpdated:function(a,b){var c=this.option;p.canvasSupported||(c.realtime=!1);!b&&f.replaceVisualOption(c,a,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(a){var b=this.stateList;a=m.bind(a,this);this.controllerVisuals=f.createVisualMappings(this.option.controller,b,a);this.targetVisuals=f.createVisualMappings(this.option.target,b,a)},resetTargetSeries:function(){var a=this.option,c=null==a.seriesIndex;a.seriesIndex=c?[]:b.normalizeToArray(a.seriesIndex);c&&this.ecModel.eachSeries(function(b,c){a.seriesIndex.push(c)})},eachTargetSeries:function(a,b){m.each(this.option.seriesIndex,function(c){a.call(b,this.ecModel.getSeriesByIndex(c))},this)},isTargetSeries:function(a){var b=!1;this.eachTargetSeries(function(c){c===a&&(b=!0)});return b},formatValueText:function(a,b,c){function d(a){return a===g[0]?"min":a===g[1]?"max":(+a).toFixed(Math.min(f,20))}var e=this.option,f=e.precision,g=this.dataBound,e=e.formatter,h;c=c||["\x3c","\x3e"];m.isArray(a)&&(a=a.slice(),h=!0);b=b?a:h?[d(a[0]),d(a[1])]:d(a);return m.isString(e)?e.replace("{value}",h?b[0]:b).replace("{value2}",h?b[1]:b):m.isFunction(e)?h?e(a[0],a[1]):e(a):h?a[0]===g[0]?c[0]+" "+b[1]:a[1]===g[1]?c[1]+" "+b[0]:b[0]+" - "+b[1]:b},resetExtent:function(){var a=this.option;this._dataExtent=r([a.min,a.max])},getDataDimension:function(a){var b=this.option.dimension;return null!=b?b:a.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function a(d){c(b.color)&&!d.inRange&&(d.inRange={color:b.color.slice().reverse()});d.inRange=d.inRange||{color:t};g(this.stateList,function(a){var b=d[a];if(m.isString(b)){var c=h.get(b,"active",r);c?(d[a]={},d[a][b]=c):delete d[a]}},this)}var b=this.option,f={inRange:b.inRange,outOfRange:b.outOfRange},n=b.target||(b.target={}),p=b.controller||(b.controller={});m.merge(n,f);m.merge(p,f);var r=this.isCategory();a.call(this,n);a.call(this,p);(function(a,b,c){b=a[b];var d=a[c];b&&!d&&(d=a[c]={},g(b,function(a,b){if(l.isValidType(b)){var c=h.get(b,"inactive",r);null!=c&&(d[b]=c,"color"!==b||d.hasOwnProperty("opacity")||d.hasOwnProperty("colorAlpha")||(d.opacity=[0,0]))}}))}).call(this,n,"inRange","outOfRange");(function(a){var b=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,c=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,f=this.get("inactiveColor");g(this.stateList,function(g){var h=this.itemSize,l=a[g];l||(l=a[g]={color:r?f:[f]});null==l.symbol&&(l.symbol=b&&m.clone(b)||(r?"roundRect":["roundRect"]));null==l.symbolSize&&(l.symbolSize=c&&m.clone(c)||(r?h[0]:[h[0],h[0]]));l.symbol=e(l.symbol,function(a){return"none"===a||"square"===a?"roundRect":a});g=l.symbolSize;if(null!=g){var n=-Infinity;d(g,function(a){a>n&&(n=a)});l.symbolSize=e(g,function(a){return k(a,[0,n],[0,h[0]],!0)})}},this)}).call(this,p)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:a,getValueState:a,getVisualMeta:a});q.exports=n},function(q,n,a){var m=a(4),p={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};q.exports={get:function(a,l,f){a=m.clone((p[a]||{})[l]);return f?m.isArray(a)?a[a.length-1]:a:a}}},function(q,n,a){function m(a,b,c,d){return new f.Polygon({shape:{points:a},draggable:!!c,cursor:b,drift:c,onmousemove:function(a){k.stop(a.event)},ondragend:d})}function p(a,b,c,d){return a?[[0,-x(b,w(c,0))],[6,0],[0,x(b,w(d-c,0))]]:[[0,0],[5,-5],[5,5]]}function h(a){return!a.get("realtime")&&a.get("hoverLinkOnHandle")}function l(a){return"vertical"===a?"ns-resize":"ew-resize"}n=a(392);var f=a(20),e=a(4),b=a(7),d=a(242),c=a(68),g=a(393),r=a(5),k=a(91),t=b.linearMap,A=e.each,x=Math.min,w=Math.max,u=n.extend({type:"visualMap.continuous",init:function(){u.superApply(this,"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._hoverLinkDataIndices=[]},doRender:function(a,b,c,d){d&&"selectDataRange"===d.type&&d.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var a=this.visualMapModel,b=this.group;this._orient=a.get("orient");this._useHandle=a.get("calculable");this._resetInterval();this._renderBar(b);a=a.get("text");this._renderEndsText(b,a,0);this._renderEndsText(b,a,1);this._updateView(!0);this.renderBackground(b);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(b)},_renderEndsText:function(a,b,c){if(b){a=b[1-c];a=null!=a?a+"":"";var d=this.visualMapModel;b=d.get("textGap");var e=d.itemSize,d=this._shapes.barGroup;b=this._applyTransform([e[0]/2,0===c?-b:e[1]+b],d);c=this._applyTransform(0===c?"bottom":"top",d);d=this._orient;e=this.visualMapModel.textStyleModel;this.group.add(new f.Text({style:{x:b[0],y:b[1],textVerticalAlign:"horizontal"===d?"middle":c,textAlign:"horizontal"===d?c:"center",text:a,textFont:e.getFont(),textFill:e.getTextColor()}}))}},_renderBar:function(a){var b=this.visualMapModel,c=this._shapes,d=b.itemSize,f=this._orient,h=this._useHandle,k=g.getItemAlign(b,this.api,d),n=c.barGroup=this._createBarGroup(k);n.add(c.outOfRange=m());n.add(c.inRange=m(null,h?l(this._orient):null,e.bind(this._dragHandle,this,"all",!1),e.bind(this._dragHandle,this,"all",!0)));b=b.textStyleModel.getTextRect("\u56fd");b=w(b.width,b.height);h&&(c.handleThumbs=[],c.handleLabels=[],c.handleLabelPoints=[],this._createHandle(n,0,d,b,f,k),this._createHandle(n,1,d,b,f,k));this._createIndicator(n,d,b,f);a.add(n)},_createHandle:function(a,b,c,d,g){var h=e.bind(this._dragHandle,this,b,!1),n=e.bind(this._dragHandle,this,b,!0),p=m(0===b?[[0,0],[d,0],[d,-d]]:[[0,0],[d,0],[d,d]],l(this._orient),h,n);p.position[0]=c[0];a.add(p);a=this.visualMapModel.textStyleModel;h=new f.Text({draggable:!0,drift:h,onmousemove:function(a){k.stop(a.event)},ondragend:n,style:{x:0,y:0,text:"",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(h);d=["horizontal"===g?d/2:1.5*d,"horizontal"===g?0===b?-(1.5*d):1.5*d:0===b?-d/2:d/2];g=this._shapes;g.handleThumbs[b]=p;g.handleLabelPoints[b]=d;g.handleLabels[b]=h},_createIndicator:function(a,b,c,d){var e=m([[0,0]],"move");e.position[0]=b[0];e.attr({invisible:!0,silent:!0});a.add(e);a=this.visualMapModel.textStyleModel;a=new f.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(a);c=["horizontal"===d?c/2:9,0];d=this._shapes;d.indicator=e;d.indicatorLabel=a;d.indicatorLabelPoint=c},_dragHandle:function(a,b,c,d){this._useHandle&&(this._dragging=!b,b||(c=this._applyTransform([c,d],this._shapes.barGroup,!0),this._updateInterval(a,c[1]),this._updateView()),b===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),b?!this._hovering&&this._clearHoverLinkToSeries():h(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[a],!1))},_resetInterval:function(){var a=this.visualMapModel,b=this._dataInterval=a.getSelected(),c=a.getExtent(),a=[0,a.itemSize[1]];this._handleEnds=[t(b[0],c,a,!0),t(b[1],c,a,!0)]},_updateInterval:function(a,b){var c=this.visualMapModel,e=this._handleEnds,f=[0,c.itemSize[1]];d(b||0,e,f,a,0);c=c.getExtent();this._dataInterval=[t(e[0],f,c,!0),t(e[1],f,c,!0)]},_updateView:function(a){var b=this.visualMapModel,c=b.getExtent(),d=this._shapes,b=[0,b.itemSize[1]];a=a?b:this._handleEnds;var e=this._createBarVisual(this._dataInterval,c,a,"inRange"),c=this._createBarVisual(c,c,b,"outOfRange");d.inRange.setStyle({fill:e.barColor,opacity:e.opacity}).setShape("points",e.barPoints);d.outOfRange.setStyle({fill:c.barColor,opacity:c.opacity}).setShape("points",c.barPoints);this._updateHandle(a,e)},_createBarVisual:function(a,b,d,e){e={forceState:e,convertOpacityToAlpha:!0};b=this._makeColorGradient(a,e);a=[this.getControllerVisual(a[0],"symbolSize",e),this.getControllerVisual(a[1],"symbolSize",e)];d=this._createBarPoints(d,a);return{barColor:new c(0,0,0,1,b),barPoints:d,handlesColor:[b[0].color,b[b.length-1].color]}},_makeColorGradient:function(a,b){var c=[],d=(a[1]-a[0])/100;c.push({color:this.getControllerVisual(a[0],"color",b),offset:0});for(var e=1;100>e;e++){var f=a[0]+d*e;if(f>a[1])break;c.push({color:this.getControllerVisual(f,"color",b),offset:e/100})}c.push({color:this.getControllerVisual(a[1],"color",b),offset:1});return c},_createBarPoints:function(a,b){var c=this.visualMapModel.itemSize;return[[c[0]-b[0],a[0]],[c[0],a[0]],[c[0],a[1]],[c[0]-b[1],a[1]]]},_createBarGroup:function(a){var b=this._orient,c=this.visualMapModel.get("inverse");return new f.Group("horizontal"!==b||c?"horizontal"===b&&c?{scale:"bottom"===a?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==b||c?{scale:"left"===a?[1,1]:[-1,1]}:{scale:"left"===a?[1,-1]:[-1,-1]}:{scale:"bottom"===a?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(a,b){if(this._useHandle){var c=this._shapes,d=this.visualMapModel,e=c.handleThumbs,g=c.handleLabels;A([0,1],function(h){var k=e[h];k.setStyle("fill",b.handlesColor[h]);k.position[1]=a[h];k=f.applyTransform(c.handleLabelPoints[h],f.getTransform(k,this.group));g[h].setStyle({x:k[0],y:k[1],text:d.formatValueText(this._dataInterval[h]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===h?"bottom":"top":"left",c.barGroup)})},this)}},_showIndicator:function(a,b,c,d){var e=this.visualMapModel,g=e.getExtent(),h=e.itemSize,k=t(a,g,[0,h[1]],!0),g=this._shapes,l=g.indicator;l&&(l.position[1]=k,l.attr("invisible",!1),l.setShape("points",p(!!c,d,k,h[1])),a=this.getControllerVisual(a,"color",{convertOpacityToAlpha:!0}),l.setStyle("fill",a),a=f.applyTransform(g.indicatorLabelPoint,f.getTransform(l,this.group)),d=g.indicatorLabel,d.attr("invisible",!1),g=this._applyTransform("left",g.barGroup),h=this._orient,d.setStyle({text:(c?c:"")+e.formatValueText(b),textVerticalAlign:"horizontal"===h?g:"middle",textAlign:"horizontal"===h?"center":g,x:a[0],y:a[1]}))},_enableHoverLinkToSeries:function(){var a=this;this._shapes.barGroup.on("mousemove",function(b){a._hovering=!0;if(!a._dragging){var c=a.visualMapModel.itemSize;b=a._applyTransform([b.offsetX,b.offsetY],a._shapes.barGroup,!0,!0);b[1]=x(w(0,b[1]),c[1]);a._doHoverLinkToSeries(b[1],0<=b[0]&&b[0]<=c[0])}}).on("mouseout",function(){a._hovering=!1;!a._dragging&&a._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(a,b){var c=this.visualMapModel,d=c.itemSize;if(c.option.hoverLink){var d=[0,d[1]],e=c.getExtent();a=x(w(d[0],a),d[1]);var f;f=6;var k=c.get("hoverLinkDataSize");k&&(f=t(k,e,d,!0)/2);var k=[a-f,a+f],l=t(a,d,e,!0),e=[t(k[0],d,e,!0),t(k[1],d,e,!0)];k[0]<d[0]&&(e[0]=-Infinity);k[1]>d[1]&&(e[1]=Infinity);b&&(-Infinity===e[0]?this._showIndicator(l,e[1],"\x3c ",f):Infinity===e[1]?this._showIndicator(l,e[0],"\x3e ",f):this._showIndicator(l,l,"\u2248 ",f));d=this._hoverLinkDataIndices;f=[];if(b||h(c))f=this._hoverLinkDataIndices=c.findTargetDataIndices(e);c=r.compressBatches(d,f);this._dispatchHighDown("downplay",g.convertDataIndex(c[0]));this._dispatchHighDown("highlight",g.convertDataIndex(c[1]))}},_hoverLinkFromSeriesMouseOver:function(a){a=a.target;var b=this.visualMapModel;if(a&&null!=a.dataIndex){var c=this.ecModel.getSeriesByIndex(a.seriesIndex);b.isTargetSeries(c)&&(c=c.getData(a.dataType),b=c.getDimension(b.getDataDimension(c)),a=c.get(b,a.dataIndex,!0),isNaN(a)||this._showIndicator(a,a))}},_hideIndicator:function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0);a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",g.convertDataIndex(a));a.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver);a.off("mouseout",this._hideIndicator)},_applyTransform:function(a,b,c,d){b=f.getTransform(b,d?null:this.group);return f[e.isArray(a)?"applyTransform":"transformDirection"](a,b,c)},_dispatchHighDown:function(a,b){b&&b.length&&this.api.dispatchAction({type:a,batch:b})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});q.exports=u},function(q,n,a){var m=a(4),p=a(20),h=a(6),l=a(74);n=a(1);var f=a(206);q.exports=n.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(a,b){this.ecModel=a;this.api=b},render:function(a,b,d,c){this.visualMapModel=a;!1===a.get("show")?this.group.removeAll():this.doRender.apply(this,arguments)},renderBackground:function(a){var b=this.visualMapModel,d=h.normalizeCssArray(b.get("padding")||0),c=a.getBoundingRect();a.add(new p.Rect({z2:-1,silent:!0,shape:{x:c.x-d[3],y:c.y-d[0],width:c.width+d[3]+d[1],height:c.height+d[0]+d[2]},style:{fill:b.get("backgroundColor"),stroke:b.get("borderColor"),lineWidth:b.get("borderWidth")}}))},getControllerVisual:function(a,b,d){function c(a){return l[a]}function g(a,b){l[a]=b}d=d||{};var h=d.forceState,k=this.visualMapModel,l={};"symbol"===b&&(l.symbol=k.get("itemSymbol"));if("color"===b){var n=k.get("contentColor");l.color=n}var p=k.controllerVisuals[h||k.getValueState(a)],h=f.prepareVisualTypes(p);m.each(h,function(h){var k=p[h];d.convertOpacityToAlpha&&"opacity"===h&&(h="colorAlpha",k=p.__alphaForOpacity);f.dependsOn(h,b)&&k&&k.applyVisual(a,c,g)});return l[b]},positionGroup:function(a){var b=this.api;l.positionElement(a,this.visualMapModel.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})},doRender:m.noop})},function(q,n,a){var m=a(4),p=a(74);q.exports={getItemAlign:function(a,l,f){a=a.option;var e=a.align;if(null!=e&&"auto"!==e)return e;l={width:l.getWidth(),height:l.getHeight()};for(var b="horizontal"===a.orient?1:0,d=[["left","right","width"],["top","bottom","height"]],e=d[b],c=[0,null,10],g={},m=0;3>m;m++)g[d[1-b][m]]=c[m],g[e[m]]=2===m?f[0]:a[e[m]];f=[["x","width",3],["y","height",0]][b];a=p.getLayoutRect(g,l,a.padding);return e[(a.margin[f[2]]||0)+a[f[0]]+.5*a[f[1]]<.5*l[f[1]]?0:1]},convertDataIndex:function(a){m.each(a||[],function(l){null!=a.dataIndex&&(a.dataIndexInside=a.dataIndex,a.dataIndex=null)});return a}}},function(q,n,a){a(1).registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(a,n){n.eachComponent({mainType:"visualMap",query:a},function(h){h.setSelected(a.selected)})})},function(q,n,a){a(1).registerPreprocessor(a(385));a(386);a(387);a(396);a(397);a(394)},function(q,n,a){function m(a,b){var d=a.inverse;("vertical"===a.orient?!d:d)&&b.reverse()}var p=a(389),h=a(4),l=a(206),f=a(390),e=a(7).reformIntervals,b=p.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(a,e){b.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetTargetSeries();this.resetExtent();var f=this._mode=this._determineMode();d[this._mode].call(this);this._resetSelected(a,e);var k=this.option.categories;this.resetVisual(function(a,b){"categories"===f?(a.mappingMethod="category",a.categories=h.clone(k)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=h.map(this._pieceList,function(a){a=h.clone(a);"inRange"!==b&&(a.visual=null);return a}))})},completeVisualOption:function(){function a(b,c,d){return b&&b[c]&&(h.isObject(b[c])?b[c].hasOwnProperty(d):b[c]===d)}var b=this.option,d={},e=l.listVisualTypes(),m=this.isCategory();h.each(b.pieces,function(a){h.each(e,function(b){a.hasOwnProperty(b)&&(d[b]=1)})});h.each(d,function(d,e){var k=0;h.each(this.stateList,function(d){k|=a(b,d,e)||a(b.target,d,e)},this);!k&&h.each(this.stateList,function(a){(b[a]||(b[a]={}))[e]=f.get(e,"inRange"===a?"active":"inactive",m)})},this);p.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(a,b){var d=this.option,e=this._pieceList,f=(b?d:a).selected||{};d.selected=f;h.each(e,function(a,b){var c=this.getSelectedMapKey(a);f.hasOwnProperty(c)||(f[c]=!0)},this);if("single"===d.selectedMode){var l=!1;h.each(e,function(a,b){var c=this.getSelectedMapKey(a);f[c]&&(l?f[c]=!1:l=!0)},this)}},getSelectedMapKey:function(a){return"categories"===this._mode?a.value+"":a.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var a=this.option;return a.pieces&&0<a.pieces.length?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(a){this.option.selected=h.clone(a)},getValueState:function(a){a=l.findPieceIndex(a,this._pieceList);return null!=a?this.option.selected[this.getSelectedMapKey(this._pieceList[a])]?"inRange":"outOfRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];this.eachTargetSeries(function(d){var e=[],f=d.getData();f.each(this.getDataDimension(f),function(b,d){l.findPieceIndex(b,this._pieceList)===a&&e.push(d)},!0,this);b.push({seriesId:d.id,dataIndex:e})},this);return b},getRepresentValue:function(a){this.isCategory()?a=a.value:null!=a.value?a=a.value:(a=a.interval||[],a=-Infinity===a[0]&&Infinity===a[1]?0:(a[0]+a[1])/2);return a},getVisualMeta:function(a){function b(g,h){var l=f.getRepresentValue({interval:g});h||(h=f.getValueState(l));l=a(l,h);-Infinity===g[0]?e[0]=l:Infinity===g[1]?e[1]=l:d.push({value:g[0],color:l},{value:g[1],color:l})}if(!this.isCategory()){var d=[],e=[],f=this,l=this._pieceList.slice();if(l.length){var m=l[0].interval[0];-Infinity!==m&&l.unshift({interval:[-Infinity,m]});m=l[l.length-1].interval[1];Infinity!==m&&l.push({interval:[m,Infinity]})}else l.push({interval:[-Infinity,Infinity]});var n=-Infinity;h.each(l,function(a){if(a=a.interval)a[0]>n&&b([n,a[0]],"outOfRange"),b(a.slice()),n=a[1]},this);return{stops:d,outerColors:e}}}}),d={splitNumber:function(){var a=this.option,b=this._pieceList,d=Math.min(a.precision,20),f=this.getExtent(),l=a.splitNumber,l=Math.max(parseInt(l,10),1);a.splitNumber=l;for(var m=(f[1]-f[0])/l;+m.toFixed(d)!==m&&5>d;)d++;a.precision=d;m=+m.toFixed(d);d=0;a.minOpen&&b.push({index:d++,interval:[-Infinity,f[0]],close:[0,0]});for(var n=f[0],p=d+l;d<p;n+=m){var q=d===l-1?f[1]:n+m;b.push({index:d++,interval:[n,q],close:[1,1]})}a.maxOpen&&b.push({index:d++,interval:[f[1],Infinity],close:[0,0]});e(b);h.each(b,function(a){a.text=this.formatValueText(a.interval)},this)},categories:function(){var a=this.option;h.each(a.categories,function(a){this._pieceList.push({text:this.formatValueText(a,!0),value:a})},this);m(a,this._pieceList)},pieces:function(){var a=this.option,b=this._pieceList;h.each(a.pieces,function(a,c){h.isObject(a)||(a={value:a});var d={text:"",index:c};null!=a.label&&(d.text=a.label);if(a.hasOwnProperty("value")){var e=d.value=a.value;d.interval=[e,e];d.close=[1,1]}else{for(var e=d.interval=[],f=d.close=[0,0],m=[1,0,1],n=[-Infinity,Infinity],p=[],q=0;2>q;q++){for(var E=[["gte","gt","min"],["lte","lt","max"]][q],z=0;3>z&&null==e[q];z++)e[q]=a[E[z]],f[q]=m[z],p[q]=2===z;null==e[q]&&(e[q]=n[q])}p[0]&&Infinity===e[1]&&(f[0]=0);p[1]&&-Infinity===e[0]&&(f[1]=0);e[0]>e[1]&&console.warn("Piece "+c+"is illegal: "+e+" lower bound should not greater then uppper bound.");e[0]===e[1]&&f[0]&&f[1]&&(d.value=e[0])}d.visual=l.retrieveVisuals(a);b.push(d)},this);m(a,b);e(b);h.each(b,function(a){var b=a.close,b=[["\x3c","\u2264"][b[1]],["\x3e","\u2265"][b[0]]];a.text=a.text||this.formatValueText(null!=a.value?a.value:a.interval,!1,b)},this)}};q.exports=b},function(q,n,a){n=a(392);var m=a(4),p=a(20),h=a(114),l=a(74),f=a(393);a=n.extend({type:"visualMap.piecewise",doRender:function(){var a=this.group;a.removeAll();var b=this.visualMapModel,d=b.get("textGap"),c=b.textStyleModel,f=c.getFont(),h=c.getTextColor(),k=this._getItemAlign(),n=b.itemSize,c=this._getViewData(),q=c.endsText,x=m.retrieve(b.get("showLabel",!0),!q);q&&this._renderEndsText(a,q[0],n,x,k);m.each(c.viewPieceList,function(c){var l=c.piece,q=new p.Group;q.onclick=m.bind(this._onItemClick,this,l);this._enableHoverLink(q,c.indexInModelPieceList);c=b.getRepresentValue(l);this._createItemSymbol(q,c,[0,0,n[0],n[1]]);x&&(c=this.visualMapModel.getValueState(c),q.add(new p.Text({style:{x:"right"===k?-d:n[0]+d,y:n[1]/2,text:l.text,textVerticalAlign:"middle",textAlign:k,textFont:f,textFill:h,opacity:"outOfRange"===c?.5:1}})));a.add(q)},this);q&&this._renderEndsText(a,q[1],n,x,k);l.box(b.get("orient"),a,b.get("itemGap"));this.renderBackground(a);this.positionGroup(a)},_enableHoverLink:function(a,b){function d(a){var d=this.visualMapModel;d.option.hoverLink&&this.api.dispatchAction({type:a,batch:f.convertDataIndex(d.findTargetDataIndices(b))})}a.on("mouseover",m.bind(d,this,"highlight")).on("mouseout",m.bind(d,this,"downplay"))},_getItemAlign:function(){var a=this.visualMapModel,b=a.option;if("vertical"===b.orient)return f.getItemAlign(a,this.api,a.itemSize);(a=b.align)&&"auto"!==a||(a="left");return a},_renderEndsText:function(a,b,d,c,f){if(b){var h=new p.Group,k=this.visualMapModel.textStyleModel;h.add(new p.Text({style:{x:c?"right"===f?d[0]:0:d[0]/2,y:d[1]/2,textVerticalAlign:"middle",textAlign:c?f:"center",text:b,textFont:k.getFont(),textFill:k.getTextColor()}}));a.add(h)}},_getViewData:function(){var a=this.visualMapModel,b=m.map(a.getPieceList(),function(a,b){return{piece:a,indexInModelPieceList:b}}),d=a.get("text"),c=a.get("orient"),a=a.get("inverse");("horizontal"===c?a:!a)?b.reverse():d&&(d=d.slice().reverse());return{viewPieceList:b,endsText:d}},_createItemSymbol:function(a,b,d){a.add(h.createSymbol(this.getControllerVisual(b,"symbol"),d[0],d[1],d[2],d[3],this.getControllerVisual(b,"color")))},_onItemClick:function(a){var b=this.visualMapModel,d=b.option,c=m.clone(d.selected),f=b.getSelectedMapKey(a);"single"===d.selectedMode?(c[f]=!0,m.each(c,function(a,b){c[b]=b===f})):c[f]=!c[f];this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:c})}});q.exports=a},function(q,n,a){a(399);a(401);a(1).registerPreprocessor(function(a){a.markPoint=a.markPoint||{}})},function(q,n,a){q.exports=a(400).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}})},function(q,n,a){function m(a){p.defaultEmphasis(a.label,["show"])}var p=a(5),h=a(4),l=a(2);n=a(6);var f=n.addCommas,e=n.encodeHTML;a=a(1).extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(a,d,c,e){if("marker"===this.type)throw Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(a,c);this.mergeOption(a,c,e.createdBySelf,!0)},isAnimationEnabled:function(){if(l.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},mergeOption:function(a,d,c,e){var f=this.constructor,k=this.mainType+"Model";c||d.eachSeries(function(a){var b=a.get(this.mainType),c=a[k];b&&b.data?(c?c.mergeOption(b,d,!0):(e&&m(b),h.each(b.data,function(a){a instanceof Array?(m(a[0]),m(a[1])):m(a)}),c=new f(b,this,d),h.extend(c,{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),c.__hostSeries=a),a[k]=c):a[k]=null},this)},formatTooltip:function(a){var d=this.getData(),c=this.getRawValue(a),g=h.isArray(c)?h.map(c,f).join(", "):f(c);a=d.getName(a);d=e(this.name);if(null!=c||a)d+="\x3cbr /\x3e";a&&(d+=e(a),null!=c&&(d+=" : "));null!=c&&(d+=e(g));return d},getData:function(){return this._data},setData:function(a){this._data=a}});h.mixin(a,p.dataFormatMixin);q.exports=a},function(q,n,a){function m(a,b,e){var h=b.coordinateSystem;a.each(function(k){var l=a.getItemModel(k),m,n=f.parsePercent(l.get("x"),e.getWidth()),l=f.parsePercent(l.get("y"),e.getHeight());if(!isNaN(n)&&!isNaN(l))m=[n,l];else if(b.getMarkerPosition)m=b.getMarkerPosition(a.getValues(a.dimensions,k));else if(h){m=a.get(h.dimensions[0],k);var p=a.get(h.dimensions[1],k);m=h.dataToPoint([m,p])}isNaN(n)||(m[0]=n);isNaN(l)||(m[1]=l);a.setItemLayout(k,m)})}function p(a,c,f){var h;h=a?l.map(a&&a.dimensions,function(a){var b=c.getData().getDimensionInfo(c.coordDimToDataDim(a)[0])||{};b.name=a;return b}):[{name:"value",type:"float"}];h=new e(h,f);f=l.map(f.get("data"),l.curry(b.dataTransform,c));a&&(f=l.filter(f,l.curry(b.dataFilter,a)));h.initData(f,null,a?b.dimValueGetter:function(a){return a.value});return h}var h=a(119),l=a(4),f=a(7),e=a(101),b=a(402);a(403).extend({type:"markPoint",updateLayout:function(a,b,e){b.eachSeries(function(a){var b=a.markPointModel;b&&(m(b.getData(),a,e),this.markerGroupMap.get(a.id).updateLayout(b))},this)},renderSeries:function(a,b,e,f){e=a.coordinateSystem;var k=a.id,l=a.getData(),n=this.markerGroupMap,k=n.get(k)||n.set(k,new h),q=p(e,a,b);b.setData(q);m(b.getData(),a,f);q.each(function(a){var d=q.getItemModel(a),e=d.getShallow("symbolSize");"function"===typeof e&&(e=e(b.getRawValue(a),b.getDataParams(a)));q.setItemVisual(a,{symbolSize:e,color:d.get("itemStyle.normal.color")||l.getVisual("color"),symbol:d.getShallow("symbol")})});k.updateData(q);this.group.add(k.group);q.eachItemGraphicEl(function(a){a.traverse(function(a){a.dataModel=b})});k.__keep=!0;k.group.silent=b.get("silent")||a.get("silent")}})},function(q,n,a){function m(a,c,e,f,k,l){var m=[];a=b(c,f,a);a=c.indicesOfNearest(f,a,!0)[0];m[k]=c.get(e,a,!0);m[l]=c.get(f,a,!0);e=-1;do e=Math.max(h.getPrecision(c.get(f,a)),e),c=c.stackedOn;while(c);f=Math.min(e,20);0<=f&&(m[l]=+m[l].toFixed(f));return m}var p=a(4),h=a(7),l=p.indexOf;n=p.curry;var f={min:n(m,"min"),max:n(m,"max"),average:n(m,"average")},e=function(a,b,e,f){var h={};null!=a.valueIndex||null!=a.valueDim?(h.valueDataDim=null!=a.valueIndex?b.getDimension(a.valueIndex):a.valueDim,h.valueAxis=e.getAxis(f.dataDimToCoordDim(h.valueDataDim)),h.baseAxis=e.getOtherAxis(h.valueAxis),h.baseDataDim=f.coordDimToDataDim(h.baseAxis.dim)[0]):(h.baseAxis=f.getBaseAxis(),h.valueAxis=e.getOtherAxis(h.baseAxis),h.baseDataDim=f.coordDimToDataDim(h.baseAxis.dim)[0],h.valueDataDim=f.coordDimToDataDim(h.valueAxis.dim)[0]);return h},b=function(a,b,e){if("average"===e){var f=0,h=0;a.each(b,function(a,b){isNaN(a)||(f+=a,h++)},!0);return f/h}return a.getDataExtent(b,!0)["max"===e?1:0]};q.exports={dataTransform:function(a,c){var g=a.getData(),h=a.coordinateSystem,k;if(k=c)k=c,k=!(!isNaN(parseFloat(k.x))&&!isNaN(parseFloat(k.y)));if(k&&!p.isArray(c.coord)&&h)if(k=h.dimensions,h=e(c,g,h,a),c=p.clone(c),c.type&&f[c.type]&&h.baseAxis&&h.valueAxis){var m=l(k,h.baseAxis.dim);k=l(k,h.valueAxis.dim);c.coord=f[c.type](g,h.baseDataDim,h.valueDataDim,m,k);c.value=c.coord[k]}else{h=[null!=c.xAxis?c.xAxis:c.radiusAxis,null!=c.yAxis?c.yAxis:c.angleAxis];for(m=0;2>m;m++)if(f[h[m]]){var n=a.coordDimToDataDim(k[m])[0];h[m]=b(g,n,h[m])}c.coord=h}return c},dataFilter:function(a,b){var e;if(e=a&&a.containData&&b.coord)e=!(!isNaN(parseFloat(b.x))||!isNaN(parseFloat(b.y)));return e?a.containData(b.coord):!0},dimValueGetter:function(a,b,e,f){return 2>f?a.coord&&a.coord[f]:a.value},getAxisInfo:e,numCalculate:b}},function(q,n,a){var m=a(4);q.exports=a(1).extendComponentView({type:"marker",init:function(){this.markerGroupMap=m.createHashMap()},render:function(a,h,l){a=this.markerGroupMap;a.each(function(a){a.__keep=!1});var f=this.type+"Model";h.eachSeries(function(a){var b=a[f];b&&this.renderSeries(a,b,h,l)},this);a.each(function(a){!a.__keep&&this.group.remove(a.group)},this)},renderSeries:function(){}})},function(q,n,a){a(405);a(406);a(1).registerPreprocessor(function(a){a.markLine=a.markLine||{}})},function(q,n,a){q.exports=a(400).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}})},function(q,n,a){function m(a){return!isNaN(a)&&!isFinite(a)}function p(a,b,c,d){var e=1-a,f=d.dimensions[a];return m(b[e])&&m(c[e])&&b[a]===c[a]&&d.getAxis(f).containData(b[a])}function h(a,b){if("cartesian2d"===a.type){var d=b[0].coord,e=b[1].coord;if(d&&e&&(p(1,d,e,a)||p(0,d,e,a)))return!0}return c.dataFilter(a,b[0])&&c.dataFilter(a,b[1])}function l(a,b,c,e,f){var g=e.coordinateSystem,h=a.getItemModel(b),l=d.parsePercent(h.get("x"),f.getWidth());f=d.parsePercent(h.get("y"),f.getHeight());if(isNaN(l)||isNaN(f)){e.getMarkerPosition?h=e.getMarkerPosition(a.getValues(a.dimensions,b)):(e=g.dimensions,h=a.get(e[0],b),e=a.get(e[1],b),h=g.dataToPoint([h,e]));if("cartesian2d"===g.type){var n=g.getAxis("x"),p=g.getAxis("y");e=g.dimensions;m(a.get(e[0],b))?h[0]=n.toGlobalCoord(n.getExtent()[c?0:1]):m(a.get(e[1],b))&&(h[1]=p.toGlobalCoord(p.getExtent()[c?0:1]))}isNaN(l)||(h[0]=l);isNaN(f)||(h[1]=f)}else h=[l,f];a.setItemLayout(b,h)}function f(a,d,f){var g;g=a?e.map(a&&a.dimensions,function(a){var b=d.getData().getDimensionInfo(d.coordDimToDataDim(a)[0])||{};b.name=a;return b}):[{name:"value",type:"float"}];var l=new b(g,f);g=new b(g,f);var m=new b([],f);f=e.map(f.get("data"),e.curry(r,d,a,f));a&&(f=e.filter(f,e.curry(h,a)));a=a?c.dimValueGetter:function(a){return a.value};l.initData(e.map(f,function(a){return a[0]}),null,a);g.initData(e.map(f,function(a){return a[1]}),null,a);m.initData(e.map(f,function(a){return a[2]}));m.hasItemOption=!0;return{from:l,to:g,line:m}}var e=a(4),b=a(101),d=a(7),c=a(402),g=a(213),r=function(a,b,d,f){var g=a.getData(),h=f.type;if(!e.isArray(f)&&("min"===h||"max"===h||"average"===h||null!=f.xAxis||null!=f.yAxis)){var l;null!=f.yAxis||null!=f.xAxis?(l=null!=f.yAxis?"y":"x",b.getAxis(l),b=e.retrieve(f.yAxis,f.xAxis)):(l=c.getAxisInfo(f,g,b,a).valueDataDim,b=c.numCalculate(g,l,h));l="x"===l?0:1;var m=1-l,g=e.clone(f),n={};g.type=null;g.coord=[];n.coord=[];g.coord[m]=-Infinity;n.coord[m]=Infinity;d=d.get("precision");0<=d&&"number"===typeof b&&(b=+b.toFixed(Math.min(d,20)));g.coord[l]=n.coord[l]=b;f=[g,n,{type:h,valueIndex:f.valueIndex,value:b}]}f=[c.dataTransform(a,f[0]),c.dataTransform(a,f[1]),e.extend({},f[2])];f[2].type=f[2].type||"";e.merge(f[2],f[0]);e.merge(f[2],f[1]);return f};a(403).extend({type:"markLine",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markLineModel;if(b){var d=b.getData(),e=b.__from,f=b.__to;e.each(function(b){l(e,b,!0,a,c);l(f,b,!1,a,c)});d.each(function(a){d.setItemLayout(a,[e.getItemLayout(a),f.getItemLayout(a)])});this.markerGroupMap.get(a.id).updateLayout()}},this)},renderSeries:function(a,b,c,d){function h(b,c,e){var f=b.getItemModel(c);l(b,c,e,a,d);b.setItemVisual(c,{symbolSize:f.get("symbolSize")||F[e?0:1],symbol:f.get("symbol",!0)||H[e?0:1],color:f.get("itemStyle.normal.color")||n.getVisual("color")})}c=a.coordinateSystem;var m=a.id,n=a.getData(),p=this.markerGroupMap,m=p.get(m)||p.set(m,new g);this.group.add(m.group);c=f(c,a,b);var q=c.from,r=c.to,B=c.line;b.__from=q;b.__to=r;b.setData(B);var H=b.get("symbol"),F=b.get("symbolSize");e.isArray(H)||(H=[H,H]);"number"===typeof F&&(F=[F,F]);c.from.each(function(a){h(q,a,!0);h(r,a,!1)});B.each(function(a){var b=B.getItemModel(a).get("lineStyle.normal.color");B.setItemVisual(a,{color:b||q.getItemVisual(a,"color")});B.setItemLayout(a,[q.getItemLayout(a),r.getItemLayout(a)]);B.setItemVisual(a,{fromSymbolSize:q.getItemVisual(a,"symbolSize"),fromSymbol:q.getItemVisual(a,"symbol"),toSymbolSize:r.getItemVisual(a,"symbolSize"),toSymbol:r.getItemVisual(a,"symbol")})});m.updateData(B);c.line.eachItemGraphicEl(function(a,c){a.traverse(function(a){a.dataModel=b})});m.__keep=!0;m.group.silent=b.get("silent")||a.get("silent")}})},function(q,n,a){a(408);a(409);a(1).registerPreprocessor(function(a){a.markArea=a.markArea||{}})},function(q,n,a){q.exports=a(400).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}})},function(q,n,a){function m(a){return!isNaN(a)&&!isFinite(a)}function p(a,b){var c=b.coord[0],d=b.coord[1];if("cartesian2d"===a.type){var e;if(e=c&&d)(e=m(c[0])&&m(d[0]))||(e=m(c[1])&&m(d[1]));if(e)return!0}return g.dataFilter(a,{coord:c,x:b.x0,y:b.y0})||g.dataFilter(a,{coord:d,x:b.x1,y:b.y1})}function h(a,c,d,e,f){var g=e.coordinateSystem,h=a.getItemModel(c),k=b.parsePercent(h.get(d[0]),f.getWidth());f=b.parsePercent(h.get(d[1]),f.getHeight());if(isNaN(k)||isNaN(f)){if(e.getMarkerPosition)e=e.getMarkerPosition(a.getValues(d,c));else{var h=a.get(d[0],c),l=a.get(d[1],c);e=g.dataToPoint([h,l],!0)}if("cartesian2d"===g.type){var n=g.getAxis("x"),g=g.getAxis("y"),h=a.get(d[0],c),l=a.get(d[1],c);m(h)?e[0]=n.toGlobalCoord(n.getExtent()["x0"===d[0]?0:1]):m(l)&&(e[1]=g.toGlobalCoord(g.getExtent()["y0"===d[1]?0:1]))}isNaN(k)||(e[0]=k);isNaN(f)||(e[1]=f)}else e=[k,f];return e}function l(a,b,c){var d,g;g=["x0","y0","x1","y1"];a?(d=f.map(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};c.name=a;return c}),g=new e(f.map(g,function(a,b){return{name:a,type:d[b%2].type}}),c)):(d=[{name:"value",type:"float"}],g=new e(d,c));c=f.map(c.get("data"),f.curry(r,b,a,c));a&&(c=f.filter(c,f.curry(p,a)));g.initData(c,null,a?function(a,b,c,d){return a.coord[Math.floor(d/2)][d%2]}:function(a){return a.value});g.hasItemOption=!0;return g}var f=a(4),e=a(101),b=a(7),d=a(20),c=a(35),g=a(402),r=function(a,b,c,d){b=g.dataTransform(a,d[0]);a=g.dataTransform(a,d[1]);d=f.retrieve;c=b.coord;var e=a.coord;c[0]=d(c[0],-Infinity);c[1]=d(c[1],-Infinity);e[0]=d(e[0],Infinity);e[1]=d(e[1],Infinity);d=f.mergeAll([{},b,a]);d.coord=[b.coord,a.coord];d.x0=b.x;d.y0=b.y;d.x1=a.x;d.y1=a.y;return d},k=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];a(403).extend({type:"markArea",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markAreaModel;if(b){var d=b.getData();d.each(function(b){var e=f.map(k,function(e){return h(d,b,e,a,c)});d.setItemLayout(b,e);d.getItemGraphicEl(b).setShape("points",e)})}},this)},renderSeries:function(a,b,e,g){e=a.coordinateSystem;var m=a.name,n=a.getData(),p=this.markerGroupMap,q=p.get(m)||p.set(m,{group:new d.Group});this.group.add(q.group);q.__keep=!0;var r=l(e,a,b);b.setData(r);r.each(function(b){r.setItemLayout(b,f.map(k,function(c){return h(r,b,c,a,g)}));r.setItemVisual(b,{color:n.getVisual("color")})});r.diff(q.__data).add(function(a){var b=new d.Polygon({shape:{points:r.getItemLayout(a)}});r.setItemGraphicEl(a,b);q.group.add(b)}).update(function(a,c){var e=q.__data.getItemGraphicEl(c);d.updateProps(e,{shape:{points:r.getItemLayout(a)}},b,a);q.group.add(e);r.setItemGraphicEl(a,e)}).remove(function(a){a=q.__data.getItemGraphicEl(a);q.group.remove(a)}).execute();r.eachItemGraphicEl(function(a,e){var g=r.getItemModel(e),h=g.getModel("label.normal"),k=g.getModel("label.emphasis"),l=r.getItemVisual(e,"color");a.useStyle(f.defaults(g.getModel("itemStyle.normal").getItemStyle(),{fill:c.modifyAlpha(l,.4),stroke:l}));a.hoverStyle=g.getModel("itemStyle.normal").getItemStyle();g=r.getName(e)||"";d.setText(a.style,h,l||a.style.fill);a.style.text=h.getShallow("show")?f.retrieve(b.getFormattedLabel(e,"normal"),g):null;d.setText(a.hoverStyle,k,!1);a.hoverStyle.text=k.getShallow("show")?b.getFormattedLabel(e,"emphasis"):null;d.setHoverStyle(a,{});a.dataModel=b});q.__data=r;q.group.silent=b.get("silent")||a.get("silent")}})},function(q,n,a){a(1).registerPreprocessor(a(411));a(412);a(413);a(414);a(416)},function(q,n,a){function m(a){var f=a.type,e={number:"value",time:"time"};e[f]&&(a.axisType=e[f],delete a.type);p(a);a.hasOwnProperty("controlPosition")&&(f=a.controlStyle||(a.controlStyle={}),f.hasOwnProperty("position")||(f.position=a.controlPosition),"none"!==f.position||f.hasOwnProperty("show")||(f.show=!1,delete f.position),delete a.controlPosition);h.each(a.data||[],function(a){h.isObject(a)&&!h.isArray(a)&&(!a.hasOwnProperty("value")&&a.hasOwnProperty("name")&&(a.value=a.name),p(a))})}function p(a){var f=a.itemStyle||(a.itemStyle={}),f=f.emphasis||(f.emphasis={});a=a.label||a.label||{};var e=a.normal||(a.normal={}),b={normal:1,emphasis:1};h.each(a,function(a,c){b[c]||e.hasOwnProperty(c)||(e[c]=a)});f.label&&!a.hasOwnProperty("emphasis")&&(a.emphasis=f.label,delete f.label)}var h=a(4);q.exports=function(a){a=a&&a.timeline;h.isArray(a)||(a=a?[a]:[]);h.each(a,function(a){a&&m(a)})}},function(q,n,a){a(72).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(q,n,a){q=a(1);var m=a(4);q.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(a,h){var l=h.getComponent("timeline");l&&null!=a.currentIndex&&(l.setCurrentIndex(a.currentIndex),!l.get("loop",!0)&&l.isIndexMax()&&l.setPlayState(!1));h.resetOption("timeline");return m.defaults({currentIndex:l.option.currentIndex},a)});q.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,h){var l=h.getComponent("timeline");l&&null!=a.playState&&l.setPlayState(a.playState)})},function(q,n,a){var m=a(415);n=a(4);a=a(5);m=m.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,color:"#304654"},emphasis:{show:!0,color:"#c23531"}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});n.mixin(m,a.dataFormatMixin);q.exports=m},function(q,n,a){n=a(72);var m=a(101),p=a(4),h=a(5),l=n.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2E3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{color:"#000"},emphasis:{}},data:[]},init:function(a,e,b){this.mergeDefaultAndTheme(a,b);this._initData()},mergeOption:function(a){l.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(a){null==a&&(a=this.option.currentIndex);var e=this._data.count();this.option.loop?a=(a%e+e)%e:(a>=e&&(a=e-1),0>a&&(a=0));this.option.currentIndex=a},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(a){this.option.autoPlay=!!a},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var a=this.option,e=a.data||[],a=a.axisType,b=this._names=[];if("category"===a){var d=[];p.each(e,function(a,e){var f=h.getDataItemValue(a),k;p.isObject(a)?(k=p.clone(a),k.value=e):k=e;d.push(k);p.isString(f)||null!=f&&!isNaN(f)||(f="");b.push(f+"")});e=d}(this._data=new m([{name:"value",type:{category:"ordinal",time:"time"}[a]||"number"}],this)).initData(e,b)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});q.exports=l},function(q,n,a){function m(a,c,d,e,f,g){var k=c.get("color");f?(f.setColor(k),d.add(f),g&&g.onUpdate(f)):(f=a.get("symbol"),f=b.createSymbol(f,-1,-1,2,2,k),f.setStyle("strokeNoScale",!0),d.add(f),g&&g.onCreate(f));c=c.getItemStyle(["color","symbol","symbolSize"]);f.setStyle(c);e=h.merge({rectHover:!0,z2:100},e,!0);c=a.get("symbolSize");c=c instanceof Array?c.slice():[+c,+c];c[0]/=2;c[1]/=2;e.scale=c;if(d=a.get("symbolOffset"))g=e.position=e.position||[0,0],g[0]+=r.parsePercent(d[0],c[0]),g[1]+=r.parsePercent(d[1],c[1]);a=a.get("symbolRotate");e.rotation=(a||0)*Math.PI/180||0;f.attr(e);f.updateTransform();return f}function p(a,b,c,d,e){if(!a.dragging){var f=d.getModel("checkpointStyle");b=c.dataToCoord(d.getData().get(["value"],b));e||!f.get("animation",!0)?a.attr({position:[b,0]}):(a.stopAnimation(!0),a.animateTo({position:[b,0]},f.get("animationDuration",!0),f.get("animationEasing",!0)))}}var h=a(4),l=a(20),f=a(74);n=a(417);var e=a(418),b=a(114),d=a(104),c=a(9),g=a(11),r=a(7),k=a(6).encodeHTML,t=h.bind,A=h.each,x=Math.PI;q.exports=n.extend({type:"timeline.slider",init:function(a,b){this.api=b},render:function(a,b,c,d){this.model=a;this.api=c;this.ecModel=b;this.group.removeAll();if(a.get("show",!0)){var e=this._layout(a,c),f=this._createGroup("mainGroup");b=this._createGroup("labelGroup");var g=this._axis=this._createAxis(e,a);a.formatTooltip=function(a){return k(g.scale.getLabel(a))};A(["AxisLine","AxisTick","Control","CurrentPointer"],function(b){this["_render"+b](e,f,g,a)},this);this._renderAxisLabel(e,b,g,a);this._position(e,a)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(a,b){var c=a.get("label.normal.position"),d=a.get("orient"),e;e=f.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},a.get("padding"));null==c||"auto"===c?c="horizontal"===d?e.y+e.height/2<b.getHeight()/2?"-":"+":e.x+e.width/2<b.getWidth()/2?"+":"-":isNaN(c)&&(c={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[d][c]);var g={horizontal:"center",vertical:0<=c||"+"===c?"left":"right"},h={horizontal:0<=c||"+"===c?"top":"bottom",vertical:"middle"},k={horizontal:0,vertical:x/2},l="vertical"===d?e.height:e.width,m=a.getModel("controlStyle"),n=m.get("show"),p=n?m.get("itemSize"):0,q=n?m.get("itemGap"):0,r=p+q,t=a.get("label.normal.rotate")||0,t=t*x/180,A,K,G,R=m.get("position",!0),P=(n=m.get("show",!0))&&m.get("showPlayBtn",!0),Q=n&&m.get("showPrevBtn",!0),m=n&&m.get("showNextBtn",!0),n=0,M=l;"left"===R||"bottom"===R?(P&&(A=[0,0],n+=r),Q&&(K=[n,0],n+=r)):(P&&(A=[M-p,0],M-=r),Q&&(K=[0,0],n+=r));m&&(G=[M-p,0],M-=r);r=[n,M];a.get("inverse")&&r.reverse();return{viewRect:e,mainLength:l,orient:d,rotation:k[d],labelRotation:t,labelPosOpt:c,labelAlign:a.get("label.normal.align")||g[d],labelBaseline:a.get("label.normal.verticalAlign")||a.get("label.normal.baseline")||h[d],playPosition:A,prevBtnPosition:K,nextBtnPosition:G,axisExtent:r,controlSize:p,controlGap:q}},_position:function(a,b){function c(a){var b=a.position;a.origin=[p[0][0]-b[0],p[1][0]-b[1]]}function d(a){return[[a.x,a.x+a.width],[a.y,a.y+a.height]]}function e(a,b,c,d,f){a[d]+=c[d][f]-b[d][f]}var f=this._mainGroup,h=this._labelGroup,k=a.viewRect;if("vertical"===a.orient){var l=g.create(),m=k.x,n=k.y+k.height;g.translate(l,l,[-m,-n]);g.rotate(l,l,-x/2);g.translate(l,l,[m,n]);k=k.clone();k.applyTransform(l)}var p=d(k),k=d(f.getBoundingRect()),l=d(h.getBoundingRect()),m=f.position,n=h.position;n[0]=m[0]=p[0][0];var q=a.labelPosOpt;isNaN(q)?(q="+"===q?0:1,e(m,k,p,1,q),e(n,l,p,1,1-q)):(e(m,k,p,1,0<=q?0:1),n[1]=m[1]+q);f.attr("position",m);h.attr("position",n);f.rotation=h.rotation=a.rotation;c(f);c(h)},_createAxis:function(a,b){var c=b.getData(),f=b.get("axisType"),g=d.createScaleByModel(b,f),h=c.getDataExtent("value");g.setExtent(h[0],h[1]);this._customizeScale(g,c);g.niceTicks();c=new e("value",g,a.axisExtent,f);c.model=b;return c},_customizeScale:function(a,b){a.getTicks=function(){return b.mapArray(["value"],function(a){return a})};a.getTicksLabels=function(){return h.map(this.getTicks(),a.getLabel,a)}},_createGroup:function(a){a=this["_"+a]=new l.Group;this.group.add(a);return a},_renderAxisLine:function(a,b,c,d){a=c.getExtent();d.get("lineStyle.show")&&b.add(new l.Line({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:h.extend({lineCap:"round"},d.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(a,b,c,d){var e=d.getData();a=c.scale.getTicks();A(a,function(a,f){var g=c.dataToCoord(a),h=e.getItemModel(f),k=h.getModel("itemStyle.normal"),n=h.getModel("itemStyle.emphasis"),g={position:[g,0],onclick:t(this._changeTimeline,this,f)},k=m(h,k,b,g);l.setHoverStyle(k,n.getItemStyle());h.get("tooltip")?(k.dataIndex=f,k.dataModel=d):k.dataIndex=k.dataModel=null},this)},_renderAxisLabel:function(a,b,c,e){var f=e.getModel("label.normal");if(f.get("show")){var g=e.getData();e=c.scale.getTicks();var h=d.getFormattedLabels(c,f.get("formatter")),k=c.getLabelInterval();A(e,function(d,e){if(!c.isLabelIgnored(e,k)){var f=g.getItemModel(e),m=f.getModel("label.normal"),f=f.getModel("label.emphasis"),n=c.dataToCoord(d),n=new l.Text({position:[n,0],rotation:a.labelRotation-a.rotation,onclick:t(this._changeTimeline,this,e),silent:!1});l.setTextStyle(n.style,m,{text:h[e],textAlign:a.labelAlign,textVerticalAlign:a.labelBaseline});b.add(n);l.setHoverStyle(n,l.setTextStyle({},f))}},this)}},_renderControl:function(a,b,d,e){function f(a,d,q,r){if(a){var t=p;a={position:a,origin:[g/2,0],rotation:r?-k:0,rectHover:!0,style:m,onclick:q};d=l.makePath(e.get(d).replace(/^path:\/\//,""),h.clone(a||{}),new c(t[0],t[1],t[2],t[3]),"center");b.add(d);l.setHoverStyle(d,n)}}var g=a.controlSize,k=a.rotation,m=e.getModel("controlStyle.normal").getItemStyle(),n=e.getModel("controlStyle.emphasis").getItemStyle(),p=[0,-g/2,g,g];d=e.getPlayState();var q=e.get("inverse",!0);f(a.nextBtnPosition,"controlStyle.nextIcon",t(this._changeTimeline,this,q?"-":"+"));f(a.prevBtnPosition,"controlStyle.prevIcon",t(this._changeTimeline,this,q?"+":"-"));f(a.playPosition,"controlStyle."+(d?"stopIcon":"playIcon"),t(this._handlePlayClick,this,!d),!0)},_renderCurrentPointer:function(a,b,c,d){a=d.getData();var e=d.getCurrentIndex();a=a.getItemModel(e).getModel("checkpointStyle");var f=this;this._currentPointer=m(a,a,this._mainGroup,{},this._currentPointer,{onCreate:function(a){a.draggable=!0;a.drift=t(f._handlePointerDrag,f);a.ondragend=t(f._handlePointerDragend,f);p(a,e,c,d,!0)},onUpdate:function(a){p(a,e,c,d)}})},_handlePlayClick:function(a){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},_handlePointerDrag:function(a,b,c){this._clearTimer();this._pointerChangeTimeline([c.offsetX,c.offsetY])},_handlePointerDragend:function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},_pointerChangeTimeline:function(a,b){var c=this._toAxisCoord(a)[0],d=r.asc(this._axis.getExtent().slice());c>d[1]&&(c=d[1]);c<d[0]&&(c=d[0]);this._currentPointer.position[0]=c;this._currentPointer.dirty();c=this._findNearestTick(c);d=this.model;(b||c!==d.getCurrentIndex()&&d.get("realtime"))&&this._changeTimeline(c)},_doPlayStop:function(){function a(){var b=this.model;this._changeTimeline(b.getCurrentIndex()+(b.get("rewind",!0)?-1:1))}this._clearTimer();this.model.getPlayState()&&(this._timer=setTimeout(t(a,this),this.model.get("playInterval")))},_toAxisCoord:function(a){var b=this._mainGroup.getLocalTransform();return l.applyTransform(a,b,!0)},_findNearestTick:function(a){var b=this.model.getData(),c=Infinity,d,e=this._axis;b.each(["value"],function(b,f){var g=e.dataToCoord(b),g=Math.abs(g-a);g<c&&(c=g,d=f)});return d},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1);this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})}})},function(q,n,a){n=a(82);q.exports=n.extend({type:"timeline"})},function(q,n,a){var m=a(4),p=a(103),h=a(104);n=function(a,f,e,b){p.call(this,a,f,e);this.type=b||"value";this.model=null};n.prototype={constructor:n,getLabelInterval:function(){var a=this.model,f=a.getModel("label.normal"),e=f.get("interval");if(null!=e&&"auto"!=e)return e;e=this._autoLabelInterval;e||(e=this._autoLabelInterval=h.getAxisLabelInterval(m.map(this.scale.getTicks(),this.dataToCoord,this),h.getFormattedLabels(this,f.get("formatter")),f.getFont(),"horizontal"===a.get("orient")));return e},isLabelIgnored:function(a){if("category"===this.type){var f=this.getLabelInterval();return"function"===typeof f&&!f(a,this.scale.getLabel(a))||a%(f+1)}}};m.inherits(n,p);q.exports=n},function(q,n,a){a(420);a(421);a(422);a(423);a(424);a(425);a(430)},function(q,n,a){var m=a(364),p=a(4),h=a(1).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(a){h.superApply(this,"mergeDefaultAndTheme",arguments);p.each(this.option.feature,function(a,e){var b=m.get(e);b&&p.merge(a,b.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});q.exports=h},function(q,n,a){(function(m){var n=a(364),h=a(4),l=a(20),f=a(14),e=a(102),b=a(329),d=a(8);q.exports=a(1).extendComponentView({type:"toolbox",render:function(a,g,m,k){function q(b,d){var e=y[b],h=y[d],l=new f(u[e],a,a.ecModel),t;if(e&&!h){if(0===e.indexOf("my"))t={model:l,onclick:l.option.onclick,featureName:e};else{t=n.get(e);if(!t)return;t=new t(l,g,m)}v[e]=t}else{t=v[h];if(!t)return;t.model=l;t.ecModel=g;t.api=m}!e&&h?t.dispose&&t.dispose(g,m):!l.get("show")||t.unusable?t.remove&&t.remove(g,m):(A(l,t,e),l.setIconStatus=function(a,b){var c=this.option,d=this.iconPaths;c.iconStatus=c.iconStatus||{};c.iconStatus[a]=b;d[a]&&d[a].trigger(b)},t.render&&t.render(l,g,m,k))}function A(b,d,e){var f=b.getModel("iconStyle"),k=d.getIcons?d.getIcons():b.get("icon"),n=b.get("title")||{};if("string"===typeof k){var p=k,q=n,k={},n={};k[e]=p;n[e]=q}var t=b.iconPaths={};h.each(k,function(e,k){var p=l.createIcon(e,{},{x:-w/2,y:-w/2,width:w,height:w});p.setStyle(f.getModel("normal").getItemStyle());p.hoverStyle=f.getModel("emphasis").getItemStyle();l.setHoverStyle(p);a.get("showTitle")&&(p.__title=n[k],p.on("mouseover",function(){var a=f.getModel("emphasis").getItemStyle();p.setStyle({text:n[k],textPosition:a.textPosition||"bottom",textFill:a.fill||a.stroke||"#000",textAlign:a.textAlign||"center"})}).on("mouseout",function(){p.setStyle({textFill:null})}));p.trigger(b.get("iconStatus."+k)||"normal");x.add(p);p.on("click",h.bind(d.onclick,d,g,m,k));t[k]=p})}var x=this.group;x.removeAll();if(a.get("show")){var w=+a.get("itemSize"),u=a.get("feature")||{},v=this._features||(this._features={}),y=[];h.each(u,function(a,b){y.push(b)});(new e(this._featureNames||[],y)).add(q).update(q).remove(h.curry(q,null)).execute();this._featureNames=y;b.layout(x,a,m);x.add(b.makeBackground(x.getBoundingRect(),a));x.eachChild(function(a){var b=a.__title,c=a.hoverStyle;if(c&&b){var b=d.getBoundingRect(b,d.makeFont(c)),e=a.position[0]+x.position[0],f=!1;a.position[1]+x.position[1]+w+b.height>m.getHeight()&&(c.textPosition="top",f=!0);a=f?-5-b.height:w+8;e+b.width/2>m.getWidth()?(c.textPosition=["100%",a],c.textAlign="right"):0>e-b.width/2&&(c.textPosition=[0,a],c.textAlign="left")}})}},updateView:function(a,b,d,e){h.each(this._features,function(a){a.updateView&&a.updateView(a.model,b,d,e)})},updateLayout:function(a,b,d,e){h.each(this._features,function(a){a.updateLayout&&a.updateLayout(a.model,b,d,e)})},remove:function(a,b){h.each(this._features,function(d){d.remove&&d.remove(a,b)});this.group.removeAll()},dispose:function(a,b){h.each(this._features,function(d){d.dispose&&d.dispose(a,b)})}})}).call(n,a(313))},function(q,n,a){function m(a){this.model=a}var p=a(2);m.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]};m.prototype.unusable=!p.canvasSupported;m.prototype.onclick=function(a,l){var f=this.model,e=f.get("name")||a.get("title.0.text")||"echarts",b=document.createElement("a"),d=f.get("type",!0)||"png";b.download=e+"."+d;b.target="_blank";e=l.getConnectedDataURL({type:d,backgroundColor:f.get("backgroundColor",!0)||a.get("backgroundColor")||"#fff",excludeComponents:f.get("excludeComponents"),pixelRatio:f.get("pixelRatio")});b.href=e;"function"!==typeof MouseEvent||p.browser.ie||p.browser.edge?(b=f.get("lang"),b='\x3cbody style\x3d"margin:0;"\x3e\x3cimg src\x3d"'+e+'" style\x3d"max-width:100%;" title\x3d"'+(b&&b[0]||"")+'" /\x3e\x3c/body\x3e',window.open().document.write(b)):(f=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),b.dispatchEvent(f))};a(364).register("saveAsImage",m);q.exports=m},function(q,n,a){function m(a){this.model=a}var p=a(4);m.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"},option:{},seriesIndex:{}};n=m.prototype;n.getIcons=function(){var a=this.model,e=a.get("icon"),b={};p.each(a.get("type"),function(a){e[a]&&(b[a]=e[a])});return b};var h={line:function(a,e,b,d){if("bar"===a)return p.merge({id:e,type:"line",data:b.get("data"),stack:b.get("stack"),markPoint:b.get("markPoint"),markLine:b.get("markLine")},d.get("option.line")||{},!0)},bar:function(a,e,b,d){if("line"===a)return p.merge({id:e,type:"bar",data:b.get("data"),stack:b.get("stack"),markPoint:b.get("markPoint"),markLine:b.get("markLine")},d.get("option.bar")||{},!0)},stack:function(a,e,b,d){if("line"===a||"bar"===a)return p.merge({id:e,stack:"__ec_magicType_stack__"},d.get("option.stack")||{},!0)},tiled:function(a,e,b,d){if("line"===a||"bar"===a)return p.merge({id:e,stack:""},d.get("option.tiled")||{},!0)}},l=[["line","bar"],["stack","tiled"]];n.onclick=function(a,e,b){var d=this.model,c=d.get("seriesIndex."+b);if(h[b]){var g={series:[]};p.each(l,function(a){0<=p.indexOf(a,b)&&p.each(a,function(a){d.setIconStatus(a,"normal")})});d.setIconStatus(b,"emphasis");a.eachComponent({mainType:"series",query:null==c?null:{seriesIndex:c}},function(c){var e=h[b](c.subType,c.id,c,d);e&&(p.defaults(e,c.option),g.series.push(e));if((e=c.coordinateSystem)&&"cartesian2d"===e.type&&("line"===b||"bar"===b)&&(e=e.getAxesByScale("ordinal")[0])){e=e.dim+"Axis";c=a.queryComponents({mainType:e,index:c.get(name+"Index"),id:c.get(name+"Id")})[0].componentIndex;g[e]=g[e]||[];for(var l=0;l<=c;l++)g[e][c]=g[e][c]||{};g[e][c].boundaryGap="bar"===b?!0:!1}});e.dispatchAction({type:"changeMagicType",currentType:b,newOption:g})}};a(1).registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,e){e.mergeOption(a.newOption)});a(364).register("magicType",m);q.exports=m},function(q,n,a){function m(a){var b={},c=[],d=[];a.eachRawSeries(function(a){var e=a.coordinateSystem;if(!e||"cartesian2d"!==e.type&&"polar"!==e.type)c.push(a);else{var f=e.getBaseAxis();if("category"===f.type){var g=f.dim+"_"+f.index;b[g]||(b[g]={categoryAxis:f,valueAxis:e.getOtherAxis(f),series:[]},d.push({axisDim:f.dim,axisIndex:f.index}));b[g].series.push(a)}else c.push(a)}});return{seriesGroupByCategoryAxis:b,other:c,meta:d}}function p(a){var b=[];g.each(a,function(a,c){var d=a.categoryAxis,e=a.valueAxis.dim,f=[" "].concat(g.map(a.series,function(a){return a.name})),h=[d.model.getCategories()];g.each(a.series,function(a){h.push(a.getRawData().mapArray(e,function(a){return a}))});d=[f.join("\t")];for(f=0;f<h[0].length;f++){for(var k=[],l=0;l<h.length;l++)k.push(h[l][f]);d.push(k.join("\t"))}b.push(d.join("\n"))});return b.join("\n\n"+k+"\n\n")}function h(a){return g.map(a,function(a){var b=a.getRawData(),c=[a.name],d=[];b.each(b.dimensions,function(){for(var a=arguments.length,e=b.getName(arguments[a-1]),f=0;f<a-1;f++)d[f]=arguments[f];c.push((e?e+"\t":"")+d.join("\t"))});return c.join("\n")}).join("\n\n"+k+"\n\n")}function l(a){a=m(a);return{value:g.filter([p(a.seriesGroupByCategoryAxis),h(a.other)],function(a){return a.replace(/[\n\t\s]/g,"")}).join("\n\n"+k+"\n\n"),meta:a.meta}}function f(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function e(a){a=a.split(/\n+/g);for(var b=f(a.shift()).split(t),c=[],b=g.map(b,function(a){return{name:a,data:[]}}),d=0;d<a.length;d++){var e=f(a[d]).split(t);c.push(e.shift());for(var h=0;h<e.length;h++)b[h]&&(b[h].data[d]=e[h])}return{series:b,categories:c}}function b(a,b){var c=a.split(new RegExp("\n*"+k+"\n*","g")),d={series:[]};g.each(c,function(a,c){var g;g=0<=a.slice(0,a.indexOf("\n")).indexOf("\t")?!0:void 0;if(g){g=e(a);var h=b[c],k=h.axisDim+"Axis";h&&(d[k]=d[k]||[],d[k][h.axisIndex]={data:g.categories},d.series=d.series.concat(g.series))}else{g=a.split(/\n+/g);for(var h=f(g.shift()),k=[],l=0;l<g.length;l++){var m=f(g[l]).split(t),n="",p=!1;isNaN(m[0])?(p=!0,n=m[0],m=m.slice(1),k[l]={name:n,value:[]},n=k[l].value):n=k[l]=[];for(var q=0;q<m.length;q++)n.push(+m[q]);1===n.length&&(p?k[l].value=n[0]:k[l]=n[0])}g={name:h,data:k};d.series.push(g)}});return d}function d(a){this._dom=null;this.model=a}function c(a,b){return g.map(a,function(a,c){var d=b&&b[c];return g.isObject(d)&&!g.isArray(d)?(g.isObject(a)&&!g.isArray(a)&&(a=a.value),g.defaults({value:a},d)):a})}var g=a(4),r=a(91),k=Array(60).join("-"),t=RegExp("[\t]+","g");d.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};d.prototype.onclick=function(a,c){function d(){e.removeChild(h);N._dom=null}var e=c.getDom(),f=this.model;this._dom&&e.removeChild(this._dom);var h=document.createElement("div");h.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";h.style.backgroundColor=f.get("backgroundColor")||"#fff";var k=document.createElement("h4"),m=f.get("lang")||[];k.innerHTML=m[0]||f.get("title");k.style.cssText="margin: 10px 20px;";k.style.color=f.get("textColor");var n=document.createElement("div"),p=document.createElement("textarea");n.style.cssText="display:block;width:100%;overflow:auto;";var q=f.get("optionToContent"),t=f.get("contentToOption"),C=l(a);"function"===typeof q?(q=q(c.getOption()),"string"===typeof q?n.innerHTML=q:g.isDom(q)&&n.appendChild(q)):(n.appendChild(p),p.readOnly=f.get("readOnly"),p.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",p.style.color=f.get("textColor"),p.style.borderColor=f.get("textareaBorderColor"),p.style.backgroundColor=f.get("textareaColor"),p.value=C.value);var I=C.meta,C=document.createElement("div");C.style.cssText="position:absolute;bottom:0;left:0;right:0;";var q="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",J=document.createElement("div"),L=document.createElement("div"),q=q+(";background-color:"+f.get("buttonColor")),q=q+(";color:"+f.get("buttonTextColor")),N=this;r.addEventListener(J,"click",d);r.addEventListener(L,"click",function(){var a;try{a="function"===typeof t?t(n,c.getOption()):b(p.value,I)}catch(e){throw d(),Error("Data view format error "+e);}a&&c.dispatchAction({type:"changeDataView",newOption:a});d()});J.innerHTML=m[1];L.innerHTML=m[2];L.style.cssText=q;J.style.cssText=q;!f.get("readOnly")&&C.appendChild(L);C.appendChild(J);r.addEventListener(p,"keydown",function(a){if(9===(a.keyCode||a.which)){var b=this.value,c=this.selectionStart,d=this.selectionEnd;this.value=b.substring(0,c)+"\t"+b.substring(d);this.selectionStart=this.selectionEnd=c+1;r.stop(a)}});h.appendChild(k);h.appendChild(n);h.appendChild(C);n.style.height=e.clientHeight-80+"px";e.appendChild(h);this._dom=h};d.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)};d.prototype.dispose=function(a,b){this.remove(a,b)};a(364).register("dataView",d);a(1).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,b){var d=[];g.each(a.newOption.series,function(a){var e=b.getSeriesByName(a.name)[0];e?(e=e.get("data"),d.push({name:a.name,data:c(a.data,e)})):d.push(g.extend({type:"scatter"},a))});b.mergeOption(g.defaults({series:d},a.newOption))});q.exports=d},function(q,n,a){function m(a,b,c){(this._brushController=new f(c.getZr())).on("brush",l.bind(this._onBrush,this)).mount()}function p(a){var b={};l.each(["xAxisIndex","yAxisIndex"],function(c){b[c]=a[c];null==b[c]&&(b[c]="all");!1!==b[c]&&"none"!==b[c]||(b[c]=[])});return b}function h(a,b,c,d,f){var g=c._isZoomActive;d&&"takeGlobalCursor"===d.type&&(g="dataZoomSelect"===d.key?d.dataZoomSelectActive:!1);c._isZoomActive=g;a.setIconStatus("zoom",g?"emphasis":"normal");a=new e(p(a.option),b,{include:["grid"]});c._brushController.setPanels(a.makePanelOpts(f,function(a){return a.xAxisDeclared&&!a.yAxisDeclared?"lineX":!a.xAxisDeclared&&a.yAxisDeclared?"lineY":"rect"})).enableBrush(g?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}var l=a(4),f=a(248),e=a(359),b=a(426),d=a(242),c=l.each;a(427);m.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}};n=m.prototype;n.render=function(a,c,d,e){this.model=a;this.ecModel=c;this.api=d;h(a,c,this,e,d);a.setIconStatus("back",1<b.count(c)?"emphasis":"normal")};n.onclick=function(a,b,c){g[c].call(this)};n.remove=function(a,b){this._brushController.unmount()};n.dispose=function(a,b){this._brushController.dispose()};var g={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(b.pop(this.ecModel))}};n._onBrush=function(a,c){function f(a,b,c){b=b.getAxis(a);var e=b.model;a=g(a,e,l);e=a.findRepresentativeAxisProxy(e).getMinMaxSpan();if(null!=e.minValueSpan||null!=e.maxValueSpan)c=d(0,c.slice(),b.scale.getExtent(),0,e.minValueSpan,e.maxValueSpan);a&&(h[a.id]={dataZoomId:a.id,startValue:c[0],endValue:c[1]})}function g(a,b,c){var d;c.eachComponent({mainType:"dataZoom",subType:"select"},function(c){c.getAxisModel(a,b.componentIndex)&&(d=c)});return d}if(c.isEnd&&a.length){var h={},l=this.ecModel;this._brushController.updateCovers([]);(new e(p(this.model.option),l,{include:["grid"]})).matchOutputRanges(a,l,function(a,b,c){"cartesian2d"===c.type&&(a=a.brushType,"rect"===a?(f("x",c,b[0]),f("y",c,b[1])):f({lineX:"x",lineY:"y"}[a],c,b))});b.push(l,h);this._dispatchZoomAction(h)}};n._dispatchZoomAction=function(a){var b=[];c(a,function(a,c){b.push(l.clone(a))});b.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:b})};a(364).register("dataZoom",m);a(1).registerPreprocessor(function(a){function b(a,c){if(c){var f=a+"Index",g=c[f];null==g||"all"==g||l.isArray(g)||(g=!1===g||"none"===g?[]:[g]);d(a,function(b,c){if(null==g||"all"==g||-1!==l.indexOf(g,c)){var d={type:"select",$fromToolbox:!0,id:"\x00_ec_\x00toolbox-dataZoom_"+a+c};d[f]=c;e.push(d)}})}}function d(b,e){var f=a[b];l.isArray(f)||(f=f?[f]:[]);c(f,e)}if(a){var e=a.dataZoom||(a.dataZoom=[]);l.isArray(e)||(a.dataZoom=e=[e]);var f=a.toolbox;f&&(l.isArray(f)&&(f=f[0]),f&&f.feature&&(f=f.feature.dataZoom,b("xAxis",f),b("yAxis",f)))}});q.exports=m},function(q,n,a){function m(a){var l=a["\x00_ec_hist_store"];l||(l=a["\x00_ec_hist_store"]=[{}]);return l}var p=a(4).each;q.exports={push:function(a,l){var f=m(a);p(l,function(e,b){for(var d=f.length-1;0<=d&&!f[d][b];d--);0>d&&(d=a.queryComponents({mainType:"dataZoom",subType:"select",id:b})[0])&&(d=d.getPercentRange(),f[0][b]={dataZoomId:b,start:d[0],end:d[1]})});f.push(l)},pop:function(a){var l=m(a);a=l[l.length-1];1<l.length&&l.pop();var f={};p(a,function(a,b){for(var d=l.length-1;0<=d;d--)if(a=l[d][b]){f[b]=a;break}});return f},clear:function(a){a["\x00_ec_hist_store"]=null},count:function(a){return m(a).length}}},function(q,n,a){a(371);a(372);a(375);a(428);a(429);a(381);a(382)},function(q,n,a){n=a(372);q.exports=n.extend({type:"dataZoom.select"})},function(q,n,a){q.exports=a(375).extend({type:"dataZoom.select"})},function(q,n,a){function m(a){this.model=a}var p=a(426);m.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"\u8fd8\u539f"};m.prototype.onclick=function(a,l,f){p.clear(a);l.dispatchAction({type:"restore",from:this.uid})};a(364).register("restore",m);a(1).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,l){l.resetOption("recreate")});q.exports=m},function(q,n,a){a(432);a(85).registerPainter("vml",a(434))},function(q,n,a){if(!a(2).canvasSupported){var m=a(10),p=a(9),h=a(39).CMD,l=a(35),f=a(8),e=a(25);n=a(38);var b=a(23),d=a(52);q=a(53);var c=a(22),g=a(39),r=a(69),k=a(433),t=Math.round,A=Math.sqrt,x=Math.abs,w=Math.cos,u=Math.sin,v=Math.max,y=m.applyTransform,E=function(a){a.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";a.coordsize="21600,21600";a.coordorigin="0,0"},z=function(a,b){b&&a&&b.parentNode!==a&&a.appendChild(b)},B=function(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)},H=function(a,b,c){return 1E5*(parseFloat(a)||0)+1E3*(parseFloat(b)||0)+c},F=function(a,b){return"string"===typeof a?0<=a.lastIndexOf("%")?parseFloat(a)/100*b:parseFloat(a):a},D=function(a,b,c){b=l.parse(b);c=+c;isNaN(c)&&(c=1);b&&(a.color="rgb("+[b[0],b[1],b[2]].join()+")",a.opacity=c*b[3])},C=function(a){a=l.parse(a);return["rgb("+[a[0],a[1],a[2]].join()+")",a[3]]},I=function(a,b,c){var d=b.fill;if(null!=d)if(d instanceof r){var e,f=0,g=[0,0],h=0,k=1,l=c.getBoundingRect(),m=l.width,n=l.height;if("linear"===d.type){e="gradient";var p=c.transform,q=[d.x*m,d.y*n],f=[d.x2*m,d.y2*n];p&&(y(q,q,p),y(f,f,p));f=180*Math.atan2(f[0]-q[0],f[1]-q[1])/Math.PI;0>f&&(f+=360);1E-6>f&&(f=0)}else e="gradientradial",q=[d.x*m,d.y*n],p=c.transform,h=c.scale,k=m,g=[(q[0]-l.x)/k,(q[1]-l.y)/n],p&&y(q,q,p),k/=21600*h[0],n/=21600*h[1],k=v(k,n),h=0/k,k=2*d.r/k-h;q=d.colorStops.slice();q.sort(function(a,b){return a.offset-b.offset});l=q.length;p=[];d=[];for(n=0;n<l;n++)m=q[n],c=C(m.color),d.push(m.offset*k+h+" "+c[0]),0!==n&&n!==l-1||p.push(c);2<=l&&(h=p[0][0],k=p[1][0],q=p[0][1]*b.opacity,b=p[1][1]*b.opacity,a.type=e,a.method="none",a.focus="100%",a.angle=f,a.color=h,a.color2=k,a.colors=d.join(","),a.opacity=b,a.opacity2=q);"radial"===e&&(a.focusposition=g.join(","))}else D(a,d,b.opacity)},J=function(a,b,c,d){var e="fill"==b,f=a.getElementsByTagName(b)[0];null!=c[b]&&"none"!==c[b]&&(e||!e&&c.lineWidth)?(a[e?"filled":"stroked"]="true",c[b]instanceof r&&B(a,f),f||(f=k.createNode(b)),e?I(f,c,d):(b=f,null!=c.lineDash&&(b.dashstyle=c.lineDash.join(" ")),null==c.stroke||c.stroke instanceof r||D(b,c.stroke,c.opacity)),z(a,f)):(a[e?"filled":"stroked"]="false",B(a,f))},L=[[],[],[]];c.prototype.brushVML=function(a){var b=this.style,c=this._vmlEl;c||(c=k.createNode("shape"),E(c),this._vmlEl=c);J(c,"fill",b,this);J(c,"stroke",b,this);var d=this.transform,e=null!=d,f=c.getElementsByTagName("stroke")[0];if(f){var l=b.lineWidth;e&&!b.strokeNoScale&&(l*=A(x(d[0]*d[3]-d[1]*d[2])));f.weight=l+"px"}e=this.path||(this.path=new g);this.__dirtyPath&&(e.beginPath(),this.buildPath(e,this.shape),e.toStatic(),this.__dirtyPath=!1);var d=c,e=e.data,f=this.transform,l=h.M,m=h.C,n=h.L,p=h.A,q=h.Q,r=[],v,B,D,C,F,I;for(C=0;C<e.length;){D=e[C++];B="";v=0;switch(D){case l:B=" m ";v=1;F=e[C++];I=e[C++];L[0][0]=F;L[0][1]=I;break;case n:B=" l ";v=1;F=e[C++];I=e[C++];L[0][0]=F;L[0][1]=I;break;case q:case m:B=" c ";v=3;var G=e[C++],K=e[C++],N=e[C++],O=e[C++],R;D===q?(D=N,R=O,N=(N+2*G)/3,O=(O+2*K)/3,G=(F+2*G)/3,K=(I+2*K)/3):(D=e[C++],R=e[C++]);L[0][0]=G;L[0][1]=K;L[1][0]=N;L[1][1]=O;L[2][0]=D;L[2][1]=R;F=D;I=R;break;case p:I=F=0;O=N=1;G=0;f&&(F=f[4],I=f[5],N=A(f[0]*f[0]+f[1]*f[1]),O=A(f[2]*f[2]+f[3]*f[3]),G=Math.atan2(-f[1]/O,f[0]/N));D=e[C++];R=e[C++];var ga=e[C++],ha=e[C++],ia=e[C++]+G,la=e[C++]+ia+G;C++;var ea=e[C++],fa=D+w(ia)*ga,ja=R+u(ia)*ha,G=D+w(la)*ga,K=R+u(la)*ha,oa=ea?" wa ":" at ";1E-4>Math.abs(fa-G)&&(.01<Math.abs(la-ia)?ea&&(fa+=.0125):1E-4>Math.abs(ja-R)?K=ea&&fa<D||!ea&&fa>D?K-.0125:K+.0125:G=ea&&ja<R||!ea&&ja>R?G+.0125:G-.0125);r.push(oa,t(21600*((D-ga)*N+F)-10800),",",t(21600*((R-ha)*O+I)-10800),",",t(21600*((D+ga)*N+F)-10800),",",t(21600*((R+ha)*O+I)-10800),",",t(21600*(fa*N+F)-10800),",",t(21600*(ja*O+I)-10800),",",t(21600*(G*N+F)-10800),",",t(21600*(K*O+I)-10800));F=G;I=K;break;case h.R:G=L[0];K=L[1];G[0]=e[C++];G[1]=e[C++];K[0]=G[0]+e[C++];K[1]=G[1]+e[C++];f&&(y(G,G,f),y(K,K,f));G[0]=t(21600*G[0]-10800);K[0]=t(21600*K[0]-10800);G[1]=t(21600*G[1]-10800);K[1]=t(21600*K[1]-10800);r.push(" m ",G[0],",",G[1]," l ",K[0],",",G[1]," l ",K[0],",",K[1]," l ",G[0],",",K[1]);break;case h.Z:r.push(" x ")}if(0<v)for(r.push(B),B=0;B<v;B++)G=L[B],f&&y(G,G,f),r.push(t(21600*G[0]-10800),",",t(21600*G[1]-10800),B<v-1?",":"")}e=r.join("");d.path=e;c.style.zIndex=H(this.zlevel,this.z,this.z2);z(a,c);null!=b.text?this.drawRectText(a,this.getBoundingRect()):this.removeRectText(a)};c.prototype.onRemove=function(a){B(a,this._vmlEl);this.removeRectText(a)};c.prototype.onAdd=function(a){z(a,this._vmlEl);this.appendRectText(a)};d.prototype.brushVML=function(a){var b=this.style,c=b.image,d,e;if("object"===typeof c&&c.tagName&&"IMG"===c.tagName.toUpperCase()){var f=c.src;if(f===this._imageSrc)d=this._imageWidth,e=this._imageHeight;else{var g=c.runtimeStyle,h=g.width,l=g.height;g.width="auto";g.height="auto";d=c.width;e=c.height;g.width=h;g.height=l;this._imageSrc=f;this._imageWidth=d;this._imageHeight=e}c=f}else c===this._imageSrc&&(d=this._imageWidth,e=this._imageHeight);if(c){var m=b.x||0,n=b.y||0,p=b.width,q=b.height,r=b.sWidth,u=b.sHeight,g=b.sx||0,h=b.sy||0,l=r&&u,f=this._vmlEl;f||(f=k.doc.createElement("div"),E(f),this._vmlEl=f);var w=f.style,x=!1,B,C=1,D=1;this.transform&&(B=this.transform,C=A(B[0]*B[0]+B[1]*B[1]),D=A(B[2]*B[2]+B[3]*B[3]),x=B[1]||B[2]);if(x){var F=[m,n],G=[m+p,n],I=[m,n+q],J=[m+p,n+q];y(F,F,B);y(G,G,B);y(I,I,B);y(J,J,B);x=v(F[0],G[0],I[0],J[0]);F=v(F[1],G[1],I[1],J[1]);G=[];G.push("M11\x3d",B[0]/C,",","M12\x3d",B[2]/D,",","M21\x3d",B[1]/C,",","M22\x3d",B[3]/D,",","Dx\x3d",t(m*C+B[4]),",","Dy\x3d",t(n*D+B[5]));w.padding="0 "+t(x)+"px "+t(F)+"px 0";w.filter="progid:DXImageTransform.Microsoft.Matrix("+G.join("")+", SizingMethod\x3dclip)"}else B&&(m=m*C+B[4],n=n*D+B[5]),w.filter="",w.left=t(m)+"px",w.top=t(n)+"px";B=this._imageEl;m=this._cropEl;B||(this._imageEl=B=k.doc.createElement("div"));var K=B.style;if(l){if(d&&e)K.width=t(C*d*p/r)+"px",K.height=t(D*e*q/u)+"px";else{var L=new Image,N=this;L.onload=function(){L.onload=null;d=L.width;e=L.height;K.width=t(C*d*p/r)+"px";K.height=t(D*e*q/u)+"px";N._imageWidth=d;N._imageHeight=e;N._imageSrc=c};L.src=c}m||(m=k.doc.createElement("div"),m.style.overflow="hidden",this._cropEl=m);l=m.style;l.width=t((p+g*p/r)*C);l.height=t((q+h*q/u)*D);l.filter="progid:DXImageTransform.Microsoft.Matrix(Dx\x3d"+-g*p/r*C+",Dy\x3d"+-h*q/u*D+")";m.parentNode||f.appendChild(m);B.parentNode!=m&&m.appendChild(B)}else K.width=t(C*p)+"px",K.height=t(D*q)+"px",f.appendChild(B),m&&m.parentNode&&(f.removeChild(m),this._cropEl=null);B="";g=b.opacity;1>g&&(B+=".Alpha(opacity\x3d"+t(100*g)+") ");K.filter=B+("progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d"+c+", SizingMethod\x3dscale)");f.style.zIndex=H(this.zlevel,this.z,this.z2);z(a,f);null!=b.text&&this.drawRectText(a,this.getBoundingRect())}};d.prototype.onRemove=function(a){B(a,this._vmlEl);this._imageEl=this._cropEl=this._vmlEl=null;this.removeRectText(a)};d.prototype.onAdd=function(a){z(a,this._vmlEl);this.appendRectText(a)};var N={},O=0,K=document.createElement("div"),G;f.measureText=function(a,b){var c=k.doc;G||(G=c.createElement("div"),G.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",k.doc.body.appendChild(G));try{G.style.font=b}catch(d){}G.innerHTML="";G.appendChild(c.createTextNode(a));return{width:G.offsetWidth}};var R=new p;a=function(a,b,c,d){var g=this.style;this.__dirty&&e.normalizeTextStyle(g,!0);var h=g.text;null!=h&&(h+="");if(h){if(g.rich){for(var l=f.parseRichText(h,g),h=[],m=0;m<l.lines.length;m++){for(var n=l.lines[m].tokens,p=[],q=0;q<n.length;q++)p.push(n[q].text);h.push(p.join(""))}h=h.join("\n")}var n=g.textAlign,p=g.textVerticalAlign,r,l=g.font,m=N[l];if(!m){100<O&&(O=0,N={});m=K.style;try{m.font=l,r=m.fontFamily.split(",")[0]}catch(u){}m={style:m.fontStyle||"normal",variant:m.fontVariant||"normal",weight:m.fontWeight||"normal",size:parseFloat(m.fontSize||12)|0,family:r||"Microsoft YaHei"};N[l]=m;O++}r=m;r=r.style+" "+r.variant+" "+r.weight+" "+r.size+'px "'+r.family+'"';c=c||f.getBoundingRect(h,r,n,p);(l=this.transform)&&!d&&(R.copy(b),R.applyTransform(l),b=R);d?(m=b.x,b=b.y):(q=g.textPosition,m=g.textDistance,q instanceof Array?(m=b.x+F(q[0],b.width),b=b.y+F(q[1],b.height),n=n||"left"):(q=f.adjustTextPositionOnRect(q,b,m),m=q.x,b=q.y,n=n||q.textAlign,p=p||q.textVerticalAlign));m=f.adjustTextX(m,c.width,n);b=f.adjustTextY(b,c.height,p);b+=c.height/2;p=k.createNode;(c=this._textVmlEl)?(p=c.firstChild,q=p.nextSibling,n=q.nextSibling):(c=p("line"),q=p("path"),n=p("textpath"),p=p("skew"),n.style["v-text-align"]="left",E(c),q.textpathok=!0,n.on=!0,c.from="0 0",c.to="1000 0.05",z(c,p),z(c,q),z(c,n),this._textVmlEl=c);var q=[m,b],v=c.style;l&&d?(y(q,q,l),p.on=!0,p.matrix=l[0].toFixed(3)+","+l[2].toFixed(3)+","+l[1].toFixed(3)+","+l[3].toFixed(3)+",0,0",p.offset=(t(q[0])||0)+","+(t(q[1])||0),p.origin="0 0",v.left="0px",v.top="0px"):(p.on=!1,v.left=t(m)+"px",v.top=t(b)+"px");n.string=String(h).replace(/&/g,"\x26amp;").replace(/"/g,"\x26quot;");try{n.style.font=r}catch(u){}J(c,"fill",{fill:d?g.fill:g.textFill,opacity:g.opacity},this);J(c,"stroke",{stroke:d?g.stroke:g.textStroke,opacity:g.opacity,lineDash:g.lineDash},this);c.style.zIndex=H(this.zlevel,this.z,this.z2);z(a,c)}};m=function(a){B(a,this._textVmlEl);this._textVmlEl=null};p=function(a){z(a,this._textVmlEl)};n=[n,b,d,c,q];for(b=0;b<n.length;b++)d=n[b].prototype,d.drawRectText=a,d.removeRectText=m,d.appendRectText=p;q.prototype.brushVML=function(a){var b=this.style;null!=b.text?this.drawRectText(a,{x:b.x||0,y:b.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(a)};q.prototype.onRemove=function(a){this.removeRectText(a)};q.prototype.onAdd=function(a){this.appendRectText(a)}}},function(q,n,a){if(!a(2).canvasSupported){var m,p=window.document,h=!1;try{!p.namespaces.zrvml&&p.namespaces.add("zrvml","urn:schemas-microsoft-com:vml"),m=function(a){return p.createElement("\x3czrvml:"+a+' class\x3d"zrvml"\x3e')}}catch(l){m=function(a){return p.createElement("\x3c"+a+' xmlns\x3d"urn:schemas-microsoft-com:vml" class\x3d"zrvml"\x3e')}}q.exports={doc:p,initVML:function(){if(!h){h=!0;var a=p.styleSheets;31>a.length?p.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):a[0].addRule(".zrvml","behavior:url(#default#VML)")}},createNode:m}}},function(q,n,a){function m(a,b){l.initVML();this.root=a;this.storage=b;var d=document.createElement("div"),c=document.createElement("div");d.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";c.style.cssText="position:absolute;left:0;top:0;";a.appendChild(d);this._vmlRoot=c;this._vmlViewport=d;this.resize();var f=b.delFromStorage,h=b.addToStorage;b.delFromStorage=function(a){f.call(b,a);a&&a.onRemove&&a.onRemove(c)};b.addToStorage=function(a){a.onAdd&&a.onAdd(c);h.call(b,a)};this._firstPaint=!0}function p(a){return function(){h('In IE8.0 VML mode painter not support method "'+a+'"')}}var h=a(36),l=a(433);m.prototype={constructor:m,getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(){var a=this.storage.getDisplayList(!0,!0);this._paintList(a)},_paintList:function(a){for(var b=this._vmlRoot,d=0;d<a.length;d++){var c=a[d];if(c.invisible||c.ignore){if(!c.__alreadyNotVisible)c.onRemove(b);c.__alreadyNotVisible=!0}else{if(c.__alreadyNotVisible)c.onAdd(b);c.__alreadyNotVisible=!1;c.__dirty&&(c.beforeBrush&&c.beforeBrush(),(c.brushVML||c.brush).call(c,b),c.afterBrush&&c.afterBrush())}c.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(b),this._firstPaint=!1)},resize:function(a,b){a=null==a?this._getWidth():a;b=null==b?this._getHeight():b;if(this._width!=a||this._height!=b){this._width=a;this._height=b;var d=this._vmlViewport.style;d.width=a+"px";d.height=b+"px"}},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var a=this.root,b=a.currentStyle;return(a.clientWidth||parseInt(b.width,10))-parseInt(b.paddingLeft,10)-parseInt(b.paddingRight,10)|0},_getHeight:function(){var a=this.root,b=a.currentStyle;return(a.clientHeight||parseInt(b.height,10))-parseInt(b.paddingTop,10)-parseInt(b.paddingBottom,10)|0}};n="getLayer insertLayer eachLayer eachBuiltinLayer eachOtherLayer getLayers modLayer delLayer clearLayer toDataURL pathToImage".split(" ");for(a=0;a<n.length;a++){var f=n[a];m.prototype[f]=p(f)}q.exports=m}])});